{"autoexec":"{\"name\":\"autoexec\",\"readonly\":false,\"codemode\":\"true\",\"doc\":\"\\njs> vm.appname==\\\"jeforth.3hta\\\" [if] s\\\" Style for 3HTA on different computers with auto detect\\\" (run) [then]\\n\\n<comment>\\njs: outputbox.style.fontSize=\\\"1.5em\\\"\\ncr .( Launch the briefing ) cr\\n<o> <iframe src=\\\"http://note.youdao.com/share/?id=79f8bd1b7d0a6174ff52e700dbadd1b2&type=note\\\"\\nname=\\\"An introduction to jeforth.3ce\\\" align=\\\"center\\\" width=\\\"96%\\\" height=\\\"1000px\\\"\\nmarginwidth=\\\"1\\\" marginheight=\\\"1\\\" frameborder=\\\"1\\\" scrolling=\\\"Yes\\\"> </iframe></o> drop\\ncr cr \\n.( execute the 'list' command ) cr\\nlist\\n</comment>\",\"mode\":true}","Play with numeric.js":"{\"doc\":\"\\ncls \\n\\\\ Linear algebra example. We start with a matrix.\\n<js>\\nvar A = [[1,2,3],\\n         [4,5,6],\\n         [7,3,9]]; A </jsV> value A\\n\\n\\\\ Let's also make a vector.\\n<js> var x = [3,1,2]; x </jsV> value x\\n\\n\\\\ Matrix-vector product.  b = A (.) x\\n<js> var b = numeric.dot(vm.g.A,vm.g.x); b </jsV> value b b (see)\\n\\n\\\\ Matrix inverse.  ~A \\n<js> var Ainv = numeric.inv(vm.g.A); Ainv </jsV> value Ainv \\nAinv (see)\\n\\n\\\\ Let's check it:   ~A (.) b = x Bingo!!!!\\n<js> numeric.dot(vm.g.Ainv,vm.g.b); </jsV> (see)\\n\\n\\\\ Determinant\\n<js> numeric.det(vm.g.A); </jsV> cr tib. \\n\\n\\\\ Sin wave\\n<js> var x = numeric.linspace(0,6.3,25); x </jsV> to x x (see)\\n\\n<js> var y = numeric.sin(vm.g.x); y </jsV> value y y (see)\\n\\n\\n\\n\\nstop\\njs> numeric tib.\\n\\nstop\\njs> vm.appname==\\\"jeforth.3hta\\\" [if] char js/numeric-1.2.6.js\\n[else] char http://www.numericjs.com/lib/numeric-1.2.6.js [then]\\nreadTextFile \\\\ 先讀取 .js 檔, 但不能直接用\\n<text> \\nwindow.numeric = numeric;  // 先對 source 做一點必要的加工, 把 numeric 掛上 global \\n</text> + </js> \\\\ 然後才執行\\t\\n\\nstop\\n\\\\ Also hosted on BootCDN.cn\\n\\\\ http://cdn.bootcss.com/numeric/1.2.6/numeric.js\\n\\n\\\\ These lines works fine! Test ok on 3ce, 3hta ADO reads only local files\\n\\\\ so the path should be only \\\"js/numeric-1.2.6.js\\\",\\n\\nchar     http://localhost:8888/js/numeric-1.2.6.js     readTextFile tib.\\nchar http://www.numericjs.com/lib/numeric-1.2.6.js     readTextFile tib.\\nchar http://www.numericjs.com/lib/numeric-1.2.6.min.js readTextFile tib.\\n\\n\\n\",\"mode\":true,\"readonly\":false}","用 currentStyle 查 HTML element 的 style":"{\"doc\":\"\\n<h4>* Chrome browser does not have currentStyle property, IE and HTA only</h4><p><p><p><p><p><p>&gt; <strong>js&gt; outputbox.currentStyle .<br>[object MSCurrentStyleCSSProperties]</strong> OK <br>&gt; js&gt; outputbox.currentStyle obj&gt;keys .<br>blockDirection,clipBottom,clipLeft,clipRight,clipTop,hasLayout,accelerator,backgroundPositionX,backgroundPositionY,behavior,filter,imeMode,layoutFlow,layoutGrid,layoutGridChar,layoutGridLine,layoutGridMode,layoutGridType,lineBreak,msBlockProgression,msInterpolationMode,scrollbar3dLightColor,scrollbarArrowColor,scrollbarBaseColor,scrollbarDarkShadowColor,scrollbarFaceColor,scrollbarHighlightColor,scrollbarShadowColor,scrollbarTrackColor,styleFloat,textAutospace,textJustifyTrim,textKashida,textKashidaSpace,writingMode,zoom,getAttribute,removeAttribute,setAttribute,alignmentBaseline,background,backgroundAttachment,backgroundClip,backgroundColor,backgroundImage,backgroundOrigin,backgroundPosition,backgroundRepeat,backgroundSize,baselineShift,border,borderBottom,borderBottomColor,borderBottomLeftRadius,borderBottomRightRadius,borderBottomStyle,borderBottomWidth,borderCollapse,borderColor,borderLeft,borderLeftColor,borderLeftStyle,borderLeftWidth,borderRadius,borderRight,borderRightColor,borderRightStyle,borderRightWidth,borderSpacing,borderStyle,borderTop,borderTopColor,borderTopLeftRadius,borderTopRightRadius,borderTopStyle,borderTopWidth,borderWidth,bottom,boxShadow,boxSizing,captionSide,clear,clip,clipPath,clipRule,color,content,counterIncrement,counterReset,cssFloat,cssText,cursor,direction,display,dominantBaseline,emptyCells,fill,fillOpacity,fillRule,font,fontFamily,fontSize,fontSizeAdjust,fontStretch,fontStyle,fontVariant,fontWeight,glyphOrientationHorizontal,glyphOrientationVertical,height,kerning,left,length,letterSpacing,lineHeight,listStyle,listStyleImage,listStylePosition,listStyleType,margin,marginBottom,marginLeft,marginRight,marginTop,marker,markerEnd,markerMid,markerStart,mask,maxHeight,maxWidth,minHeight,minWidth,msTransform,msTransformOrigin,opacity,orphans,outline,outlineColor,outlineStyle,outlineWidth,overflow,overflowX,overflowY,padding,paddingBottom,paddingLeft,paddingRight,paddingTop,pageBreakAfter,pageBreakBefore,pageBreakInside,parentRule,pointerEvents,position,quotes,right,rubyAlign,rubyOverhang,rubyPosition,stopColor,stopOpacity,stroke,strokeDasharray,strokeDashoffset,strokeLinecap,strokeLinejoin,strokeMiterlimit,strokeOpacity,strokeWidth,tableLayout,textAlign,textAlignLast,textAnchor,textDecoration,textIndent,textJustify,textOverflow,textTransform,textUnderlinePosition,top,unicodeBidi,verticalAlign,visibility,whiteSpace,widows,width,wordBreak,wordSpacing,wordWrap,zIndex,getPropertyPriority,getPropertyValue,item,removeProperty,setProperty OK <br>&gt; js&gt; outputbox.currentStyle.cssText .&nbsp; \\\\ 沒這東西<br> OK <br>&gt; js&gt; outputbox.currentStyle.backgroundColor . \\\\ Style 的 attribute 都有<br>#f0f0f0 OK&nbsp; <br>&gt; js&gt; outputbox.currentStyle.backgroundColor=\\\"#808080\\\" \\\\ 不能改動<br>JavaScript error : NoModificationAllowedError<br>OK <br>&gt; js&gt; outputbox.currentStyle.fontSize .<br>1em OK&nbsp;&nbsp;&nbsp;&nbsp; </p></p></p><p><p><p>&nbsp;</p></p></p></p><p><p><p><p>&nbsp;</p></p></p></p></p><p><p><p><p><p><br>&nbsp;</p></p></p></p></p></p><p><p><p><p><p><p><br>&nbsp;</p></p><p><p>如果用 HTML 標準的 style property 則經常看不到東西, 因為 style 是層層噴塗上去的, 光看自己這一層不一定有東西。<br></p></p></p></p></p></p>\",\"mode\":false,\"readonly\":false}","pruning":"{\"doc\":\"\\\\ Make the target page editable for pruning. 把 target page 搞成 editable 以便修剪。\\nactive-tab :> id tabid! <ce> document.getElementsByTagName(\\\"body\\\")[0].contentEditable=true </ce>\\n\",\"mode\":true,\"readonly\":false}","lab":"{\"doc\":\"\\n<h3>如何用 jeforth.3ce 透過股號查出股名 2016-08-18</h3><br>透過 tabs.query 從 Chrome Browser 現有 tabs 中撈出某幾個, 得到他們的 <br>Chrome Extension tab object in an array。\\n<div>&gt;&nbsp;help&nbsp;tabs.query<br><br>---------&nbsp;ce.f&nbsp;(1&nbsp;words)&nbsp;---------<br><style id=\\\"help_words\\\">\\n\\t\\t\\t\\t\\t\\t\\t.help_words table, .help_words td , .help_words th, .help_words caption {\\n\\t\\t\\t\\t\\t\\t\\t\\tpadding:8px;\\n\\t\\t\\t\\t\\t\\t\\t\\tborder-collapse: collapse;\\n\\t\\t\\t\\t\\t\\t\\t\\tborder: 2px solid #F0F0F0;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t.help_words tr {background: #E8E8FF}\\n\\t\\t\\t\\t\\t\\t\\t.help_words tr:nth-child(1) {background: #D0D0FF}\\n\\t\\t\\t\\t\\t\\t</style><table class=\\\"help_words\\\" style=\\\"width: 90%;\\\">\\n\\t\\t\\t\\t\\t<tbody><tr>\\n\\t\\t\\t\\t\\t  <td style=\\\"width: 200px;\\\"><b>tabs.query</b></td><td colSpan=\\\"4\\\"><b>(&nbsp;{title:\\\"*anual*\\\"}&nbsp;--&nbsp;array&nbsp;)&nbsp;Get&nbsp;an&nbsp;array&nbsp;of&nbsp;tabs&nbsp;that&nbsp;match&nbsp;the&nbsp;given&nbsp;hash.</b>\\n\\t\\t\\t\\t\\t  [colon][ce.f][][]</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t<tr><td colSpan=\\\"5\\\">&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;input&nbsp;is&nbsp;a&nbsp;hash&nbsp;table,&nbsp;like&nbsp;:<br>&nbsp;&nbsp;&nbsp;&nbsp;{}&nbsp;tabs.query&nbsp;--&nbsp;get&nbsp;all&nbsp;tabs.<br>&nbsp;&nbsp;&nbsp;&nbsp;js:&nbsp;push({active:true})&nbsp;tabs.query&nbsp;--&nbsp;get&nbsp;active&nbsp;tabs&nbsp;of&nbsp;every&nbsp;window.<br>&nbsp;&nbsp;&nbsp;&nbsp;js:&nbsp;push({title:\\\"*anual*\\\"})&nbsp;tabs.query&nbsp;--&nbsp;title&nbsp;pattern&nbsp;supports&nbsp;wildcard&nbsp;character&nbsp;'*'.<br>&nbsp;&nbsp;&nbsp;&nbsp;js:&nbsp;push({url:\\\"http:/*\\\"})&nbsp;tabs.query&nbsp;--&nbsp;url&nbsp;pattern&nbsp;supports&nbsp;wildcard&nbsp;too.<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;scheme&gt;://&lt;host&gt;&lt;path&gt;&nbsp;see&nbsp;http://chrome-apps-doc2.appspot.com/trunk/extensions/match_patterns.html<br>&nbsp;&nbsp;&nbsp;&nbsp;Should&nbsp;return&nbsp;an&nbsp;array,&nbsp;'undefined'&nbsp;indicates&nbsp;invalid&nbsp;pattern.<br></td></tr>\\n\\t\\t\\t\\t\\t</tbody></table><br>&gt;&nbsp;js&gt; ({title:\\\"*2002*\\\"})&nbsp;tabs.query&nbsp;.s<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0:&nbsp;[object&nbsp;Object]&nbsp;(array)<br><br>&gt;&nbsp;dup&nbsp;:&gt;&nbsp;length&nbsp;. \\\\ ==&gt;&nbsp;1&nbsp;OK&nbsp;<br>&gt;&nbsp;dup&nbsp;(see)<br>[<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"active\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"audible\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"height\\\":&nbsp;775,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"highlighted\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"id\\\":&nbsp;312,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"incognito\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"index\\\":&nbsp;2,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"mutedInfo\\\":&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"muted\\\":&nbsp;false<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"pinned\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"selected\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"status\\\":&nbsp;\\\"complete\\\",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>\\\"title\\\":&nbsp;\\\"(2002)&nbsp;中鋼&nbsp;個股基本資料&nbsp;-&nbsp;Goodinfo!台灣股市資訊網\\\"</b>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\\\"font-size: 0.6em;\\\">\\\"url\\\":&nbsp;\\\"http://goodinfo.tw/StockInfo/BasicInfo.asp?STOCK_ID=2002\\\",</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"width\\\":&nbsp;1440,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"windowId\\\":&nbsp;1<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>]&nbsp;OK&nbsp;<br>&gt;&nbsp;js&gt; ({title:\\\"*6143*\\\"})&nbsp;tabs.query<br>&gt;&nbsp;.s<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0:&nbsp;[object&nbsp;Object]&nbsp;(array)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:&nbsp;[object&nbsp;Object]&nbsp;(array)<br>&gt;&nbsp;dup&nbsp;(see)<br>[<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"active\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"audible\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"height\\\":&nbsp;775,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"highlighted\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"id\\\":&nbsp;354,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"incognito\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"index\\\":&nbsp;3,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"mutedInfo\\\":&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"muted\\\":&nbsp;false<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"openerTabId\\\":&nbsp;312,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"pinned\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"selected\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"status\\\":&nbsp;\\\"complete\\\",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"title\\\":&nbsp;\\\"<b>(6143)&nbsp;振曜&nbsp;</b>個股基本資料&nbsp;-&nbsp;Goodinfo!台灣股市資訊網\\\",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"url\\\":&nbsp;<span style=\\\"font-size: 0.6em;\\\">\\\"http://goodinfo.tw/StockInfo/BasicInfo.asp?STOCK_ID=6143\\\"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"width\\\":&nbsp;1440,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"windowId\\\":&nbsp;1<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>]&nbsp;OK&nbsp;<br><br></div>\\n如此看來, 只需要用到 Chrome Extension tab object 就可以查出股名了!!<br><span style=\\\"font-size: 16px;\\\"><br>&gt; &lt;text&gt;&nbsp;(2002)&nbsp;中鋼&nbsp;個股基本資料&nbsp;-&nbsp;Goodinfo!台灣股市資訊網\\\" &lt;/text&gt;&nbsp;trim <br>:&gt;&nbsp;match(/\\\\((\\\\d+)\\\\)\\\\s(\\\\S+)\\\\s/)&nbsp;:&gt;&nbsp;[2]&nbsp;tib.&nbsp;\\\\&nbsp;==&gt;&nbsp;中鋼&nbsp;(string)<br><br></span><span style=\\\"font-size: 22.5px;\\\">&gt; .s<br>0</span><span style=\\\"font-size: 22.5px;\\\">:</span><span style=\\\"font-size: 22.5px;\\\">&nbsp;</span><span style=\\\"font-size: 22.5px;\\\">(2002)&nbsp;中鋼&nbsp;,2002,中鋼</span><span style=\\\"font-size: 22.5px;\\\">&nbsp;(array)<br></span><br>整合以上, one-liner that gets stock name through stock ID as shown below:<br><br>&gt; 2002 js&gt; ({title:\\\"*\\\"+pop()+\\\"*\\\"}) tabs.query :&gt; [0].title trim :&gt; match(/\\\\((\\\\d+)\\\\)\\\\s(\\\\S+)\\\\s/) :&gt; [2] tib.<br><br>Do I need to close a window? 3ce can't close() a window unless those were opened by it. That means YES we can close tabs that were opened by 3ce.<div>&gt; &lt;js&gt; chrome.tabs.executeScript(<br>&nbsp; &nbsp; 207,<br>&nbsp; &nbsp; {code:'window.close()'},<br>&nbsp; &nbsp; function(result){push(result)}<br>&nbsp; )<br>&nbsp; &lt;/js&gt;<br>Error message : Scripts may close only the windows that were opened by it.<br></div> -- <br>[ ] I need to know how 3ce to refresh a web page.<br>&nbsp; &nbsp; --&gt; see log/Log of TR.html &gt;&nbsp;Refresh_the_target_page command of 3ce<br>&nbsp; &nbsp; --&gt; or see private/dividend.f for the same command.<br><br><b>Ok now, this is the lab</b><br><textarea rows=\\\"30\\\">\\\\ see also field \\\"如何用 jeforth.3ce 透過股號查出股名 2016-08-18\\\"\\n\\n: old-open-web-page ( url -- tabid ) \\\\ Read web page and return tabid before complete loading\\n( \\\"url\\\" ) js&gt; ({url:tos()}) tabs.query ( url [tabs] )\\njs&gt; tos().length&gt;=1 if else  \\n    drop ( url )\\n    js: window.open(tos()) \\\\ 想取得該 tab 的 window object? No way! 別想了。\\n    begin ( url )\\n        js&gt; ({url:tos()}) tabs.query ( url [tabs] ) \\n        500 nap js&gt; tos().length&gt;=1 ( url [tabs] flag )\\n        if true ( url [tabs] true ) else drop false ( url false ) then\\n    until ( url [tabs] )\\nthen nip js&gt; pop()[0].id ;\\n\\n: 個股基本資料 ( stockid -- tabid ) \\\\ Open web GoodInfo page, return tabid before complete\\ntrim s\\\" http://goodinfo.tw/StockInfo/BasicInfo.asp?STOCK_ID=\\\" ( stockid url )\\nswap + ( url ) open-web-page ;\\n\\n: get-stock-name ( stockid -- stockname ) \\\\ Get stock name through goodinfo web site before complete\\n個股基本資料 ( tabid ) \\nbegin ( tabid )\\ndup tabs.get\\n:&gt; title trim  ( tabid title ) \\ndup :&gt; match(/\\\\((\\\\d+)\\\\)\\\\s(\\\\S+)\\\\s/)  ( tabid title [matchs] ) \\njs&gt; tos()==null while  ( tabid title [matchs] ) \\n2drop ( tabid ) 100 nap \\nrepeat  ( tabid title [matchs] ) \\nnip nip :&gt; [2] ;\\n\\n\\\\ ------------------------------------------------\\n&lt;comment&gt;\\n[x] 當 goodinfo 網頁花很久讀不進來時, 會有以下錯誤發生。照說要等整頁讀完才會繼續 \\n    &lt;-- 錯!不是這樣設計的。\\n    &gt; 2002 get-stock-name .\\n    JavaScript error on word \\\"stopSleeping\\\" : Cannot read property '2' of null\\n    等網頁都 complete 再試, 就很成功:\\n    &gt; 2002 get-stock-name .\\n    中鋼 OK \\n\\n[x] 設計大量實驗 stock id &gt; stock name \\n    3231 個股基本資料 dup ( tabid tabid ) tabs.get \\n    :&gt; title trim \\n    :&gt; match(/\\\\((\\\\d+)\\\\)\\\\s(\\\\S+)\\\\s/) :&gt; [2] \\n    . cr \\n    \\\\ Close the window to avoid open too many of them\\n    &lt;js&gt; chrome.tabs.executeScript(\\n        pop(),\\n        {code:'window.close()'},\\n        function(result){push(result)}\\n      )\\n    &lt;/js&gt;\\n    --&gt; This problem does not need long run, it happen in just a few\\n        tries.\\n\\n[x] tabs that were opened by open-web-page can be closed by this way\\n    tabid &lt;js&gt; chrome.tabs.executeScript(\\n        pop(),\\n        {code:'window.close()'},\\n        function(result){push(result)}\\n      )\\n    &lt;/js&gt;\\n\\n[x] 由以下實驗發現, 網頁的 title 一開始是 url 本身, 到某階段後\\n    才會變成網頁設定的 title。想要不等到整頁都 load completed \\n    就拿到 stockname 直接檢查 tab :&gt; title 證實可行。\\n        &gt; dropall run&gt;\\n        stockids :&gt; length for\\n        r@ stockids :&gt; [pop()-1]\\n        個股基本資料 ( tabid )\\n        tabs.get :&gt; title ( title )\\n        . cr\\n        next\\n    goodinfo.tw/StockInfo/BasicInfo.asp?STOCK_ID=6234\\n    goodinfo.tw/StockInfo/BasicInfo.asp?STOCK_ID=911619\\n    goodinfo.tw/StockInfo/BasicInfo.asp?STOCK_ID=5514\\n    (6431) 光麗-KY 個股基本資料 - Goodinfo!台灣股市資訊網\\n    goodinfo.tw/StockInfo/BasicInfo.asp?STOCK_ID=4930\\n    goodinfo.tw/StockInfo/BasicInfo.asp?STOCK_ID=910861\\n\\n[x] Ok now, see the code below. A loop with nap in get-stock-name \\n    has fixed the problem.\\n    js&gt; ([910861,4930,6431,5514,911619,6234])\\n    constant stockids // ( -- array ) Stock ID array\\n    dropall run&gt; \\n    stockids :&gt; length for\\n        r@ stockids :&gt; [pop()-1] dup . space get-stock-name . cr\\n    next\\n\\n[ ] how to focus back to the jeforth.3ce tab? \\n    --&gt; I remember my older design of 3ce attach gives a few seconds to allow\\n        the user to select a tab of Chrome browser. When click ok on a popup\\n        confirm box, then switch to 3ce extension page automatically.\\n        How did I do that? \\n    [ ] We can't switch tabs\\n          http://stackoverflow.com/questions/4123950/\\n          javascript-how-to-make-a-browser-switch-tabs\\n    [ ] But we can open url in a background tab of Chrome browser\\n          http://stackoverflow.com/questions/6897430/\\n          prevent-window-open-from-focusing\\n        Bingo!! js: chrome.tabs.create({url:\\\"http://ibm.com\\\",selected:false})\\n    --&gt; Open new tab to background, close them as jobs done. Not need to switch\\n        tab. All I can do now.\\n\\n[ ] Use Chrome extension tabs.create() is the best way so far!!\\n    dropall run&gt; \\n    js: chrome.tabs.create({url:\\\"http://ibm.com\\\",active:false},function(tab){push(tab)}) \\n    begin 100 nap depth until \\n    (see) \\\\ the Chrome extension tab object\\n\\n[ ] use the chrome.tabs.create() to redesign \\\"open-web-page\\\" command\\n: open-web-page ( url -- tabid ) \\\\ Read web page and return tabid before complete loading\\n( \\\"url\\\" ) js&gt; ({url:tos()}) tabs.query ( url [tabs] )\\njs&gt; tos().length&gt;=1 if else  \\n    drop ( url )\\n    &lt;js&gt; chrome.tabs.create(\\n        {url:\\\"http://ibm.com\\\",active:false}\\n        // ,function(tab){push(tab)} 從這裡可以取得 tabid 但時機不對。\\n    ) &lt;/js&gt; ( tabid )\\n    \\\\ 想取得該 tab 的 window object? No way! 別想了。\\n    begin ( url )\\n        js&gt; ({url:tos()}) tabs.query ( url [tabs] ) \\n        500 nap js&gt; tos().length&gt;=1 ( url [tabs] flag )\\n        if true ( url [tabs] true ) else drop false ( url false ) then\\n    until ( url [tabs] )\\nthen nip js&gt; pop()[0].id ;\\n\\n[ ] 3ce tabs.query 有可能傳回 [[obj], [], undefined] 研究清楚。 \\n    url 亂寫或差太多就會傳回 undefined, 只差最後一個 / 就會傳回 [], 完全一樣才會傳回 array &lt;--- 暫時理解\\n\\n: open-web-page ( url -- tabid ) \\\\ Read web page and return tabid before complete loading\\n\\t( \\\"url\\\" ) js&gt; ({url:tos()}) tabs.query ( url [tabs] )\\n\\tjs&gt; tos().length&gt;=1 if else  \\n\\t\\tdrop ( url )\\n\\t\\t&lt;js&gt; chrome.tabs.create(\\n\\t\\t\\t{url:\\\"http://ibm.com\\\",active:false},\\n\\t\\t\\tfunction(tab){push(tab);execute('stopSleeping')}  \\n\\t\\t\\t// 想取得該 tab 的 window object? No way! 別想了。\\n\\t\\t) &lt;/js&gt; ( tabid ) 10000 sleep  \\\\ 等 10 秒\\n\\t\\tbegin ( url )\\n\\t\\t\\tjs&gt; ({url:tos()}) tabs.query ( url [tabs] ) \\n\\t\\t\\t500 nap js&gt; tos().length&gt;=1 ( url [tabs] flag )\\n\\t\\t\\tif true ( url [tabs] true ) else drop false ( url false ) then\\n\\t\\tuntil ( url [tabs] )\\n\\tthen nip js&gt; pop()[0].id ;\\n\\n\\n&lt;/comment&gt;</textarea>\\n\",\"mode\":false,\"readonly\":false}","ad":"{\"name\":\"ad\",\"readonly\":false,\"codemode\":\"true\",\"doc\":\"\\\\ Remove all annoying floating ad boxes. 刪除所有惱人的廣告框。\\nactive-tab :> id tabid! <ce>\\nvar divs = document.getElementsByTagName(\\\"div\\\");\\nfor (var i=divs.length-1; i>=0; i--){\\n  if(divs[i].style.position){\\n    divs[i].parentNode.removeChild(divs[i]);\\n  }\\n}\\nfor (var i=divs.length-1; i>=0; i--){\\n  if(parseInt(divs[i].style.width)<600){ // <---- 任意修改\\n    divs[i].parentNode.removeChild(divs[i]);\\n  }\\n}\\n</ce>\\n\",\"mode\":true}","Style for 3HTA on different computers with auto detect":"{\"doc\":\"char %computername% env@ char DESKTOP-Q4DUVFG === [if] ( is my desktop at home )\\n    <o> <h3> Style for desktop at home 3HTA</h3></o> drop\\n    js: outputbox.style.fontSize=\\\"1.5em\\\"\\n    js: inputbox.style.fontSize=\\\"1.5em\\\"\\n    editbox-style <text>\\n    .eb .box { width:90%; font-size:1.1em; /* filename */ } \\n    .eb .box, .eb .ebhtmlarea { border:1px solid black; }\\n    .eb .ebtextarea { font-size:1.2em }\\n    .eb input { font-size:0.7em /* buttons */ }\\n    .eb p { display:inline; }\\n    .eb .ebname { font-size: 1em; } /* field name */\\n    </text> js: $(\\\"#ebstyle\\\")[0].innerHTML=pop() \\\\ 直接修改 ebstyle \\n[then]\\n\\nchar %computername% env@ char WKS-31ENA852 === [if] ( X1 Yoga OA notebook )\\n    <o> <h3> Style for OA X1 Yoga</h3></o> drop\\n    js: outputbox.style.fontSize=\\\"1em\\\"\\n    js: inputbox.style.fontSize=\\\"1em\\\"\\n    editbox-style <text>\\n    .eb .box { width:90%; font-size:1.5em; /* filename */ } \\n    .eb .box, .eb .ebhtmlarea { border:1px solid black; }\\n    .eb .ebtextarea { font-size:1.5em }\\n    .eb input { font-size:0.7em /* buttons */ }\\n    .eb p { display:inline; }\\n    .eb .ebname { font-size: 1em; } /* field name */\\n    </text> js: $(\\\"#ebstyle\\\")[0].innerHTML=pop() \\\\ 直接修改 ebstyle \\n[then]\\n\\nchar %computername% env@ char WKS-4AEN0404 === [if] ( T550 OA notebook )\\n    <o> <h3> Style for OA T550</h3></o> drop\\n    js: outputbox.style.fontSize=\\\"1.5em\\\"\\n    js: inputbox.style.fontSize=\\\"1.5em\\\"\\n    editbox-style <text>\\n    .eb .box { width:90%; font-size:1.2em; /* filename */ } \\n    .eb .box, .eb .ebhtmlarea { border:1px solid black; }\\n    .eb .ebtextarea { font-size:1.2em }\\n    .eb input { font-size:0.7em /* buttons */ }\\n    .eb p { display:inline; }\\n    .eb .ebname { font-size: 0.8em; } /* field name */\\n    </text> js: $(\\\"#ebstyle\\\")[0].innerHTML=pop() \\\\ 直接修改 ebstyle \\n[then]\\n\\ncr\\n\",\"mode\":true,\"readonly\":false}","Log 2016-08-16":"{\"doc\":\"[x] How to edit log/archive.json ?\\n    1. open it in any Web based jeforth.3we application, 3ce is good.\\n       cls dump log/archive.json\\n    2. edit the target field edit box and save, the field appears \\n       in localStorage now\\n    3. export --> export entire localStorage to a textarea\\n    4. edit the exported string by Notepad++\\n    5. Use Notepad++ plugin JSTool/JSFormat to make it easier to read\\n    6. Find the target field line. Copy it.\\n    7. Paste the line to log/archive.json\\n    8. check it out by : dump log/archive.json\\n    9. Delet the target field in localStorge through edit box [Delete] button.\\n   10. -- The End --\\n\\n[ ] Youtube presentation of numeric.js\\n[ ] 準備 release master 新版, search \\\"kvm.minor_version\\\"\\n    全部加 200 代表 GitHub master release 的版號。\\n    [x] jeforth.3nd.js --> version 2 -> 202\\n    [x] jeforth.3nw.html, /package.json -> version 22 -> 222\\n    [x] jeforth.3htm.js --> to be version 2 now -> 202\\n    [x] jeforth.3ce.js(3ce extension pages)-> 202\\n    [x] jeforth.3ce, ce.f(Target page) -> 202\\n    [x] jeforth.3ce, background.js -> 202\\n    [x] jeforth.hta --> <HTA> tag. to be version 3 now -> 203 \\n    [ ] GitHub read me should feature the published 3ce Chrome extension.\\n    [ ] README.md 上的 demo 也要改寫好一點。最好能有浮動 console3we 框。\\n        --> 先把結構改好, link 出去的內容先弄成 under constructing. 日起有功,穩步推進。\\n\\n[x] 這行會出問題, \\\\ 帶頭的 command 裡的 ( ... ) 造成的!!\\n    : is-editbox-field? ( obj -- boolean ) \\\\ Is the object ( probably from localStorage ) an edit box article?\\n    改這樣就好了:\\n    : is-editbox-field? ( obj -- boolean ) \\\\ Is the object (probably from localStorage) an edit box article?\\n    SRP:\\n    s\\\" ( foo -- bar ) foo ( bar ) \\\" parse-help .s\\n    --> 發現只要在 parse-help 裡把分離出 stack diagram 的 match 弄成 non-greedy 亦即\\n        加個 ? 就好了。\\n[x] ls.f redefined \\\"(dump)\\\" and \\\"dump\\\" while see used \\\"(dump)\\\" that is called by\\n    name! That puts \\\"see\\\" in trouble. Solution is letting \\\"see\\\" to call \\\"(dump)\\\"\\n    by reference instead of by name. Same risk on jeforth.f \\\"be\\\" and \\\"bp\\\" have\\n    been modified to be call-by-reference. Some other cases that are also call\\n    -by-name but those names do not look like being reused so I don't worry.\\n\\n[x] 整頓 editor.f 剔除一些可以被 ls.f 取代的命令, 只剩下 Hyper Text Editor Alt-F2 這\\n    部分, 其他的 log.save log.open 直接把 outputbox 當成 editor 不要了; tr 也不要了。\\n    [x] HTE's [bigger][smaller] buttons are covered by {F10}{F9}, so \\n        remove them.\\n    [x] 保存舊的 editor.f , [x] 改名成 hte.f 或者 [/] 併入 html5.f 哪個好?\\n        --> try 併入 html5.f ... 不行, 有用到 unindent.f \\n    [x] old editor.f code saved to archive.json\\n[ ] 3ce target page 裡, 功能少很多。 hte.f load 不進來。\\n    --> target page does not have all the console3we features, I remember\\n        that's normal, isn't it? Use 3ce page instead while 3ce page have all\\n        the features. Press {F7} instead of {Enter} to execute the inputbox\\n        TIB on the target page, or s\\\" command line\\\" (dictate) does the same\\n        thing, or use <ce> ... </ce> to run javascript code on the target page.\\n[x] Why this line doesn't return the expected object?\\n        > js> {title:\\\"*2002\\\"} \\\\ <== 如今已知 object 整個要用圓括號包起來才行\\n    Root cause: \\n        js> ({title標籤不需引號:\\\"<-這兩個引號必須->\\\"}) ( 外框的原括號必須 ) (see)\\n\\n[ ] > words tab -n\\n\\n-------- forth (1 words) --------\\n{Tab} \\n-------- unindent.f (3 words) --------\\ntab-spaces (^tab>spaces) ^tab>spaces \\n-------- editor.f (2 words) --------\\ntextarea.editable tr.table \\n-------- ce.f (12 words) --------\\nopen-3ce-tab tabs.getCurrent myTabId tabs.query list-tabs tabid tabid! tabs.get tabs.select message->tabid first-tab active-tab \\n\\nlog.save canceled, lastrecalled and log.length-1 mismatch!\\n\\nlog.save canceled, lastrecalled and log.length-1 mismatch!\\n\\n\\n[x] how to change 3ce tab's web page title?\\n    --> js: $(\\\"title\\\")[0].innerHTML=\\\"3ce\\\"  works\\n    --> tabid tabs.get :: title=\\\"3ce\\\" does not work, it's readonly I guess.\\n    --> don't remember how to chnage *any* tab's title?\\n        use 3ce attach to it and do the samething?\\n[x] make sure if run: can be used in ~.f files --> Yes, it works fine in ~.f file\\n    -- test.f --\\n    run: cr 1 if .\\\" True\\\" else .\\\" False\\\" then cr  10 for r@ . space next cr \\n    ------------\\n\",\"mode\":true,\"readonly\":false}"}