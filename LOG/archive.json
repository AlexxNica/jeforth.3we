{
	"[Closed] 用 currentStyle 查 HTML element 的 style" : "{\"doc\":\"\\n<h4>* Chrome browser does not have currentStyle property, IE and HTA only</h4><p><p><p><p><p><p>&gt; <strong>js&gt; outputbox.currentStyle .<br>[object MSCurrentStyleCSSProperties]</strong> OK <br>&gt; js&gt; outputbox.currentStyle obj&gt;keys .<br>blockDirection,clipBottom,clipLeft,clipRight,clipTop,hasLayout,accelerator,backgroundPositionX,backgroundPositionY,behavior,filter,imeMode,layoutFlow,layoutGrid,layoutGridChar,layoutGridLine,layoutGridMode,layoutGridType,lineBreak,msBlockProgression,msInterpolationMode,scrollbar3dLightColor,scrollbarArrowColor,scrollbarBaseColor,scrollbarDarkShadowColor,scrollbarFaceColor,scrollbarHighlightColor,scrollbarShadowColor,scrollbarTrackColor,styleFloat,textAutospace,textJustifyTrim,textKashida,textKashidaSpace,writingMode,zoom,getAttribute,removeAttribute,setAttribute,alignmentBaseline,background,backgroundAttachment,backgroundClip,backgroundColor,backgroundImage,backgroundOrigin,backgroundPosition,backgroundRepeat,backgroundSize,baselineShift,border,borderBottom,borderBottomColor,borderBottomLeftRadius,borderBottomRightRadius,borderBottomStyle,borderBottomWidth,borderCollapse,borderColor,borderLeft,borderLeftColor,borderLeftStyle,borderLeftWidth,borderRadius,borderRight,borderRightColor,borderRightStyle,borderRightWidth,borderSpacing,borderStyle,borderTop,borderTopColor,borderTopLeftRadius,borderTopRightRadius,borderTopStyle,borderTopWidth,borderWidth,bottom,boxShadow,boxSizing,captionSide,clear,clip,clipPath,clipRule,color,content,counterIncrement,counterReset,cssFloat,cssText,cursor,direction,display,dominantBaseline,emptyCells,fill,fillOpacity,fillRule,font,fontFamily,fontSize,fontSizeAdjust,fontStretch,fontStyle,fontVariant,fontWeight,glyphOrientationHorizontal,glyphOrientationVertical,height,kerning,left,length,letterSpacing,lineHeight,listStyle,listStyleImage,listStylePosition,listStyleType,margin,marginBottom,marginLeft,marginRight,marginTop,marker,markerEnd,markerMid,markerStart,mask,maxHeight,maxWidth,minHeight,minWidth,msTransform,msTransformOrigin,opacity,orphans,outline,outlineColor,outlineStyle,outlineWidth,overflow,overflowX,overflowY,padding,paddingBottom,paddingLeft,paddingRight,paddingTop,pageBreakAfter,pageBreakBefore,pageBreakInside,parentRule,pointerEvents,position,quotes,right,rubyAlign,rubyOverhang,rubyPosition,stopColor,stopOpacity,stroke,strokeDasharray,strokeDashoffset,strokeLinecap,strokeLinejoin,strokeMiterlimit,strokeOpacity,strokeWidth,tableLayout,textAlign,textAlignLast,textAnchor,textDecoration,textIndent,textJustify,textOverflow,textTransform,textUnderlinePosition,top,unicodeBidi,verticalAlign,visibility,whiteSpace,widows,width,wordBreak,wordSpacing,wordWrap,zIndex,getPropertyPriority,getPropertyValue,item,removeProperty,setProperty OK <br>&gt; js&gt; outputbox.currentStyle.cssText .&nbsp; \\\\ 沒這東西<br> OK <br>&gt; js&gt; outputbox.currentStyle.backgroundColor . \\\\ Style 的 attribute 都有<br>#f0f0f0 OK&nbsp; <br>&gt; js&gt; outputbox.currentStyle.backgroundColor=\\\"#808080\\\" \\\\ 不能改動<br>JavaScript error : NoModificationAllowedError<br>OK <br>&gt; js&gt; outputbox.currentStyle.fontSize .<br>1em OK&nbsp;&nbsp;&nbsp;&nbsp; </p></p></p><p><p><p>&nbsp;</p></p></p></p><p><p><p><p>&nbsp;</p></p></p></p></p><p><p><p><p><p><br>&nbsp;</p></p></p></p></p></p><p><p><p><p><p><p><br>&nbsp;</p></p><p><p>如果用 HTML 標準的 style property 則經常看不到東西, 因為 style 是層層噴塗上去的, 光看自己這一層不一定有東西。<br></p></p></p></p></p></p>\",\"mode\":false,\"readonly\":false}",
	"[Closed] Log 2016-08-16" : "{\"doc\":\"[x] How to edit log/archive.json ?\\n    1. open it in any Web based jeforth.3we application, 3ce is good.\\n       cls dump log/archive.json\\n    2. edit the target field edit box and save, the field appears \\n       in localStorage now\\n    3. export --> export entire localStorage to a textarea\\n    4. edit the exported string by Notepad++\\n    5. Use Notepad++ plugin JSTool/JSFormat to make it easier to read\\n    6. Find the target field line. Copy it.\\n    7. Paste the line to log/archive.json\\n    8. check it out by : dump log/archive.json\\n    9. Delet the target field in localStorge through edit box [Delete] button.\\n   10. -- The End --\\n\\n\\n[x] 這行會出問題, \\\\ 帶頭的 command 裡的 ( ... ) 造成的!!\\n    : is-editbox-field? ( obj -- boolean ) \\\\ Is the object ( probably from localStorage ) an edit box article?\\n    改這樣就好了:\\n    : is-editbox-field? ( obj -- boolean ) \\\\ Is the object (probably from localStorage) an edit box article?\\n    SRP:\\n    s\\\" ( foo -- bar ) foo ( bar ) \\\" parse-help .s\\n    --> 發現只要在 parse-help 裡把分離出 stack diagram 的 match 弄成 non-greedy 亦即\\n        加個 ? 就好了。\\n[x] ls.f redefined \\\"(dump)\\\" and \\\"dump\\\" while see used \\\"(dump)\\\" that is called by\\n    name! That puts \\\"see\\\" in trouble. Solution is letting \\\"see\\\" to call \\\"(dump)\\\"\\n    by reference instead of by name. Same risk on jeforth.f \\\"be\\\" and \\\"bp\\\" have\\n    been modified to be call-by-reference. Some other cases that are also call\\n    -by-name but those names do not look like being reused so I don't worry.\\n\\n[x] 整頓 editor.f 剔除一些可以被 ls.f 取代的命令, 只剩下 Hyper Text Editor Alt-F2 這\\n    部分, 其他的 log.save log.open 直接把 outputbox 當成 editor 不要了; tr 也不要了。\\n    [x] HTE's [bigger][smaller] buttons are covered by {F10}{F9}, so \\n        remove them.\\n    [x] 保存舊的 editor.f , [x] 改名成 hte.f 或者 [/] 併入 html5.f 哪個好?\\n        --> try 併入 html5.f ... 不行, 有用到 unindent.f \\n    [x] old editor.f code saved to archive.json\\n[x] 3ce target page 裡, 功能少很多。 hte.f load 不進來。\\n    --> target page does not have all the console3we features, I remember\\n        that's normal, isn't it? Use 3ce page instead while 3ce page have all\\n        the features. Press {F7} instead of {Enter} to execute the inputbox\\n        TIB on the target page, or s\\\" command line\\\" (dictate) does the same\\n        thing, or use <ce> ... </ce> to run javascript code on the target page.\\n        ls.f full-screen command demos 3ce extension page application that uses\\n        URL command line directly.\\n\\n[x] Why this line doesn't return the expected object?\\n        > js> {title:\\\"*2002\\\"} \\\\ <== 如今已知 object 整個要用圓括號包起來才行\\n    Root cause: \\n        js> ({title標籤不需引號:\\\"<-這兩個引號必須->\\\"}) ( 外框的原括號必須 ) (see)\\n\\n[x] how to change 3ce tab's web page title?\\n    --> js: $(\\\"title\\\")[0].innerHTML=\\\"3ce\\\"  works\\n    --> tabid tabs.get :: title=\\\"3ce\\\" does not work, it's readonly I guess.\\n    --> don't remember how to chnage *any* tab's title?\\n        use 3ce attach to it and do the samething?\\n[x] make sure if run: can be used in ~.f files --> Yes, it works fine in ~.f file\\n    -- test.f --\\n    run: cr 1 if .\\\" True\\\" else .\\\" False\\\" then cr  10 for r@ . space next cr \\n    ------------\\n[x] Launch the entire edit box on a new tab. \\n    it's not very comfortable working in an edit box because the entire article\\n    can be unpleasantly scrolled. Try to launch the entire edit box on a new tab. \\n    1. open-3ce-tab <-- 該 tab 的 window object 可 access !!!\\n    2. ed <thefield> \\n    3. move the eb out of everything \\n    4. delete everything else\\n    --> full-screen command for 3ce only\\n[x] Working on \\\"3ce EditBox full screen command\\\" field\\n    [x] 改寫了 money.f open-web-page and move it into ce.f \\n    [x] also re-design open-3ce-tab to use the open-web-page command.\\n    --> full-screen command for 3ce only\\n\\n[x] 3ce before include voc.f:\\n      Error! active-tab unknown. --> root cause in 3ce/quit.f, \\n      定義 {F5} 時用到： active-tab js: chrome.tabs.reload(pop()) \\n      其實沒有必要，js: chrome.tabs.reload() 即可。\\n\\n[x] full-screen should save and close the recent field before openuing the \\n    full-screen version.\\n    --> 要 save, close 某個 eb 需要用到 eb.save ( btn -- ), eb.close ( btn -- ).\\n        須把 eb object 轉成他自己內的某個 node, 方法如下： (皆可)\\n        > js> $(\\\".eb\\\")[0] js> $(\\\".ebmode\\\",$(\\\".eb\\\")) (eb.parent) = . true OK \\n        > js> $(\\\".eb\\\")[0] js> $(\\\".ebmode\\\",$(\\\".eb\\\")[0]) (eb.parent) = . true OK \\n        --> 用 fieldname>eb ( name -- ebObj ) 取得某 eb\\n    --> To save a eb :\\n        js> $(\\\".ebmode\\\",ebObj) eb.save\\n    --> To close a eb :\\n        js> $(\\\".ebmode\\\",ebObj) eb.close\\n    --> 這個問題對 (full-screen) 沒有問題. ed (ed) 之前就已經弄好了,不會重複 open 同一\\n        個 field, 只會 jump to it. full-screen 在另一個 3ce tab open 同一個 field\\n        可能還留在原來頁面變成舊版,這才有問題。故 full-screen 必須自動 save & close \\n        單取得 fieldname 已完成工作。\\n    [x] 改良了 ls.f is-opened? (以 fieldname>eb 取代之) 以及 jump-to-it。有了 \\n        fieldname>eb 好用多了。\\n    ==> Done! for 3ce only, close recent eb then open it on a new tab.\\n\\n\\n[x] 正想說明 full-screen 只有 3ce 能用, 其他 application 請用 (full-screen) 卻發現\\n    它在當頁也工作不正常! happening on 3hta and 3ce. On 3ce, 開出兩個 edit box 前一\\n    個的內容也變成 {} 後一個內容是空的, fieldname 是 \\\"undefined\\\"\\n    --> 靠! 虛驚一場。 (full-screen) 的 input fieldname string 是必要的，我誤記成\\n        可缺省。\\n\\n[x] 重新討論這個已經進了 archive.json 的問題。\\n    新 3ce page 好了沒怎麼知道? 目前用 URL command line 的方式最簡單, 一定是 quit.f\\n    完成了之後才來執行 url command line 的。否則照下面這樣，就得用 delay 拖時間(效果不牢靠)。\\n    char jeforth.3ce.html?nop true open-web-page :> id tabid! \\n    3000 nap \\\\ [ ] 用 delay 的效果不牢靠\\n    <text> \\\\ \\n    cls ed lab\\n    js> $(\\\".console3we\\\")[0] js> $(\\\".eb\\\")[0] appendChild\\n    js> $(\\\".ebname\\\")[0].value \\\\ field name\\n    js: document.title=pop()+\\\"-EditBox\\\"\\n    js> header removeElement \\\\ it works\\n    js> outputbox removeElement \\\\ it works\\n    js> inputbox removeElement \\\\ it works\\n    </text> (dictate)\\n    [x] 能不能仍用 url command line 但讓 new 3ce tab 回來取得 fieldname?\\n        --> Correct, the command line is to send back a (dictate) command\\n            back to the host so as to do whatever things.\\n        [x] See 3ce field \\\"3ce (dictate) 下令給 3ce 第一個命令有時候會漏掉\\\" for\\n            details.\\n    [x] New version 3ce full-screen command works fine now.\\n\\n\\n\\n\",\"mode\":true,\"readonly\":false}",
	"[Closed] 3ce (dictate) 下令給 3ce 第一個命令有時候會漏掉" : "{\"doc\":\"<br><div><b>Problem</b></div><div>[x] 重新討論這個已經進了 archive.json 的問題。新 3ce page 好了沒怎麼知道? 目前用 URL command line 的方式最簡單, 一定是 quit.f\\n    完成了之後才來執行 url command line 的。否則照下面這樣，就得用 delay 拖時間(效果不牢靠)。 Root cause 是 (dictate) 沒有考慮好 target 端的狀態，能不能接受命令的狀態。<br>char jeforth.3ce.html?nop true open-web-page :&gt; id tabid! <br>3000 nap \\\\ [ ] 用 delay 的效果不牢靠<text>&nbsp;<br>&lt;text&gt; cls ed lab\\n<br>js&gt; $(\\\".console3we\\\")[0] js&gt; $(\\\".eb\\\")[0] appendChild\\n<br>js&gt; $(\\\".ebname\\\")[0].value \\\\ field name\\n<br>js: document.title=pop()+\\\"-EditBox\\\"\\n<br>js&gt; header removeElement \\\\ it works\\n<br>js&gt; outputbox removeElement \\\\ it works\\n<br>js&gt; inputbox removeElement \\\\ it works\\n    <br></text>&lt;/text&gt; (dictate)\\n<br>[x] ==&gt; 能不能仍用 url command line 但讓 new 3ce tab 回來取得 fieldname? <br>&nbsp; &nbsp; --&gt; 最後就是類似這個辦法。 See ls.f full-screen 的定義，如最底下。<br>--<br>When active at the target 3ce page, the host tab is still working but get the control once every 3 seconds - very slow. 我在想, what is the root cause of full-screen 的 (dictate) approach failure?&nbsp;</div><div>one more experiment . . .&nbsp;</div><div><span style=\\\"font-size: 22.5px;\\\">\\\\ launch the new 3ce page , it runs a loop to print \\\"hi!\\\" twice a second&nbsp;<br></span><span style=\\\"font-size: 22.5px;\\\">\\\\ whild the host to try its best to print the recent time on to the new 3ce page<br>s\\\"&nbsp;jeforth.3ce.html?100 [for] .' hi!' cr 500 nap [next]\\\"&nbsp;true&nbsp;open-web-page&nbsp;:&gt;&nbsp;id&nbsp;tabid!<br></span><span style=\\\"font-size: 22.5px;\\\">100&nbsp;[for] s\\\" now . cr \\\" (dictate) 1 nap [next]</span></div><br>&nbsp;呈現在 new 3ce page 上的結果﹕<div><span style=\\\"font-size: 22.5px;\\\">... snip ....<br>Including&nbsp;</span><span style=\\\"font-size: 22.5px;\\\">ls.f</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;OK&nbsp;</span><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:13&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)&nbsp;</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:14&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time) &lt;--- host 端每隔一秒以上才拿到控制權</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:15&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:16&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:17&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:18&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:19&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:20&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:21&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:22&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:23&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:24&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:25&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:26&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:27&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:28&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:29&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:30&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:31&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:32&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:33&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:34&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:35&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:36&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:37&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time) &lt;--- 切 active tab 到 host 馬上衝刺</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:38&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:38&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:38&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:38&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:38&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:38&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:38&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:38&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:38&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:38&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:38&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Tue&nbsp;Aug&nbsp;30&nbsp;2016&nbsp;10:23:38&nbsp;GMT+0800&nbsp;(China&nbsp;Standard&nbsp;Time)</span><br style=\\\"font-size: 22.5px;\\\"></div><div><span style=\\\"font-size: 22.5px;\\\">這樣看來從 host 端下 (dictate) 請 child 3ce page 做事似乎沒有因為 target 端還在 init 而掉棒的問題呀! 真有漏掉的話用時間看不出來。改個方法再試試：</span></div><div><span style=\\\"font-size: 22.5px;\\\">s\\\"&nbsp;jeforth.3ce.html?10 [for]&nbsp;.'&nbsp;hi!'&nbsp;cr&nbsp;500&nbsp;nap&nbsp;[next]\\\"&nbsp;true&nbsp;open-web-page&nbsp;:&gt;&nbsp;id&nbsp;tabid!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">10 [for] r@ s\\\" &nbsp;.&nbsp;cr&nbsp;\\\" + (dictate)&nbsp;1&nbsp;nap&nbsp;[next]</span><br style=\\\"font-size: 22.5px;\\\"></div><br>&gt;&nbsp;s\\\"&nbsp;jeforth.3ce.html?100&nbsp;[for]&nbsp;.'&nbsp;hi!'&nbsp;cr&nbsp;500&nbsp;nap&nbsp;[next]\\\"&nbsp;true&nbsp;open-web-page&nbsp;:&gt;&nbsp;id&nbsp;tabid!<br>100&nbsp;[for]&nbsp;r@&nbsp;s\\\"&nbsp;&nbsp;.&nbsp;cr&nbsp;\\\"&nbsp;+&nbsp;(dictate)&nbsp;1&nbsp;nap&nbsp;[next]<br>&nbsp;OK&nbsp;<br>&gt;&nbsp;s\\\"&nbsp;jeforth.3ce.html?100&nbsp;[for]&nbsp;.'&nbsp;hi!'&nbsp;cr&nbsp;500&nbsp;nap&nbsp;[next]\\\"&nbsp;true&nbsp;open-web-page&nbsp;:&gt;&nbsp;id&nbsp;tabid!<br>10&nbsp;[for]&nbsp;r@&nbsp;s\\\"&nbsp;&nbsp;.&nbsp;cr&nbsp;\\\"&nbsp;+&nbsp;(dictate)&nbsp;1&nbsp;nap&nbsp;[next]<br>&nbsp;OK&nbsp;<br>&gt;&nbsp;\\\\&nbsp;s\\\"&nbsp;jeforth.3ce.html?100&nbsp;[for]&nbsp;.'&nbsp;hi!'&nbsp;cr&nbsp;500&nbsp;nap&nbsp;[next]\\\"&nbsp;true&nbsp;open-web-page&nbsp;:&gt;&nbsp;id&nbsp;tabid!<br>10&nbsp;[for]&nbsp;r@&nbsp;s\\\"&nbsp;&nbsp;.&nbsp;cr&nbsp;\\\"&nbsp;+&nbsp;(dictate)&nbsp;1&nbsp;nap&nbsp;[next]<br>&nbsp;OK&nbsp;<br>&gt;&nbsp;\\\\&nbsp;s\\\"&nbsp;jeforth.3ce.html?100&nbsp;[for]&nbsp;.'&nbsp;hi!'&nbsp;cr&nbsp;500&nbsp;nap&nbsp;[next]\\\"&nbsp;true&nbsp;open-web-page&nbsp;:&gt;&nbsp;id&nbsp;tabid!<br>10&nbsp;[for]&nbsp;r@&nbsp;s\\\"&nbsp;&nbsp;.&nbsp;cr&nbsp;\\\"&nbsp;+&nbsp;(dictate)&nbsp;1&nbsp;nap&nbsp;[next]<br>&nbsp;OK<div>這個實驗, 真的看到 host 端過來的第一個 command 被漏掉了!&nbsp;<br>&gt;&nbsp;s\\\"&nbsp;jeforth.3ce.html?10&nbsp;[for]&nbsp;.'&nbsp;hi!'&nbsp;cr&nbsp;500&nbsp;nap&nbsp;[next]\\\"&nbsp;true&nbsp;open-web-page&nbsp;:&gt;&nbsp;id&nbsp;tabid!<br>10&nbsp;[for]&nbsp;r@&nbsp;s\\\"&nbsp;&nbsp;.&nbsp;cr&nbsp;\\\"&nbsp;+&nbsp;(dictate)&nbsp;1&nbsp;nap&nbsp;[next]<br>&nbsp;OK&nbsp;<div><span style=\\\"font-size: 22.5px;\\\">... snip ...<br>Including&nbsp;</span><span style=\\\"font-size: 22.5px;\\\">ce.f</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">Including&nbsp;</span><span style=\\\"font-size: 22.5px;\\\">ls.f</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;OK&nbsp;</span><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">8</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">7</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">6</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">5</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">hi!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">4</span><br style=\\\"font-size: 22.5px;\\\"><h3>Style for 3ce and 3htm</h3><span style=\\\"font-size: 22.5px;\\\">3</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">2</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">1</span><br></div></div><br>&gt;&nbsp;s\\\"&nbsp;jeforth.3ce.html?10&nbsp;[for]&nbsp;.'&nbsp;hi!'&nbsp;cr&nbsp;500&nbsp;nap&nbsp;[next]\\\"&nbsp;true&nbsp;open-web-page&nbsp;:&gt;&nbsp;id&nbsp;tabid!<br>10&nbsp;[for]&nbsp;r@&nbsp;s\\\"&nbsp;&nbsp;.&nbsp;cr&nbsp;\\\"&nbsp;+&nbsp;(dictate)&nbsp;1&nbsp;nap&nbsp;[next]<br><br>&nbsp;OK&nbsp;<br>&gt;&nbsp;s\\\"&nbsp;jeforth.3ce.html?10&nbsp;[for]&nbsp;.'&nbsp;hi!'&nbsp;cr&nbsp;500&nbsp;nap&nbsp;[next]\\\"&nbsp;true&nbsp;open-web-page&nbsp;:&gt;&nbsp;id&nbsp;tabid!<br>10&nbsp;[for]&nbsp;r@&nbsp;s\\\"&nbsp;&nbsp;.&nbsp;cr&nbsp;\\\"&nbsp;+&nbsp;(dictate)&nbsp;1&nbsp;nap&nbsp;[next]<br><br>&nbsp;OK&nbsp;<br>&gt;&nbsp;s\\\"&nbsp;jeforth.3ce.html?10&nbsp;[for]&nbsp;.'&nbsp;hi!'&nbsp;cr&nbsp;500&nbsp;nap&nbsp;[next]\\\"&nbsp;true&nbsp;open-web-page&nbsp;:&gt;&nbsp;id&nbsp;tabid!<br>10&nbsp;[for]&nbsp;r@&nbsp;s\\\"&nbsp;&nbsp;.&nbsp;cr&nbsp;\\\"&nbsp;+&nbsp;(dictate)&nbsp;1&nbsp;nap&nbsp;[next]<br><br>&nbsp;OK&nbsp;<br>&gt;&nbsp;s\\\"&nbsp;jeforth.3ce.html?10&nbsp;[for]&nbsp;.'&nbsp;hi!'&nbsp;cr&nbsp;500&nbsp;nap&nbsp;[next]\\\"&nbsp;true&nbsp;open-web-page&nbsp;:&gt;&nbsp;id&nbsp;tabid!<br>10&nbsp;[for]&nbsp;r@&nbsp;s\\\"&nbsp;&nbsp;.&nbsp;cr&nbsp;\\\"&nbsp;+&nbsp;(dictate)&nbsp;1&nbsp;nap&nbsp;[next]<br><br>&nbsp;OK&nbsp;<div>多試幾次, 也有成功的, 原因到底是甚麼？&nbsp;</div><br>&gt;&nbsp;s\\\"&nbsp;jeforth.3ce.html?10&nbsp;[for]&nbsp;.'&nbsp;hi!'&nbsp;cr&nbsp;500&nbsp;nap&nbsp;[next]\\\"&nbsp;false&nbsp;open-web-page&nbsp;:&gt;&nbsp;id&nbsp;tabid!<br>10&nbsp;[for]&nbsp;r@&nbsp;s\\\"&nbsp;&nbsp;.&nbsp;cr&nbsp;\\\"&nbsp;+&nbsp;(dictate)&nbsp;1&nbsp;nap&nbsp;[next]<br><br><span style=\\\"font-size: 20px;\\\">如果把 active open-web-page 改成 false 則根本執行不到 (dictate) 切過去 target 3ce page 才看到 jeforth 的 including 還在緩慢進行,但 host 端的 (dictate) loop 已經都跑完了。這表示 (dictate) 有嚴重的問題, 兩邊是怎麼協調的？<br><br></span><div>OK&nbsp;<br></div><div>&gt;&nbsp;s\\\"&nbsp;jeforth.3ce.html?10&nbsp;[for]&nbsp;.'&nbsp;hi!'&nbsp;cr&nbsp;500&nbsp;nap&nbsp;[next]\\\"&nbsp;false&nbsp;open-web-page&nbsp;:&gt;&nbsp;id&nbsp;tabid!<br>10&nbsp;[for]&nbsp;r@&nbsp;s\\\"&nbsp;&nbsp;.&nbsp;cr&nbsp;\\\"&nbsp;+&nbsp;(dictate)&nbsp;1&nbsp;nap&nbsp;[next]<br><br>&nbsp;OK&nbsp;<br>s\\\"&nbsp;jeforth.3ce.html?10&nbsp;[for]&nbsp;.'&nbsp;hi!'&nbsp;cr&nbsp;500&nbsp;nap&nbsp;[next]\\\"&nbsp;true&nbsp;open-web-page&nbsp;:&gt;&nbsp;id&nbsp;tabid!<br>10&nbsp;[for]&nbsp;r@&nbsp;s\\\"&nbsp;&nbsp;.&nbsp;cr&nbsp;\\\"&nbsp;+&nbsp;(dictate)&nbsp;1&nbsp;nap&nbsp;[next]<br><br>&nbsp;OK&nbsp;<br>&gt;&nbsp;s\\\"&nbsp;jeforth.3ce.html?10&nbsp;[for]&nbsp;.'&nbsp;hi!'&nbsp;cr&nbsp;500&nbsp;nap&nbsp;[next]\\\"&nbsp;false&nbsp;open-web-page&nbsp;:&gt;&nbsp;id&nbsp;tabid!<br>10&nbsp;[for]&nbsp;r@&nbsp;s\\\"&nbsp;&nbsp;.&nbsp;cr&nbsp;\\\"&nbsp;+&nbsp;(dictate)&nbsp;1&nbsp;nap&nbsp;[next]<br>&nbsp;OK&nbsp;</div>再簡化, 以下方法就可以複製出問題, 第一個 10 第二個 9 經常沒有印出來<br><br>&gt;&nbsp;s\\\"&nbsp;jeforth.3ce.html?nop\\\"&nbsp;true&nbsp;open-web-page&nbsp;:&gt;&nbsp;id&nbsp;tabid!<br>10&nbsp;[for]&nbsp;r@&nbsp;s\\\"&nbsp;&nbsp;.&nbsp;cr&nbsp;\\\"&nbsp;+&nbsp;(dictate)&nbsp;1&nbsp;nap&nbsp;[next]<br>&nbsp;OK&nbsp;<br>&gt;&nbsp;s\\\"&nbsp;jeforth.3ce.html?nop\\\"&nbsp;true&nbsp;open-web-page&nbsp;:&gt;&nbsp;id&nbsp;tabid!<br>10&nbsp;[for]&nbsp;r@&nbsp;s\\\"&nbsp;&nbsp;.&nbsp;cr&nbsp;\\\"&nbsp;+&nbsp;(dictate)&nbsp;1&nbsp;nap&nbsp;[next]<br>&nbsp;OK&nbsp;<br>&gt;&nbsp;s\\\"&nbsp;jeforth.3ce.html?10&nbsp;[for]&nbsp;.'&nbsp;hi!'&nbsp;cr&nbsp;500&nbsp;nap&nbsp;[next]\\\"&nbsp;false&nbsp;open-web-page&nbsp;:&gt;&nbsp;id&nbsp;tabid!<br>10&nbsp;[for]&nbsp;r@&nbsp;s\\\"&nbsp;&nbsp;.&nbsp;cr&nbsp;\\\"&nbsp;+&nbsp;(dictate)&nbsp;1&nbsp;nap&nbsp;[next]<br>&nbsp;OK&nbsp;<br>&gt;&nbsp;s\\\"&nbsp;jeforth.3ce.html?nop\\\"&nbsp;true&nbsp;open-web-page&nbsp;:&gt;&nbsp;id&nbsp;tabid!<br>10&nbsp;[for]&nbsp;r@&nbsp;s\\\"&nbsp;&nbsp;.&nbsp;cr&nbsp;\\\"&nbsp;+&nbsp;(dictate)&nbsp;1&nbsp;nap&nbsp;[next]<br>&nbsp;OK&nbsp;<br><br>但是隨後單執行<br><br>&nbsp; &nbsp; 10&nbsp;[for]&nbsp;r@&nbsp;s\\\"&nbsp;&nbsp;.&nbsp;cr&nbsp;\\\"&nbsp;+&nbsp;(dictate)&nbsp;1&nbsp;nap&nbsp;[next]<br><br>卻很順利地印出 10 ... 1 無誤。顯示 target page 是否可以開始接受 (dictate) 命令的【時間點】要有個方法確定。<br><br>--<br><br>tab object does not have the information of \\\"who opened me\\\". while that's the only info the new 3ce page needs to *call* the host. Let's see how to *call* the host first (時間到了, 叫 host 來做事) &nbsp;<br><br>成功了! 下面這段 code 在 new 3ce page 裡執行, 它實際上是請 host 3ce page (tabid 566) 來執行這一段 code。其中 field name \\\"lab\\\" 不經 URL command line 用中文名就不會有問題了<div><span style=\\\"font-size: 22.5px;\\\">myTabId&nbsp;tabid!</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&lt;text&gt;&nbsp;<i>&lt;text&gt;&nbsp;cls&nbsp;ed&nbsp;lab&nbsp;</i></span><i><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">js&gt;&nbsp;$(\\\".console3we\\\")[0]&nbsp;js&gt;&nbsp;$(\\\".eb\\\")[0]&nbsp;appendChild&nbsp;</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">js&gt;&nbsp;$(\\\".ebname\\\")[0].value&nbsp;\\\\&nbsp;field&nbsp;name&nbsp;</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">js:&nbsp;document.title=pop()+\\\"-EditBox\\\"&nbsp;</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">js&gt;&nbsp;header&nbsp;removeElement&nbsp;\\\\&nbsp;it&nbsp;works&nbsp;</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">js&gt;&nbsp;outputbox&nbsp;removeElement&nbsp;\\\\&nbsp;it&nbsp;works&nbsp;</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">js&gt;&nbsp;inputbox&nbsp;removeElement&nbsp;\\\\&nbsp;it&nbsp;works&nbsp;</span><br style=\\\"font-size: 22.5px;\\\"></i><span style=\\\"font-size: 22.5px;\\\"><i>&lt;/text&gt;</i>&nbsp;(dictate)&nbsp;&lt;/text&gt;</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">js:&nbsp;chrome.tabs.sendMessage(566,({forth:pop()}))<br></span><br></div>似乎最簡單的方法就是讓 3ce new page 的 url 來執行 host 的 TOS<br><span style=\\\"font-size: 22.5px;\\\"><br>myTabId&nbsp;tabid!&nbsp;<br></span><span style=\\\"font-size: 22.5px;\\\">js:&nbsp;chrome.tabs.sendMessage(566,({forth:\\\"(dictate)\\\"}))<br></span><br>--&gt; 成功了!! 以上斜體字部分先放進 host TOS 然後在 3ce new page 裡執行上面這行即成。其中 host tab ID 566 要用串接的方式置入。斜體字部分裡的 fieldname 也用串接的方式置入。<br><br>---<br>再簡化, 在 host 3ce page 執行以下這段即可﹕<br>&lt;text&gt; &lt;text&gt; 3ce (dictate) 下令給 3ce 第一個命令有時候會漏掉&lt;/text&gt; (full-screen) &lt;/text&gt; \\\\ host端<br>&lt;text&gt; jeforth.3ce.html?<span style=\\\"font-size: 22.5px;\\\">js:&nbsp;chrome.tabs.sendMessage(566,({forth:\\\"(dictate)\\\"}))&lt;/text&gt;</span>&nbsp;true open-web-page :&gt; id tabid!&nbsp;<br><br>順便用同樣的方法完成上面失敗的實驗, 如下:<br><div>&lt;text&gt; 10 [for] r@ :&gt; toString() s\\\" &nbsp;. cr \\\" + (dictate) 1 nap [next]&lt;/text&gt;<br>&lt;text&gt; jeforth.3ce.html?js: chrome.tabs.sendMessage(_id_,({forth:\\\"tib.insert\\\"}))&lt;/text&gt;<br>myTabId :&gt; toString() swap :&gt; replace(/_id_/,pop())<br>true open-web-page :&gt; id tabid!<br><br>[ ] 成功,但是有問題。 這段程式在 host inputbox 執行, 可以完成實驗, 但是多印了一個 10 在 target new 3ce page 而且再試一次就會把 Chrome Browser 的 3ce pages (兩個、或三個 host, the 1st try, the 2nd try) 當掉。</div>---<br><br>---<br>完成版<br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;js&gt;&nbsp;vm.appname==\\\"jeforth.3ce\\\"&nbsp;[if]</span><br style=\\\"font-size: 22.5px;\\\"><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;full-screen&nbsp;(&nbsp;[&lt;fieldname&gt;]&nbsp;--&nbsp;)&nbsp;\\\\&nbsp;Open&nbsp;a&nbsp;new&nbsp;3ce&nbsp;tab&nbsp;and&nbsp;edit&nbsp;box&nbsp;alone&nbsp;for&nbsp;the&nbsp;field&nbsp;</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\\&nbsp;取得&nbsp;fieldname&nbsp;from&nbsp;TIB&nbsp;or&nbsp;the&nbsp;last&nbsp;EditBox</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;\\\\r|\\\\n&nbsp;word&nbsp;trim&nbsp;js&gt;&nbsp;tos().length&nbsp;if&nbsp;else&nbsp;</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;drop&nbsp;js&gt;&nbsp;$(\\\".eb\\\").length&nbsp;js&gt;&nbsp;tos()==0&nbsp;?abort\\\"&nbsp;Which&nbsp;field?\\\"&nbsp;</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-&nbsp;(&nbsp;i&nbsp;)&nbsp;js&gt;&nbsp;$(\\\".eb\\\")[pop()]&nbsp;(&nbsp;eb&nbsp;)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;js&gt;&nbsp;$(\\\".ebname\\\",pop())[0].value&nbsp;(&nbsp;name&nbsp;)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;(&nbsp;name&nbsp;)&nbsp;</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\\&nbsp;if&nbsp;is&nbsp;an&nbsp;existing&nbsp;EditBox&nbsp;then&nbsp;save&nbsp;and&nbsp;close</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dup&nbsp;fieldname&gt;eb&nbsp;(&nbsp;name&nbsp;eb&nbsp;)&nbsp;?dup&nbsp;if&nbsp;</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;js&gt;&nbsp;$(\\\".ebmode\\\",pop())&nbsp;(&nbsp;name&nbsp;button&nbsp;)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dup&nbsp;eb.save&nbsp;(&nbsp;name&nbsp;button&nbsp;)&nbsp;eb.close&nbsp;(&nbsp;name&nbsp;)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;(&nbsp;name&nbsp;)</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\\&nbsp;留在&nbsp;host&nbsp;TOS&nbsp;的&nbsp;command&nbsp;line&nbsp;</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;text&gt;&nbsp;&lt;text&gt;&nbsp;_n_&lt;/text&gt;&nbsp;(full-screen)&nbsp;&lt;/text&gt;&nbsp;</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&gt;&nbsp;replace(/_n_/,pop())</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\\&nbsp;New&nbsp;3ce&nbsp;page&nbsp;url&nbsp;</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;text&gt;&nbsp;jeforth.3ce.html?js:&nbsp;chrome.tabs.sendMessage(_id_,({forth:\\\"(dictate)\\\"}))&lt;/text&gt; \\\\&nbsp;</span><b style=\\\"font-size: 22.5px;\\\">Target 端倒回來執行留在 host 端 TOS 的 command line</b><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;myTabId&nbsp;:&gt;&nbsp;toString()&nbsp;swap&nbsp;:&gt;&nbsp;replace(/_id_/,pop())</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\\&nbsp;open&nbsp;the&nbsp;target&nbsp;page</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;true&nbsp;open-web-page&nbsp;:&gt;&nbsp;id&nbsp;tabid!&nbsp;;</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;///&nbsp;缺省&nbsp;&lt;fieldname&gt;&nbsp;用目前最後一個&nbsp;edit&nbsp;box，若再無就報錯。</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;///&nbsp;Only&nbsp;3ce&nbsp;can&nbsp;do&nbsp;this.&nbsp;Common&nbsp;local&nbsp;storage&nbsp;among&nbsp;</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;///&nbsp;different&nbsp;3ce&nbsp;tabs,&nbsp;control&nbsp;another&nbsp;3ce&nbsp;tab,&nbsp;etc.</span><br style=\\\"font-size: 22.5px;\\\"><span style=\\\"font-size: 22.5px;\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br style=\\\"font-size: 22.5px;\\\"><br><div><b><br style=\\\"font-size: 22.5px;\\\"></b>---<br><br></div>\",\"mode\":false,\"readonly\":false}",
	"[Closed] 3ce 改良 money.f 透過股號查出股名 stock-evaluate 只需股號" : "{\"doc\":\"\\n<h3>如何用 jeforth.3ce 透過股號查出股名 2016-08-18</h3><br>透過 tabs.query 從 Chrome Browser 現有 tabs 中撈出某幾個, 得到他們的 <br>Chrome Extension tab object in an array。\\n<div>&gt;&nbsp;help&nbsp;tabs.query<br><br>---------&nbsp;ce.f&nbsp;(1&nbsp;words)&nbsp;---------<br><style id=\\\"help_words\\\">\\n\\t\\t\\t\\t\\t\\t\\t.help_words table, .help_words td , .help_words th, .help_words caption {\\n\\t\\t\\t\\t\\t\\t\\t\\tpadding:8px;\\n\\t\\t\\t\\t\\t\\t\\t\\tborder-collapse: collapse;\\n\\t\\t\\t\\t\\t\\t\\t\\tborder: 2px solid #F0F0F0;\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t\\t.help_words tr {background: #E8E8FF}\\n\\t\\t\\t\\t\\t\\t\\t.help_words tr:nth-child(1) {background: #D0D0FF}\\n\\t\\t\\t\\t\\t\\t</style><table class=\\\"help_words\\\" style=\\\"width: 90%;\\\">\\n\\t\\t\\t\\t\\t<tbody><tr>\\n\\t\\t\\t\\t\\t  <td style=\\\"width: 200px;\\\"><b>tabs.query</b></td><td colspan=\\\"4\\\"><b>(&nbsp;{title:\\\"*anual*\\\"}&nbsp;--&nbsp;array&nbsp;)&nbsp;Get&nbsp;an&nbsp;array&nbsp;of&nbsp;tabs&nbsp;that&nbsp;match&nbsp;the&nbsp;given&nbsp;hash.</b>\\n\\t\\t\\t\\t\\t  [colon][ce.f][][]</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t\\t<tr><td colspan=\\\"5\\\">&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;input&nbsp;is&nbsp;a&nbsp;hash&nbsp;table,&nbsp;like&nbsp;:<br>&nbsp;&nbsp;&nbsp;&nbsp;{}&nbsp;tabs.query&nbsp;--&nbsp;get&nbsp;all&nbsp;tabs.<br>&nbsp;&nbsp;&nbsp;&nbsp;js:&nbsp;push({active:true})&nbsp;tabs.query&nbsp;--&nbsp;get&nbsp;active&nbsp;tabs&nbsp;of&nbsp;every&nbsp;window.<br>&nbsp;&nbsp;&nbsp;&nbsp;js:&nbsp;push({title:\\\"*anual*\\\"})&nbsp;tabs.query&nbsp;--&nbsp;title&nbsp;pattern&nbsp;supports&nbsp;wildcard&nbsp;character&nbsp;'*'.<br>&nbsp;&nbsp;&nbsp;&nbsp;js:&nbsp;push({url:\\\"http:/*\\\"})&nbsp;tabs.query&nbsp;--&nbsp;url&nbsp;pattern&nbsp;supports&nbsp;wildcard&nbsp;too.<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;scheme&gt;://&lt;host&gt;&lt;path&gt;&nbsp;see&nbsp;http://chrome-apps-doc2.appspot.com/trunk/extensions/match_patterns.html<br>&nbsp;&nbsp;&nbsp;&nbsp;Should&nbsp;return&nbsp;an&nbsp;array,&nbsp;'undefined'&nbsp;indicates&nbsp;invalid&nbsp;pattern.<br></td></tr>\\n\\t\\t\\t\\t\\t</tbody></table><br>&gt;&nbsp;js&gt; ({title:\\\"*2002*\\\"})&nbsp;tabs.query&nbsp;.s<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0:&nbsp;[object&nbsp;Object]&nbsp;(array)<br><br>&gt;&nbsp;dup&nbsp;:&gt;&nbsp;length&nbsp;. \\\\ ==&gt;&nbsp;1&nbsp;OK&nbsp;<br>&gt;&nbsp;dup&nbsp;(see)<br>[<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"active\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"audible\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"height\\\":&nbsp;775,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"highlighted\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"id\\\":&nbsp;312,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"incognito\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"index\\\":&nbsp;2,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"mutedInfo\\\":&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"muted\\\":&nbsp;false<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"pinned\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"selected\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"status\\\":&nbsp;\\\"complete\\\",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>\\\"title\\\":&nbsp;\\\"(2002)&nbsp;中鋼&nbsp;個股基本資料&nbsp;-&nbsp;Goodinfo!台灣股市資訊網\\\"</b>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style=\\\"font-size: 0.6em;\\\">\\\"url\\\":&nbsp;\\\"http://goodinfo.tw/StockInfo/BasicInfo.asp?STOCK_ID=2002\\\",</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"width\\\":&nbsp;1440,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"windowId\\\":&nbsp;1<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>]&nbsp;OK&nbsp;<br>&gt;&nbsp;js&gt; ({title:\\\"*6143*\\\"})&nbsp;tabs.query<br>&gt;&nbsp;.s<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0:&nbsp;[object&nbsp;Object]&nbsp;(array)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1:&nbsp;[object&nbsp;Object]&nbsp;(array)<br>&gt;&nbsp;dup&nbsp;(see)<br>[<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"active\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"audible\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"height\\\":&nbsp;775,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"highlighted\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"id\\\":&nbsp;354,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"incognito\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"index\\\":&nbsp;3,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"mutedInfo\\\":&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"muted\\\":&nbsp;false<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"openerTabId\\\":&nbsp;312,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"pinned\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"selected\\\":&nbsp;false,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"status\\\":&nbsp;\\\"complete\\\",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"title\\\":&nbsp;\\\"<b>(6143)&nbsp;振曜&nbsp;</b>個股基本資料&nbsp;-&nbsp;Goodinfo!台灣股市資訊網\\\",<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"url\\\":&nbsp;<span style=\\\"font-size: 0.6em;\\\">\\\"http://goodinfo.tw/StockInfo/BasicInfo.asp?STOCK_ID=6143\\\"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"width\\\":&nbsp;1440,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\"windowId\\\":&nbsp;1<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>]&nbsp;OK&nbsp;<br><br></div>\\n如此看來, 只需要用到 Chrome Extension tab object 就可以查出股名了!!<br><span style=\\\"font-size: 16px;\\\"><br>&gt; &lt;text&gt;&nbsp;(2002)&nbsp;中鋼&nbsp;個股基本資料&nbsp;-&nbsp;Goodinfo!台灣股市資訊網\\\" &lt;/text&gt;&nbsp;trim <br>:&gt;&nbsp;match(/\\\\((\\\\d+)\\\\)\\\\s(\\\\S+)\\\\s/)&nbsp;:&gt;&nbsp;[2]&nbsp;tib.&nbsp;\\\\&nbsp;==&gt;&nbsp;中鋼&nbsp;(string)<br><br></span><span style=\\\"font-size: 22.5px;\\\">&gt; .s<br>0</span><span style=\\\"font-size: 22.5px;\\\">:</span><span style=\\\"font-size: 22.5px;\\\">&nbsp;</span><span style=\\\"font-size: 22.5px;\\\">(2002)&nbsp;中鋼&nbsp;,2002,中鋼</span><span style=\\\"font-size: 22.5px;\\\">&nbsp;(array)<br></span><br>整合以上, one-liner that gets stock name through stock ID as shown below:<br><br>&gt; 2002 js&gt; ({title:\\\"*\\\"+pop()+\\\"*\\\"}) tabs.query :&gt; [0].title trim :&gt; match(/\\\\((\\\\d+)\\\\)\\\\s(\\\\S+)\\\\s/) :&gt; [2] tib.<br><br>Do I need to close a window? 3ce can't close() a window unless those were opened by it. That means YES we can close tabs that were opened by 3ce.<div>&gt; &lt;js&gt; chrome.tabs.executeScript(<br>&nbsp; &nbsp; 207,<br>&nbsp; &nbsp; {code:'window.close()'},<br>&nbsp; &nbsp; function(result){push(result)}<br>&nbsp; )<br>&nbsp; &lt;/js&gt;<br>Error message : Scripts may close only the windows that were opened by it.<br></div> -- <br>[x] I need to know how 3ce to refresh a web page.<br>&nbsp; &nbsp; --&gt; see log/Log of TR.html &gt;&nbsp;Refresh_the_target_page command of 3ce<br>&nbsp; &nbsp; --&gt; or see private/dividend.f for the same command.<br>&nbsp; &nbsp; Key interfaces are :<br>&nbsp; &nbsp; o chrome.tabs.reload(pop())<br>&nbsp; &nbsp; o&nbsp;tabid tabs.get :&gt; status==\\\"complete\\\"<br><div><br><b>Ok now, this is the lab</b><br><textarea rows=\\\"30\\\">\\\\ see also field \\\"如何用 jeforth.3ce 透過股號查出股名 2016-08-18\\\"\\n\\n: open-web-page ( url -- tab ) \\\\ Open web page and return Chrome Extension tab object before complete loading\\n    ( \\\"url\\\" ) js&gt; ({url:tos()}) tabs.query ( url [tabs] )\\n    js&gt; tos()==undefined||tos().length==0 \\n    if ( url [tabs] ) drop ( url )\\n        &lt;js&gt; chrome.tabs.create(\\n            {url:tos(),active:false},\\n            function(tab){push(tab);execute('stopSleeping');}  \\n        ) &lt;/js&gt; ( url tab ) \\n        1000000 sleep  \\\\ 實際經常回來得很快\\n    else ( url [tabs] ) :&gt; [0] ( url tab )\\n    then nip ;\\n\\n: 個股基本資料 ( stockid -- tabid stockName ) \\\\ Open web GoodInfo page, return before complete\\n    trim 基本資料 ( stockid url ) swap + ( url ) open-web-page ( tab ) \\n    :&gt; id ( tabid ) false swap ( flag tabid ) \\\\ flag for the ending cr\\n    begin ( flag tabid )\\n        dup tabs.get :&gt; title trim  ( flag tabid title ) \\n        dup :&gt; match(/\\\\((\\\\d+)\\\\)\\\\s(\\\\S+)\\\\s/)  ( flag tabid title [matchs] ) \\n      js&gt; tos()==null while  ( flag tabid title [matchs] ) \\n        2drop ( flag tabid ) 100 nap .\\\" .\\\" nip true swap \\n    repeat  ( flag tabid title [matchs] ) \\n    nip :&gt; [2] ( flag tabid stockName ) rot if cr then ;\\n\\n: stock-evaluate ( \\\"stockID\\\" --  ) \\\\ 評估這支股票, 寫筆記\\n   dup 個股基本資料 nip swap ( stockName stockID )\\n   每月營收   over + ( Name ID url ) open-web-page drop ( Name ID ) 100 nap\\n   除權息日程 over + ( Name ID url ) open-web-page drop ( Name ID ) 100 nap\\n   股利政策   over + ( Name ID url ) open-web-page drop ( Name ID ) 100 nap\\n   ( Name ID ) s\\\" 2016 Stock Evaluate \\\" swap + s\\\"  \\\" + swap + s\\\"  \\\" +\\n   &lt;o&gt; &lt;textarea&gt;&lt;/textarea&gt;&lt;/o&gt; :: innerText=pop() &lt;o&gt; &lt;hr&gt;&lt;/o&gt; drop ;\\n   /// 用 jeforth.3ce 執行\\n   /// 自動打開與這支股票相關的網頁以供評估。\\n   /// 自動打開一個 textarea 寫筆記。\\n    \\n: N ( -- ) \\\\ Evaluate next stock of stock-list[stock-index]\\n    stock-index stock-list :&gt; [pop()] \\n    :&gt; [0] stock-evaluate\\n    stock-index 1+ to stock-index ;\\n\\n\\\\ ------------------------------------------------\\n&lt;comment&gt;\\n[x] 當 goodinfo 網頁花很久讀不進來時, 會有以下錯誤發生。照說要等整頁讀完才會繼續 \\n    &lt;-- 錯!不是這樣設計的。\\n    &gt; 2002 get-stock-name .\\n    JavaScript error on word \\\"stopSleeping\\\" : Cannot read property '2' of null\\n    等網頁都 complete 再試, 就很成功:\\n    &gt; 2002 get-stock-name .\\n    中鋼 OK \\n\\n[x] 設計大量實驗 stock id &gt; stock name \\n    3231 個股基本資料 dup ( tabid tabid ) tabs.get \\n    :&gt; title trim \\n    :&gt; match(/\\\\((\\\\d+)\\\\)\\\\s(\\\\S+)\\\\s/) :&gt; [2] \\n    . cr \\n    \\\\ Close the window to avoid open too many of them\\n    &lt;js&gt; chrome.tabs.executeScript(\\n        pop(),\\n        {code:'window.close()'},\\n        function(result){push(result)}\\n      )\\n    &lt;/js&gt;\\n    --&gt; This problem does not need long run, it happen in just a few\\n        tries.\\n\\n[x] tabs that were opened by open-web-page can be closed by this way\\n    tabid &lt;js&gt; chrome.tabs.executeScript(\\n        pop(),\\n        {code:'window.close()'},\\n        function(result){push(result)}\\n      )\\n    &lt;/js&gt;\\n\\n[x] 由以下實驗發現, 網頁的 title 一開始是 url 本身, 到某階段後\\n    才會變成網頁設定的 title。想要不等到整頁都 load completed \\n    就拿到 stockname 直接檢查 tab :&gt; title 證實可行。\\n        &gt; dropall run&gt;\\n        stockids :&gt; length for\\n        r@ stockids :&gt; [pop()-1]\\n        個股基本資料 ( tabid )\\n        tabs.get :&gt; title ( title )\\n        . cr\\n        next\\n    goodinfo.tw/StockInfo/BasicInfo.asp?STOCK_ID=6234\\n    goodinfo.tw/StockInfo/BasicInfo.asp?STOCK_ID=911619\\n    goodinfo.tw/StockInfo/BasicInfo.asp?STOCK_ID=5514\\n    (6431) 光麗-KY 個股基本資料 - Goodinfo!台灣股市資訊網\\n    goodinfo.tw/StockInfo/BasicInfo.asp?STOCK_ID=4930\\n    goodinfo.tw/StockInfo/BasicInfo.asp?STOCK_ID=910861\\n\\n[x] Ok now, see the code below. A loop with nap in get-stock-name \\n    has fixed the problem.\\n    js&gt; ([910861,4930,6431,5514,911619,6234])\\n    constant stockids // ( -- array ) Stock ID array\\n    dropall run&gt; \\n    stockids :&gt; length for\\n        r@ stockids :&gt; [pop()-1] dup . space get-stock-name . cr\\n    next\\n\\n[ ] how to focus back to the jeforth.3ce tab? \\n    --&gt; I remember my older design of 3ce attach gives a few seconds to allow\\n        the user to select a tab of Chrome browser. When click ok on a popup\\n        confirm box, then switch to 3ce extension page automatically.\\n        How did I do that? \\n    [ ] We can't switch tabs\\n          http://stackoverflow.com/questions/4123950/\\n          javascript-how-to-make-a-browser-switch-tabs\\n    [ ] But we can open url in a background tab of Chrome browser\\n          http://stackoverflow.com/questions/6897430/\\n          prevent-window-open-from-focusing\\n        Bingo!! js: chrome.tabs.create({url:\\\"http://ibm.com\\\",selected:false})\\n    --&gt; Open new tab to background, close them as jobs done. Not need to switch\\n        tab. All I can do now.\\n\\n[ ] Use Chrome extension tabs.create() is the best way so far!!\\n    dropall run&gt; \\n    js: chrome.tabs.create({url:\\\"http://ibm.com\\\",active:false},function(tab){push(tab)}) \\n    begin 100 nap depth until \\n    (see) \\\\ the Chrome extension tab object\\n\\n[ ] use the chrome.tabs.create() to redesign \\\"open-web-page\\\" command\\n: open-web-page ( url -- tabid ) \\\\ Read web page and return tabid before complete loading\\n( \\\"url\\\" ) js&gt; ({url:tos()}) tabs.query ( url [tabs] )\\njs&gt; tos().length&gt;=1 if else  \\n    drop ( url )\\n    &lt;js&gt; chrome.tabs.create(\\n        {url:\\\"http://ibm.com\\\",active:false}\\n        // ,function(tab){push(tab)} 從這裡可以取得 tabid 但時機不對。\\n    ) &lt;/js&gt; ( tabid )\\n    \\\\ 想取得該 tab 的 window object? No way! 別想了。\\n    begin ( url )\\n        js&gt; ({url:tos()}) tabs.query ( url [tabs] ) \\n        500 nap js&gt; tos().length&gt;=1 ( url [tabs] flag )\\n        if true ( url [tabs] true ) else drop false ( url false ) then\\n    until ( url [tabs] )\\nthen nip js&gt; pop()[0].id ;\\n\\n[ ] 3ce tabs.query 有可能傳回 [[obj], [], undefined] 研究清楚。 \\n    url 亂寫或差太多就會傳回 undefined, 只差最後一個 / 就會傳回 [], 完全一樣才會傳回 array &lt;--- 暫時理解\\n\\n: open-web-page ( url -- tabid ) \\\\ Read web page and return tabid before complete loading\\n\\t( \\\"url\\\" ) js&gt; ({url:tos()}) tabs.query ( url [tabs] )\\n        js&gt; tos()==undefined||tos().length==0 if\\n\\t\\tdrop ( url )\\n\\t\\t&lt;js&gt; chrome.tabs.create(\\n\\t\\t\\t{url:tos(),active:false},\\n\\t\\t\\tfunction(tab){\\n                            // push(tab);\\n                            execute('stopSleeping');\\n                        }  \\n\\t\\t) &lt;/js&gt; ( tabid ) 10000 sleep  \\\\ 等 10 秒\\n\\t\\tbegin ( url )\\n\\t\\t\\tjs&gt; ({url:tos()}) tabs.query ( url [tabs] ) \\n\\t\\t\\t500 nap js&gt; tos().length&gt;=1 ( url [tabs] flag )\\n\\t\\t\\tif true ( url [tabs] true ) else drop false ( url false ) then\\n\\t\\tuntil ( url [tabs] )\\n\\tthen nip js&gt; pop()[0].id ;\\n\\n: open-web-page ( url -- tabid ) \\\\ Read web page and return tabid before complete loading\\n\\t( \\\"url\\\" ) js&gt; ({url:tos()}) tabs.query ( url [tabs] )\\n        js&gt; tos()==undefined||tos().length==0 if \\n                ( url [tabs] ) drop ( url )\\n*debug* 11&gt;&gt;\\n\\t\\t&lt;js&gt; chrome.tabs.create(\\n\\t\\t\\t{url:tos(),active:false},\\n\\t\\t\\tfunction(tab){\\n                            push(tab);\\n                            execute('stopSleeping');\\n                        }  \\n\\t\\t) &lt;/js&gt; ( url tab ) \\n*debug* 22&gt;&gt;\\n10000 sleep  \\\\ 等 10 秒\\n        else  \\n*debug* 33&gt;&gt;\\n( url [tabs] ) :&gt; [0] ( url tab )\\n\\tthen nip :&gt; id ;\\n\\n[x] 取得 tab object 之後, 直接用這個 object 觀察 title 期望他會隨著網頁 \\n    進度由 \\\"\\\" 變成 \\\"title\\\" --&gt; 錯了! Chrome Extension tab obj 似乎只是\\n    一份 copy 故先前已經發現其中的值都是 read only 的。本例, 要用 tabs.get \\n    更新現況後檢查 title 才行。\\n\\n[ ] private/money.f ok now, fine tune needed?\\n\\n\\n\\n\\n&lt;/comment&gt;</textarea>\\n</div>\",\"mode\":false,\"readonly\":false}",
	"[Closed] 3ce background page lastTab variable" : "{\"doc\":\"<div>\\\\ 從 3ce open 的 web page 的 <b>window object</b> 都會保留一份在 <b>background-page</b><br>&gt;&nbsp;background-page&nbsp;:&gt;&nbsp;<b>lastTab</b>&nbsp;. \\\\ ==&gt; [object&nbsp;Window]&nbsp;OK <br>&gt;&nbsp;background-page&nbsp;:&gt;&nbsp;lastTab.document.title&nbsp;. g-EditBox&nbsp;OK&nbsp;<br>\\\\ 其實 g-EditBox 已經 closed 掉了，但仍能看到他的 document property !<br>&gt;&nbsp;background-page&nbsp;:&gt;&nbsp;lastTab.document&nbsp;. \\\\ ==&gt; [object&nbsp;HTMLDocument]&nbsp;OK &gt;&nbsp;background-page&nbsp;:&gt;&nbsp;lastTab.document.innerHTML&nbsp;. \\\\ ==&gt; undefined&nbsp;OK <br>\\\\ 從最根本的 window 判斷就對了，close 之後它變成 null&nbsp;<br>&gt;&nbsp;background-page&nbsp;:&gt;&nbsp;lastTab.window&nbsp;. \\\\ ==&gt; null&nbsp;OK <br>&gt;&nbsp;background-page&nbsp;:&gt;&nbsp;lastTab.document.readyState&nbsp;. \\\\ ==&gt; complete&nbsp;OK&nbsp;<br>\\\\ 當 window 為 null 時 document 就別相信了。</div><div>==&gt; 已經改寫 open-3ce-tab 如今 background-page&nbsp;:&gt;&nbsp;lastTab 保存的是 Chrome Extension 的 tab object。並非 window object 不好，3ce pages 之間可以 access 彼此的 window object 非常有趣，但是取 tab object 應該更實用。</div>\",\"mode\":false,\"readonly\":false}",
	"[Closed] 3ce EditBox full screen command" : "{\"doc\":\"\\n[ ] 剩下的是老問題, 字體大小不穩定, 我不太了解 font-size:1em 到底是參考哪裡。\\n\\n--\\n[x] 成功了!! 成果並進 ls.f \\n\\n: (full-screen) ( \\\"fieldname\\\" -- ) \\\\ The whole tab alone for the field, you lose outputbox.\\n    trim ( fieldname ) (ed) ( empty )\\n    cls js> $(\\\".eb\\\").length 1- ( name i ) js> $(\\\".eb\\\")[pop()] ( eb )\\n    js> $(\\\".console3we\\\")[0] swap appendChild ( empty )\\n    js> $(\\\".ebname\\\")[0].value ( name )\\n    js: document.title=pop()+\\\"-EditBox\\\" ( empty )\\n    js> header removeElement js> outputbox removeElement js> inputbox removeElement ;\\n\\n: full-screen ( <fieldname> -- ) \\\\ Open a new 3ce tab and edit box alone for the field \\n    s\\\" jeforth.3ce.html?<text> \\\" char \\\\r|\\\\n word trim + s\\\" </text> (full-screen)\\\" +\\n    true open-web-page drop ;\\n\\n--\\n\\n[x] 新 3ce page 好了沒怎麼知道? 還是用 URL command line 的方式最好, 否則就得像以下這樣用 delay 拖時間\\n    效果不牢靠。\\n    char jeforth.3ce.html?nop true open-web-page :> id tabid! \\n    3000 nap \\\\ [ ] 用 delay 的效果不牢靠\\n    <text> \\\\ \\n    cls ed lab\\n    js> $(\\\".console3we\\\")[0] js> $(\\\".eb\\\")[0] appendChild\\n    js> $(\\\".ebname\\\")[0].value \\\\ field name\\n    js: document.title=pop()+\\\"-EditBox\\\"\\n    js> header removeElement \\\\ it works\\n    js> outputbox removeElement \\\\ it works\\n    js> inputbox removeElement \\\\ it works\\n    </text> (dictate)\\n--\\n\\n[x] 這個方法也很漂亮, 直接用 url 就做到了!! URL command line 可以跨行, <text> 可以 nested 真爽!!\\n    char lab \\n    <text> \\n        jeforth.3ce.html? ( 這是 url 也就是 jeforth.3ce )\\n        cls \\n        <text> _fieldname_</text> (ed) \\n        js> $(\\\".console3we\\\")[0] js> $(\\\".eb\\\")[0] appendChild \\n        js> $(\\\".ebname\\\")[0].value js: document.title=pop()+\\\"-EditBox\\\" \\n        js> header removeElement \\n        js> outputbox removeElement \\n        js> inputbox removeElement\\n    </text> :> replace(/_fieldname_/,pop()) true open-web-page\\n\\n--\\n\\n[x] Bug, strange thing. Try to open a new 3ce page through the below\\n    command line,\\n    s\\\" jeforth.3ce.html\\\" false open-web-page ( url activeFlag -- tab )\\n    If not to active the new 3ce tab then that 3ce will stop somewhere\\n    in quit.f when including ~.f modules. [/] where? 誤會一場\\n    改用以下 command line 之後, 證實 inactive 的情況下似乎停住不動的 new opened\\n    3ce tab 其實是執行速度很慢而已，而非整個停止下來。\\n    --> s\\\" jeforth.3ce.html?js: alert('haha')\\\" \\n        false open-web-page ( url activeFlag -- tab )\\n    --> 結論是用 active 方式就對了。\\n\\n[x] 3ce pages 之間可以用 {F7} command-line 以及 (dictate) 配合 tabid 向對方下\\n    命令，因為他們都有各自的 tabid。但是如以前已知 <ce></ce> 只能對非 3ce pages\\n    下達 javascript 不能對 3ce 自己的 pages 下達，不知何故。可能意義不大。3ce pages \\n    之間連 window object 都可以 access。\\n\\n--\\nopen-3ce-tab background-page :> lastTab :> id tabid!\\n<text> \\\\ \\ncls ed lab\\njs> $(\\\".console3we\\\")[0] js> $(\\\".eb\\\")[0] appendChild\\njs> $(\\\".ebname\\\")[0].value \\\\ field name\\njs: document.title=pop()+\\\"-EditBox\\\"\\njs> header removeElement \\\\ it works\\njs> outputbox removeElement \\\\ it works\\njs> inputbox removeElement \\\\ it works\\n</text> (dictate)\\n\\n--\\n\\n\\\\ 這樣就成了, 可以用一個 tab 來 edit jeforth.3ce edit box\\n\\\\ 3ce 的特點是每個 Extension page 都是一樣的網址因此也就共享同一個 localStorge\\n\\\\ 如此一來, 可以在不同的 tab edit 同一個 field。\\n\\njs> header removeElement \\\\ it works\\njs> outputbox removeElement \\\\ it works\\ncls \\ned g\\njs> $(\\\".console3we\\\")[0] js> $(\\\".eb\\\")[0] appendChild\\njs> inputbox removeElement \\\\ it works\\n\\\\ 修改 tab title\\njs> $(\\\".ebname\\\")[0].value \\\\ field name\\njs: document.title=pop()+\\\"-EditBox\\\"\\n\\n--\\n\\n<comment>\\nbody\\n  header\\n  header\\n  console3we\\n  console3we\\nbody\\n</comment>\\n\\n\\\\ 這個方式可以保有 scripts 但是 style 不完整, 指出 edit box 的 style 需要借\\n\\\\ 用 console3we 的 style \\njs> body js> $(\\\".eb\\\")[0] appendChild\\n\\n\\n\\\\ 用這個方式會漏掉 script 跟 style 只剩空殼。\\njs> $(\\\".eb\\\")[0].outerHTML js> body :: innerHTML=pop()\\n\\n\",\"mode\":true,\"readonly\":false}",
	"[Closed] Log 2016-06-12 10:14:38" : "{\"doc\":\"[x] 處理 textarea innerHTML 與 value 不同步的問題。在 Chrome 下要 save jeforth.3we \\n    ( jeforth.3ce jeforth.3htm ) 頁面時, 若有 textarea 就要做這一動，否則 Ctrl-S 之後\\n    textarea 的內容將是空的，沒有 save 到。\\n    js: $(\\\"textarea\\\").each(function(){this.innerText=this.value})\\n    ls.f command textarea.value->innertext does the same thing but to the given\\n    editbox only for performance.\\n\\n[x] ls.f should reveal the local storage format --> ed command is the hint also\\n    eb.read eb.save commands.\\n\\n[x] 舊筆記 : \\\"ls.f (ed) 要改成 ( hash \\\"fieldname\\\" -- ) <-- No, 已經牽連太深了。 ls.dump 另外做介\\n    面而不引用 ed\\\" <---- 該介面叫做 view box 簡稱 vb 結果與 visual basic 太像了. (vb) vb.load 改名\\n    為 ls.viewBox ls.viewBoxLoad 比較好。\\n[x] ls.dump w/o following argument in TIB to list localStorage of all, because \\n    js> storage.all() virtualizes localStorage very well.\\n[x] (ls.dump) reads localstorage.json file directly now. Should break down to \\n    read-json ( filename -- jsonObj ) and (ls.dump) ( jsonObj filename -- )\\n\\n[x] 擴充 ls.dump 當隨後沒有給 filename 時就 dump localStorage <--- 3htm, 3ce 的需要改良\\n    所以 help 要加強\\n\\n[x] Study how to *write* files to local disk on super-chrome jeforth.3htm\\n    --> 先前有找到過一個例子, 可以把網頁上的 pictures drag-drop 一下就 save 成 local file\\n        Ynote: \\\"jeforth 研究 Chrome extension 存檔到本地 disk 的方法\\\" the thing is \\\"XMLHttpRequest\\\" \\n    --> Study XMLHttpRequest @ http://www.w3school.com.cn/xml/xml_http.asp\\n        <js> var x =new XMLHttpRequest(); x </jsV> constant xmlhttp // ( -- obj ) XMLHttpRequest object\\n        xmlhttp :: open(\\\"GET\\\",\\\"a.html\\\",true)\\n        xmlhttp :: send(null)\\n        try on 3hta ... error : access denied\\n        try on jeforth.3nw --> it works! \\n    --> See log on 3nw \\\"Study XMLHttpRequest object 2016-07-06\\\" \\n        XMLHttpRequest 可以 read 檔案, 但是 write 應該是靠 server 端做的吧! 那還不如用 3nw。\\n        [ ] 我以前研究過 Web server 端的程式 on 3nd, it's time to review.\\n    [/] 想要 write file 腳邊的目的是 sync 3htm 3ce 的 localstorage log. 3hta, 3nw 已經靠 GitHub\\n        做到這點了。既然是為了這個目的, 可以利用 Chrome browser 本有的 save 網頁功能, 如此只需 read \\n        local file 的能力就夠了, 3ce super_chrome 3htm 都可以, 那就解決了呀!\\n\\n[x] snapshot command does not capture textareas <-- bug!! \\n    Need to copy textarea.value into innerHTML\\n    --> (eb.read) 的 help 有紀錄，早就發現有這個問題了。現在腦子裡一點印象都沒有。\\n    --> textarea.value->innertext 是解決 textarea 的內容之問題。\\n    [x] try this: js> outputbox textarea.value->innertext snapshot <--- B i n g o ! ! \\n        --> so snapshot should use this solution.\\n        --> 早就有了, 但是寫錯了! 訂正 OK。\\n[/] stop() 是個 DOM 的 native code!! \\n[x] 利用 Chrome browser 本有的 save 網頁功能 save 3ce 3htm 的 localstorage.html\\n    --> study localstorage.html ... 結果所有的 textarea 都是空的, 要先這樣一下:\\n        <js> $(\\\"textarea\\\").each(function(){this.innerText = this.value})</js>\\n        就好了，可以 Ctrl-S 把所有內容都 save 成 ~.html 檔了。\\n    --> 1. read localstorage.html as a text file by readTextFile\\n        2. remove script, style, rename id=outputbox, id=inputbox by regular expression \\n            cls char c:\\\\Users\\\\hcche\\\\Downloads\\\\localstorage.html readTextFile\\n            remove-script-from-HTML remove-style-from-HTML\\n            :> replace(/id=\\\"inputbox\\\"/g,'id=\\\"input_box\\\"')\\n            :> replace(/id=\\\"outputbox\\\"/g,'id=\\\"output_box\\\"')\\n            :> replace(/id=\\\"endofinputbox\\\"/g,'id=\\\"endofinput_box\\\"')\\n            :> replace(/class=\\\"console3we\\\"/g,'class=\\\"ls_hash\\\"')\\n           這樣就搞定了。\\n        3. </o> the entire string and get the element object.\\n        4. start copy each of every view box to localstorage fields\\n            > js> $(\\\".ls_hash\\\").length tib. \\\\ ==> 1 OK \\n            > js> $(\\\".box\\\",$(\\\".ls_hash\\\")).length tib. \\\\ ==> 6 OK \\n            > js> $(\\\".vbpathname\\\",$(\\\".box\\\",$(\\\".ls_hash\\\"))[0]).html() tib. \\\\ ==> localStorage OK \\n            > js> $(\\\".vbpathname\\\",$(\\\".box\\\",$(\\\".ls_hash\\\"))[0]).html() \\\\ ==> localStorage (string)\\n            > js> $(\\\".vbfieldname\\\",$(\\\".box\\\",$(\\\".ls_hash\\\"))[0]).html() \\\\ ==> sourcecode (string)\\n            > js> $(\\\".vbtextarea\\\",$(\\\".box\\\",$(\\\".ls_hash\\\"))[0]).html() \\\\ ==> \\\\ \\\"jeforth.3ce 讀取「臺灣銀行」的「除權除息表」..\\n            > js> $(\\\".vbhtmlarea\\\",$(\\\".box\\\",$(\\\".ls_hash\\\"))[0]).html() \\\\ ==>  (string)\\n    [x] : read-ls.html ( \\\"pathname\\\" -- ObjJquery ) \\\\ Read localstorage.html\\n            readTextFile ( \\\"html\\\" )\\n            remove-script-from-HTML remove-style-from-HTML\\n            :> replace(/id=\\\"inputbox\\\"/g,'id=\\\"input_box\\\"')\\n            :> replace(/id=\\\"outputbox\\\"/g,'id=\\\"output_box\\\"')\\n            :> replace(/id=\\\"endofinputbox\\\"/g,'id=\\\"endofinput_box\\\"')\\n            :> replace(/class=\\\"console3we\\\"/g,'class=\\\"ls_hash\\\"')\\n            </o> ( obj ) \\\\ The entire localstorage.html in outputbox\\n            js> $(\\\".box\\\",$(\\\".ls_hash\\\")) ( array ) \\\\ array of field elements\\n            ; \\n            /// The entire localstorage.html will be shown on outputbox.\\n            /// The result is an jQuery of field elements\\n    [x] fieldname \\n            js> $(\\\".ebname\\\",tos()[0]).attr(\\\"placeholder\\\") \\\\ ==> 台灣50評估 2016-07-03 買華碩吧 (string)\\n        doc\\n            > js> $(\\\".ebhtmlarea\\\",tos()[0])[0].innerHTML \\\\ if codemode is false\\n            > js> $(\\\".ebtextarea\\\",tos()[0])[0].value \\\\ if codemode is true\\n        readonly\\n            js> $(\\\".ebreadonlyflag\\\",tos()[0]).attr(\\\"flag\\\") \\\\ ==> false (string)\\n        codemode\\n            js> $(\\\".ebmodeflag\\\",tos()[0]).attr(\\\"flag\\\") \\\\ ==> false (string)\\n        : element>field ( element -- obj ) \\\\ Translate a local storage DOM element to object\\n            {} ( element obj ) <js>\\n            tos().name=$(\\\".ebname\\\",tos(1)).attr(\\\"placeholder\\\");\\n            tos().readonly=$(\\\".ebreadonlyflag\\\",tos(1)).attr(\\\"flag\\\");\\n            tos().codemode=$(\\\".ebmodeflag\\\",tos(1)).attr(\\\"flag\\\");\\n            if (tos().codemode==\\\"true\\\") tos().doc=$(\\\".ebtextarea\\\",tos(1)).value;\\n            else tos().doc=$(\\\".ebhtmlarea\\\",tos(1)).innerHTML;\\n            </js> nip ; /// 今天到這裡, 還不成功, don't know why . . .\\n    --> 轉戰到 3ce local storage log field 'lab' ... \\n       \\n[x] 發現 ls.f edit box 的 style 每個 instance 都重複定義, 要處理嗎?\\n        <div class=\\\"vb\\\">\\n            <style type=\\\"text/css\\\">\\n                .vb .box { width:90%; }\\n                .vb .box, .vb .vbhtmlarea { border:1px solid black; }\\n                .vb p { display:inline; } \\n                .vb .vbname { font-size: 1.1em; }\\n            </style>\\n            <div class=\\\"box\\\">\\n        ...\\n    --> 我以前對 CSS style 的瞭解不太正確。以為用 class 限定的 style 要真有該 class 所以都把\\n        edit box 的 style 隨 edit box 重複定義於每個 instance 內。其實多此一舉。只要針對這種\\n        class 定義 style 一次即可， 用 <h> 可也。\\n\\n[x] why ls.f needs ls.viewBox? why not simply using edit box? If is using edit box then \\n    3ce 3htm Ctrl-S save the entire page can also save the mode flag and read-only flag\\n    that are not existing in view box. 應該用個 DIV 來放 eb, 必要時,例如要 dump 時, 整個 dump 好\\n    都搬進 outputbox 裡去。已經 open 的 field 都自動 save。搬進 outputbox 是為了方便一次全部 cls 掉。\\n    因為都已經 save 過了所以不怕 data lost.\\n    [x] Manually try this on 3htm --> 馬上發現問題點了, Chrome Ctrl-S save 起來的檔案沒有記錄到\\n        readonly mode saved 等 flag, 就這麼點問題。解法是擴充自定義的 flag attribute 來存放這些設定. \\n        那麼 localStorage hash format 要改嗎? 不用, localStorage/storage.all() 是個 hash\\n        格式照舊. \\n        js> $(\\\".ebmodeflag\\\",$(\\\".eb\\\"))[0].outerHTML \\\\ ==> <input type=\\\"checkbox\\\" class=\\\"ebmodeflag\\\" disabled=\\\"disabled\\\"> (string)\\n        js> $(\\\".ebmodeflag\\\",$(\\\".eb\\\")).attr(\\\"flag\\\") \\\\ ==> undefined (undefined)\\n        js: $(\\\".ebmodeflag\\\",$(\\\".eb\\\")).attr(\\\"flag\\\",\\\"true\\\")\\n        js> $(\\\".ebmodeflag\\\",$(\\\".eb\\\")).attr(\\\"flag\\\") \\\\ ==> true (string)\\n        js: $(\\\".ebmodeflag\\\",$(\\\".eb\\\")).attr(\\\"flag\\\",\\\"false\\\")\\n        js> $(\\\".ebmodeflag\\\",$(\\\".eb\\\")).attr(\\\"flag\\\") \\\\ ==> false (string)\\n    [x] 到處都是重複的 ~attr(\\\"flag\\\",true/false) 這很笨, textarea 本來就需要處理了, 不如弄個 save comand \\n        集中處理就好了，最後發個 alert() 讓 user 自己 press Ctrl-S \\n        \\\\ 可能這樣就可以了\\n        js: $(\\\"textarea\\\").each(function(){this.innerText=this.value})\\n        <js> \\n            $(\\\".eb\\\").each(function(){\\n                $(\\\".ebmodeflag\\\",    this).attr(\\\"flag\\\",       $(\\\".ebmodeflag\\\",    this)[0].checked);\\n                $(\\\".ebreadonlyflag\\\",this).attr(\\\"flag\\\",       $(\\\".ebreadonlyflag\\\",this)[0].checked);\\n                $(\\\".ebname\\\",        this).attr(\\\"placeholder\\\",$(\\\".ebname\\\",        this)[0].value);\\n\\t\\t\\t\\t\\n            })\\n        </js>\\n        --> 成功! 再寫一個把所有 field 都列出來的 loop 就可以了\\n    [x] 不用 ls.viewBox 直接用 ed eb 牽涉到 storage.get(key, hahs) 都要改成可以接受\\n        指定的 hash table 而非認定 localStorage. 這還好, 當沒有指定時就當 localStorage\\n        即可,衝擊不大。 \\n        [x] 以上 [x] 3hta 不用改 [x] 3nw 同 3hta 也不用改, \\n                [x] 3htm 可能只須改這個 common 部分 [x] 3ce 沿用 3hta 的,無可改。\\n        [x] tbd_local-storage-field-editable? tbd_(eb.read) of ls.f are T.B.D. waiting for the \\n            storage.get() <--- 很簡單, 一下就改好成功了!\\n\\n[ ] Apple Safari 上跑 jeforth.3htm failed to read f/jeforth.f \\n[x] Run a local storage field from within another field does not work. Why?\\n    --> 可以呀!! 從 autoexec 裡去 run a 看看 --> Doesn't run at all from and only from within autoexec !!\\n    RI: Now I know the \\\"run fieldname\\\" command is asynchronous!! \\n        The 'stop' command was run before the indicated field, so nothing was run.\\n    --> Try to run a field that \\n        prints the now, and the following command prints now too, let's see .... Shit!!\\n        True !!! \\n    [x] No no no, run command should not behave this way. How to resolve that?\\n        --> how about readTextFile ? if it is not asynchronous then why 'run'?\\n            --> Yeap, readTextFile is synchronous, no problem.\\n    --> 'run' is now asynchronous <---- problem. \\n    [x] The 'autoexec' problem workaround is NOT to use stop command in it <--- Bingo!!\\n\\n[x] ls.f import / export 不好用, 不靈光 \\n    ok now. We have 'export' and 'export-one-field' to dump fields to a new\\n    WWW browser page so we can save them by copy-paste to a file or import\\n    to another jeforth.3we application.\\n[x] <text></text> 能不能 nested? 為了 nested problem import 有時候不能用 <text>\\n    只好改成這樣 js> $(\\\"textarea\\\")[0].value import\\n\\n    [x] 最後一個 </text> 失去 compile 作用因為 nestLevel 錯誤\\n    [x] This version works fine. I want to improve it further. \\n        I don't like nestLevel property --> see Ynote :\\n        \\\"jeforth.3we design a nesting supported〈text〉also〈comment〉\\\"\\n[x] I am working on 如何把 </text> 還回去 \\n\\n[x] *debug* 可以用在 immediate word 裡面, 當 break 到時可能在 colon definition 的 \\n    compiling state 此時 q 要下成 [ q ] , .s 要下成 [ .s ] ... etc 能不能自動暫時\\n    切成 interpret state? \\n    --> 發現是 compiling mode 時, 若自動加上 [ ] 外框, 此時觀察 compiling 會看到\\n        false. 其他倒沒甚麼問題。\\n[x] reset should clear ' <text> :: nestLevel=0 <---- obsoleted\\n\\n[x] dump-edit-box 可能會傷到正在 edit 的 field --> 讓 (ed) 不重複 open 同一個 \\n    field 更好吧! ---> Done!!!\\n\\n[ ] Youtube presentation of numeric.js\\n[ ] 準備 release master 新版, search \\\"kvm.minor_version\\\"\\n    全部加 200 代表 GitHub master release 的版號。\\n    [x] jeforth.3nd.js --> version 2 -> 202\\n    [x] jeforth.3nw.html, /package.json -> version 22 -> 222\\n    [x] jeforth.3htm.js --> to be version 2 now -> 202\\n    [x] jeforth.3ce.js(3ce extension pages)-> 202\\n    [x] jeforth.3ce, ce.f(Target page) -> 202\\n    [x] jeforth.3ce, background.js -> 202\\n    [x] jeforth.hta --> <HTA> tag. to be version 3 now -> 203 \\n    [ ] GitHub read me should feature the published 3ce Chrome extension.\\n    [ ] README.md 上的 demo 也要改寫好一點。最好能有浮動 console3we 框。\\n        --> 先把結構改好, link 出去的內容先弄成 under constructing. 日起有功,穩步推進。\\n[ ] 3ce private/money.f stock-evaluate input simplify to only ID\\n[ ] 這行會出問題, \\\\ 帶頭的 command 裡的 ( ... ) 造成的!!\\n    : is-editbox-field? ( obj -- boolean ) \\\\ Is the object ( probably from localStorage ) an edit box article?\\n    改這樣就好了:\\n    : is-editbox-field? ( obj -- boolean ) \\\\ Is the object (probably from localStorage) an edit box article?\\n\\n\",\"mode\":true,\"readonly\":false}",
	"[Closed] ls.f localStorage edit box develop log" : "{\"doc\":\"\\n[x] ls.f list is now sorted by field name. How to sort by UTF-8 is an interesting question\\n    which has been answered as:\\n    js> storage.all() obj>keys :> sort(function(a,b){return(a.localeCompare(b))})\\n[/] The big effort for save-restore with Ctrl-S and localstorage.html is finally\\n    known unnecessary. export to a textarea is an easier way. \\n    --> save restore 是針對 ~.html format 的 private/3ce.html or 3htm.html\\n        還是保留吧!\\n    [x] (import) to get TOS of the string \\n    [x] import gets <pathname.json> or default private/3ce.json or 3htm.json\\n\\n[x] (import) ( \\\"JSON\\\" -- ) \\\\ Import localStorage fields from JSON string\\n    import ( <pathname> -- ) \\\\ Import localStorage fields from a JSON file\\n                             \\\\ or from the default private/3ce.json or 3htm.json\\n    export ( -- ) \\\\ Export localStorage to a textarea\\n    js> storage.get(\\\"fieldname\\\") (export) <--- is exactly export-one-field \\n\\n[x] if (eb.read) will be good enough then I can view any ~.json file not only\\n    the localStorage.\\n    (eb.read) ( eb hash name -- ) input arguments are to many, should be\\n    ( eb field -- ).\\n    [/] also, <js> alert(\\\"Can't find '\\\" + pop() + \\\"', is it new?\\\")</js>\\n        should be checed before calling (eb.read) <--- No, in (eb.read) is fine\\n        or we'll need to alert() at many places.\\n[x] new \\\"dump\\\" ( [<pathname>] -- ) \\n    works on private/3ce.json only so far. --> ok now.\\n\\n[x] ls.f ok now, a lot of absoluted program are collected below for reference\\n    someday :\\n\\n<comment>\\n\\\\\\t[x] local storage ed editor textarea wrap on/off \\n\\\\\\t\\tjs> $(\\\"textarea\\\",\\\".eb\\\").length . \\\\ 先查看,確定目標只有一個,以免動錯對象\\n\\\\\\t\\tjs> $(\\\"textarea\\\",\\\".eb\\\").attr(\\\"wrap\\\") . \\\\ 查看目前狀態是 \\\"on\\\" 還是 \\\"off\\\"\\n\\\\\\t\\tjs: $(\\\"textarea\\\",\\\".eb\\\").attr(\\\"wrap\\\",\\\"on\\\") \\\\ 這個例子把它 turn \\\"on\\\"\\n\\\\\\t\\t--> 增加這個按鈕... 可以不必, 用以下的 One-liner 一行搞定, 先 focus 在目標 textarea \\n\\\\\\t\\t\\t用 Ctrl-Enter 執行。\\n\\\\\\t\\tjs: $(\\\"textarea:focus\\\").attr(\\\"wrap\\\",\\\"on\\\")\\n\\\\\\t\\tjs: $(\\\"textarea:focus\\\").attr(\\\"wrap\\\",\\\"off\\\") \\n\\\\\\n\\\\\\t[x] Change font size is similar \\n\\\\\\t    js: $(\\\"textarea\\\",\\\".eb\\\").css(\\\"font-size\\\",\\\"2em\\\")\\n\\\\\\t    js: $(\\\"textarea:focus\\\").css(\\\"font-size\\\",\\\"2em\\\") \\\\ 這個好, 同上, 用 Ctrl-Enter 執行\\n\\\\\\n\\\\    [x] : read-ls.html ( \\\"pathname\\\" -- ObjJquery ) \\\\ Read localstorage.html\\n\\\\            readTextFile ( \\\"html\\\" )\\n\\\\            remove-script-from-HTML remove-style-from-HTML\\n\\\\            :> replace(/id=\\\"inputbox\\\"/g,'id=\\\"input_box\\\"')\\n\\\\            :> replace(/id=\\\"outputbox\\\"/g,'id=\\\"output_box\\\"')\\n\\\\            :> replace(/id=\\\"endofinputbox\\\"/g,'id=\\\"endofinput_box\\\"')\\n\\\\            :> replace(/class=\\\"console3we\\\"/g,'class=\\\"ls_hash\\\"')\\n\\\\            </o> ( obj ) \\\\ The entire localstorage.html in outputbox\\n\\\\            js> $(\\\".box\\\",$(\\\".ls_hash\\\")) ( array ) \\\\ array of field elements\\n\\\\            ; \\n\\\\            /// The entire localstorage.html will be shown on outputbox.\\n\\\\            /// The result is an jQuery of field elements\\n\\\\    [ ] fieldname \\n\\\\            js> $(\\\".ebname\\\",tos()[0]).attr(\\\"placeholder\\\") \\\\ ==> 台灣50評估 2016-07-03 買華碩吧 (string)\\n\\\\        doc\\n\\\\            > js> $(\\\".ebhtmlarea\\\",tos()[0])[0].innerHTML \\\\ if codemode is false\\n\\\\            > js> $(\\\".ebtextarea\\\",tos()[0])[0].value \\\\ if codemode is true\\n\\\\        readonly\\n\\\\            js> $(\\\".ebreadonlyflag\\\",tos()[0]).attr(\\\"flag\\\") \\\\ ==> false (string)\\n\\\\        codemode\\n\\\\            js> $(\\\".ebmodeflag\\\",tos()[0]).attr(\\\"flag\\\") \\\\ ==> false (string)\\n\\\\        : element>field ( element -- obj ) \\\\ Translate a local storage DOM element to object\\n\\\\            {} ( element obj ) <js>\\n\\\\            tos().name=$(\\\".ebname\\\",tos(1)).attr(\\\"placeholder\\\");\\n\\\\            tos().readonly=$(\\\".ebreadonlyflag\\\",tos(1)).attr(\\\"flag\\\");\\n\\\\            tos().mode=$(\\\".ebmodeflag\\\",tos(1)).attr(\\\"flag\\\");\\n\\\\            if (tos().mode==\\\"true\\\") tos().doc=$(\\\".ebtextarea\\\",tos(1)).value;\\n\\\\            else tos().doc=$(\\\".ebhtmlarea\\\",tos(1)).innerHTML;\\n\\\\            </js> nip ; /// 今天到這裡, 還不成功, don't know why . . .\\n\\\\\\t\\t\\n\\\\\\n\\\\\\t: read-localstorage.html ( \\\"pathname\\\" -- ObjJquery ) \\\\ Read localstorage.html\\n\\\\\\t\\treadTextFile ( \\\"html\\\" )\\n\\\\\\t\\tremove-script-from-HTML remove-style-from-HTML\\n\\\\\\t\\t:> replace(/id=\\\"inputbox\\\"/g,'id=\\\"input_box\\\"')\\n\\\\\\t\\t:> replace(/id=\\\"outputbox\\\"/g,'id=\\\"output_box\\\"')\\n\\\\\\t\\t:> replace(/id=\\\"endofinputbox\\\"/g,'id=\\\"endofinput_box\\\"')\\n\\\\\\t\\t:> replace(/class=\\\"console3we\\\"/g,'class=\\\"ls_hash\\\"')\\n\\\\\\t\\t</o> drop \\\\ The entire localstorage.html in outputbox\\n\\\\\\t\\tjs> $(\\\".box\\\",$(\\\".ls_hash\\\")) ( array ) \\\\ array of field elements\\n\\\\\\t\\t;\\n\\\\\\t\\t/// The entire localstorage.html will be shown on outputbox.\\n\\\\\\t\\t/// The result is an jQuery of field elements\\n\\\\\\n\\\\\\t: element>field ( element -- obj ) \\\\ Translate a local storage DOM element to object\\n\\\\\\t\\t{} ( element obj )\\n\\\\\\t\\tjs: tos().name=$(\\\".ebname\\\",tos(1)).attr(\\\"placeholder\\\")\\n\\\\\\t\\tjs: tos().readonly=$(\\\".ebreadonlyflag\\\",tos(1)).attr(\\\"flag\\\")===\\\"true\\\"?true:false\\n\\\\\\t\\tjs> tos().mode=$(\\\".ebmodeflag\\\",tos(1)).attr(\\\"flag\\\")===\\\"true\\\"?true:false\\n\\\\\\t\\tchar true == if js: tos().doc=$(\\\".ebtextarea\\\",tos(1))[0].value\\n\\\\\\t\\telse js: tos().doc=$(\\\".ebhtmlarea\\\",tos(1))[0].innerHTML then\\n\\\\\\t\\tnip ;\\n\\\\\\n\\\\\\t\\\\ Test, both words work fine.\\n\\\\\\t\\tchar private/jeforth.3ce.html read-ls.html ( objQuery )\\n\\\\\\t\\tdup :> [0] element>field ( obj ) (see) ( objQuery ) cr\\n\\\\\\t\\tdup :> [1] element>field ( obj ) (see) ( objQuery ) cr\\n\\\\\\t\\tdropall\\n\\\\\\n\\\\\\t: jqo-list ( jQobj -- ) \\\\ List localstorage.html fields in the given jQuery object\\n\\\\\\t\\t( jqo ) js> tos().length ( jqo length )\\n\\\\\\t\\t?dup if dup for dup r@ -\\n\\\\\\t\\t( jqo COUNT i ) js> tos(2)[tos()] ( jqo COUNT i jqo[i] )\\n\\\\\\t\\telement>field  ( jqo COUNT i filedObj )\\n\\\\\\t\\tswap . space :> name . cr\\n\\\\\\t\\t( COUNT ) next drop then drop ;\\n\\\\\\n\\\\\\t\\\\ Test, \\n\\\\\\t\\tdropall cls \\n\\\\\\t\\tchar private/localstorage2.html  read-ls.html ( objQuery )\\n\\\\\\t\\tjqo-list\\n\\\\\\n\\\\\\t: jqo-restore ( jQobj -- ) \\\\ Restore localstorage.html jquery object to local storage\\n\\\\\\t\\t( jqo ) js> tos().length ( jqo length )\\n\\\\\\t\\t?dup if dup for dup r@ -\\n\\\\\\t\\t( jqo COUNT i ) js> tos(2)[pop()] ( jqo COUNT jqo[i] )\\n\\\\\\t\\telement>field  ( jqo COUNT fieldObj ) \\n\\\\\\t\\tdup :> name ( jqo COUNT fieldObj name )\\n\\\\\\t\\tjs: storage.set(pop(),pop())\\n\\\\\\t\\t( jqo COUNT ) next drop then drop ;\\n\\\\\\n\\\\\\t\\\\ Test, 成功了!!!!\\n\\\\\\t\\tdropall cls \\n\\\\\\t\\tchar private/jeforth.3ce.html read-ls.html ( objQuery )\\n\\\\\\t\\tjqo-restore\\n\\\\\\n\\\\\\n\\\\\\t> jq :> [3] element>field ( obj ) (see) ( objQuery )\\n\\\\\\t{\\n\\\\\\t\\t\\\"name\\\": \\\"月梅股 2016-07-21\\\",\\n\\\\\\t\\t\\\"readonly\\\": \\\"false\\\",\\n\\\\\\t\\t\\\"codemode\\\": \\\"false\\\",\\n\\\\\\t\\t\\\"doc\\\": \\\"<textarea>2016 Stock Evaluate 3514昱晶 今年開始賺錢了! 月梅可能又對了。</textarea><hr>\\\"\\n\\\\\\t} OK Input box EditMode = true\\n\\\\\\tInput box EditMode = false\\n\\\\\\n\\\\\\t: test ?dup if dup for dup r@ - ( COUNT i ) . space ( COUNT ) next drop then ;\\n\\\\\\t\\t  5 test ==> 0 1 2 3 4\\n\\\\\\n\\\\\\n\\\\\\t[x] 3hta's local storage 目前因為 debug localstorage.html 而被弄亂了, 從 3ce 來的 localstorage.html 應該先整理成安全的內容。\\n\\\\\\t\\t--> playground/localstorage2.html 弄好了, 所有在 DIV console3we 裡面的 class=box DIV 就是一個 field. 只留兩個把其他都\\n\\\\\\t\\t\\t改成 class=\\\"boxxx\\\" 即可。 field name 改掉了所以不會傷到真正的內容。\\n\\\\\\t\\t--> 把 3hta 修好,邊開發要用到, 必須保持可用。\\n\\\\\\t[x] 直接從 Chrome Ctrl-S save 起來的 Edit boxes 沒有必要的線索，試試用 standardize-editbox 先\\n\\\\\\t\\t跑過 --> 對了!! --> dump-all command does it now.\\n\\\\\\t[x] 承上，所以 edit box save 之前都應該先 standardize-editbox 一下。本來就有處裡 textarea 的\\n\\\\\\t\\tvalue 與 innerHTML 不一致的問題，該 command 保留但研究看是否應併進 ...\\n\\\\\\t\\t--> dump-all command does it now.\\n\\\\\\t[x] Note! 3we applications 只能讀取 jeforth.3we folder 下的檔案。\\n\\\\\\t\\tchar playground\\\\jeforth.3ce.html read-ls.html ( objQuery )\\n\\\\\\t\\t如上，移到 playground 證實的確如此。 --> there are confidential info, 移到 private 更好。\\n\\\\\\n\\\\\\t\\\\ 這行已經成功把整個 localstorage.html archive 檔讀成一個 jQuery object:\\n\\\\\\t\\\\     char playground\\\\jeforth.3ce.html read-ls.html\\n\\\\\\t\\\\ js> $(\\\"*\\\",tos()).length . \\\\ ==> 16 OK 但是不能直接 (see) 那怎麼去觀察它?\\n\\\\\\t\\\\ 既然是 jQuery object 就用 each(function(){}) 來處理吧!\\n\\\\\\t\\\\ 以下這段 code 很成功地把 read-ls.html 取得的整個 jQuery object 以 outerHTML 的形式\\n\\\\\\t\\\\ 印出來了。\\n\\\\\\t<js>\\n\\\\\\t$(\\\"*\\\",tos()).each(function(){\\n\\\\\\t\\ttype(\\\"-------------------------\\\\n\\\");\\n\\\\\\t\\ttype($(this)[0].outerHTML);\\n\\\\\\t\\ttype(\\\"\\\\n\\\");\\n\\\\\\t});\\n\\\\\\t</js>\\n\\\\\\n\\\\\\t[x] ok now, the localstorage.html appear in outputbox is a little problem. \\n\\\\\\t\\tarrange to a </e> section so easier to delete. \\n\\\\\\t\\t1. create a dummy DIV in outputbox \\n\\\\\\t\\t\\t<o> <div id=dummy>I am a dummy div</div></o> drop\\n\\\\\\t\\t2. print things into the dummy DIV like outputbox :\\n\\\\\\t\\t   char #dummy <e> I am a dummy div with added things</e> drop\\n\\\\\\t\\t   char #dummy <e> <h1>hi</h1></e>\\n\\\\\\t\\t3. Check it out :\\n\\\\\\t\\t   js> dummy.innerHTML .\\n\\\\\\t\\t   I am a dummy divI am a dummy div with added things<h1>hi</h1> OK \\n\\\\\\t\\t4. delete it :\\n\\\\　　　　　   js> dummy removeElement\\n\\\\\\t[x] move-all-editbox-to-outputbox may unnecessary at all. Try using above \\n\\\\\\t\\tknowledge in dump-edit-box \\n\\\\\\t\\t[x] create a hidden <DIV>\\n\\\\\\t\\t\\t> <o> <div id=hh> I am hidden div</div></o> constant hh\\n\\\\\\t\\t\\tI am hidden divcan any body see me ??\\n\\\\\\t\\t\\t> hh . ==> [object HTMLDivElement] OK \\n\\\\\\t\\t\\t> hh js: $(\\\"#hh\\\").hide() <-- yes, it works.\\n\\\\\\t\\t\\t> char #hh <e> can any body see me ?? </e>\\n\\\\\\t\\t\\t> hh js: $(\\\"#hh\\\").show() <-- Bingo!! it works.\\n\\\\\\t\\t\\t\\\\ CSS style is the trick to hide and show\\n\\\\\\t\\t\\t<div id=\\\"hh\\\" style=\\\"display: none;\\\">I am hidden</div>\\n\\\\\\t\\t\\t<div id=\\\"hh\\\" style=\\\"\\\">I am not hidden</div>\\n\\\\\\t\\t\\t--> Now we have \\\"hidden-div\\\" \\n\\\\\\t\\t\\n\\\\\\t[x] none edit box fields will become an edit box field after saved to \\n\\\\\\t\\tlocalstorage.html and restored. dump-all should skip them.\\n\\\\\\t\\t--> the way to view them is :\\n\\\\\\t\\t\\t  js> storage.get(\\\"field-name\\\") (see)\\n\\\\\\t\\t\\tso we don't need to use edit box to view them.\\n\\\\\\t\\t[x] \\\"dump-all\\\" is now \\\"dump-edit-box\\\" it doesn't dump none edit box\\n\\\\\\t\\t\\tfields now.\\n\\\\\\t\\n\\\\\\t\\\\ These words are obsoleted\\n\\\\\\n\\\\   : ls.viewBox ( -- viewBox ) \\\\ Create view box in outputbox, view a localStorage field\\n\\\\\\t\\t<text>\\n\\\\\\t\\t\\t<div class=vb>\\n\\\\\\t\\t\\t<style type=\\\"text/css\\\">\\n\\\\\\t\\t\\t\\t.vb .box { width:90%; }\\n\\\\\\t\\t\\t\\t.vb .box, .vb .vbhtmlarea { border:1px solid black; }\\n\\\\\\t\\t\\t\\t.vb p { display:inline; } /* [ ] <P> 不該有套疊,故多餘的很容易可以消除 */\\n\\\\\\t\\t\\t\\t.vb .vbname { font-size: 1.1em; }\\n\\\\\\t\\t\\t</style>\\n\\\\\\t\\t\\t<div class=box>\\n\\\\\\t\\t\\t\\t<p class=vbpathname>vb path name</p> &gt; <b class=vbfieldname>vb field name</b>\\n\\\\\\t\\t\\t\\t<div class=vbbody>\\n\\\\\\t\\t\\t\\t\\t<textarea class=vbtextarea rows=12 wrap=\\\"off\\\"></textarea>\\n\\\\\\t\\t\\t\\t\\t<div class=vbhtmlarea></div>\\n\\\\\\t\\t\\t\\t</div>\\n\\\\\\t\\t\\t</div>\\n\\\\\\t\\t\\t</div>\\n\\\\\\t\\t</text> /*remove*/ </o> ( viewBox ) \\n\\\\\\t\\tjs: $('.vbtextarea',tos()).attr(\\\"readOnly\\\",true)\\n\\\\\\t\\tjs: $('.vbhtmlarea',tos())[0].contentEditable=false\\n\\\\\\t\\tjs: inputbox.blur();window.scrollTo(0,tos().offsetTop-50) ( viewBox ) ;\\n\\\\\\n\\\\\\t: ls.viewBoxLoad ( viewBox hash fieldname -- ) \\\\ Load data into a view box \\n\\\\\\t\\tjs: $(\\\".vbfieldname\\\",tos(2)).html(tos())  ( viewBox hash fieldname ) \\n\\\\\\t\\tjs> pop(1)[pop()] ( viewBox \\\"field\\\" )\\n\\\\\\t\\t<js> try {\\n\\\\\\t\\t\\tvar data = JSON.parse(tos()); // The field is an object\\n\\\\\\t\\t} catch(err) {\\n\\\\\\t\\t\\tdata = {doc:tos(),mode:true}; // Not an object, it must be a string.\\n\\\\\\t\\t};data</jsV> nip ( viewBox obj )\\n\\\\\\t\\tdup :> doc swap ( viewBox doc obj )\\n\\\\\\t\\t:> mode ( viewBox doc mode ) if ( viewBox doc )\\n\\\\\\t\\t\\tjs:\\t$(\\\".vbhtmlarea\\\",tos(1)).hide() \\n\\\\\\t\\t\\tjs: $('.vbtextarea',pop(1))[0].value=pop() ( empty )\\n\\\\\\t\\telse ( viewBox doc )\\n\\\\\\t\\t\\tjs: $(\\\".vbtextarea\\\",tos(1)).hide()\\n\\\\\\t\\t\\tjs: $(\\\".vbhtmlarea\\\",pop(1)).html(pop()) ( empty )\\n\\\\\\t\\tthen ; \\n\\\\\\n\\\\\\t: read-json ( filename -- jsonHash ) \\\\ Read json file\\n\\\\\\t\\treadTextFile ( \\\"json\\\" )\\n\\\\\\t\\tjs> tos().charCodeAt(0)==65279 if js> pop().slice(1) then ( \\\"json\\\" )\\n\\\\\\t\\tjs> JSON.parse(pop()) ( hash ) ;\\n\\\\\\t\\t/// Not only read the file but also resolve utf-8 BOM problem.\\n\\\\\\t\\t/// charCodeAt(0)==65279 is utf-8 BOM that may bother JSON.parse()\\n\\\\\\t\\n\\\\\\t: (ls.dump) ( hash filename -- ) \\\\ Dump the entire localstorage.json formated hash\\n\\\\\\t\\t>r dup obj>keys swap ( array hash ) \\n\\\\\\t\\tjs> tos(1).length ?dup if for ( array hash )\\n\\\\\\t\\t\\tls.viewBox js: $(\\\".vbpathname\\\",tos()).html(rtos(1)) ( viewBox )\\n\\\\\\t\\t\\tover ( array hash viewBox hash )\\n\\\\\\t\\t\\tjs> tos(3).pop() ( array hash viewBox hash fieldname )\\n\\\\\\t\\t\\tls.viewBoxLoad ( array hash )\\n\\\\\\t\\tnext then ( array hash ) 2drop r> drop ;\\n\\\\\\t\\t\\n\\\\\\t: ls.dump ( <filename> -- ) \\\\ Dump the entire localstorage.json formated file or localStorage if filename is not given\\n\\\\\\t\\tchar \\\\n|\\\\r word trim ( pathname ) \\n\\\\\\t\\t?dup if ( pathname ) dup read-json swap (ls.dump) \\n\\\\\\t\\telse js> storage.all() char localStorage (ls.dump) then ;\\n\\\\\\t\\t/// View logs in local storage of each applications:\\n\\\\\\t\\t///   ls.dump /* localStorage */\\n\\\\\\t\\t///   ls.dump 3hta/localstorage.json\\n\\\\\\t\\t///   ls.dump doc/archive.json\\n\\\\\\t\\t/// If local storage become too big. Simply move to doc/archive.json \\n\\\\\\t\\t/// manually through a text editor.\\n\\\\\\n\\\\\\t: old-dump-all ( -- ) \\\\ Dump all local storage fields \\n\\\\\\t\\t\\\\ main loop 印出所有的 fields \\n\\\\\\t\\t\\tjs> storage.all() obj>keys ( array ) \\\\ array of field names\\n\\\\\\t\\t\\tbegin js> tos().length while ( array )\\n\\\\\\t\\t\\t\\tjs> tos().pop() ( array fieldname ) (ed) ( array )\\n\\\\\\t\\t\\trepeat drop move-all-editbox-to-outputbox standardize-editbox ;\\n\\\\\\t\\t/// 配合 Chrome 的 Ctrl-S 把 local storage 整個 save 成 .html 檔, 將來\\n\\\\\\t\\t/// 可以 restore 回來。\\n\\\\\\t\\t\\n\\\\\\t: old-(export) ( \\\"string\\\" -- ) \\\\ Export the string to a textarea in a new window\\n\\\\\\t\\t\\\\ HTA can open only one window, don't know why. Use that one anyway.\\n\\\\\\t\\t\\tjs> window.open('about:blank','export') ( field window )\\n\\\\\\t\\t\\\\ 把現有的頁面刪掉\\n\\\\\\t\\t\\tjs> tos().document.getElementsByTagName(\\\"html\\\").length ( field window count )\\n\\\\\\t\\t\\tif js: tos().document.removeChild(tos().document.getElementsByTagName(\\\"html\\\")[0]) then \\n\\\\\\t\\t\\t( field window )\\n\\\\\\t\\t<js> \\n\\\\\\t\\t\\t// 如果不弄個 textarea 來顯示, 恐怕有些東西會被翻譯成 HTML。\\n\\\\\\t\\t\\ttos().document.write(\\n\\\\\\t\\t\\t\\t'<html><body>' +\\n\\\\\\t\\t\\t\\t'<textarea ' +\\n\\\\\\t\\t\\t\\t'id=exportbox ' +\\n\\\\\\t\\t\\t\\t'style=\\\"width:100%;font-size:1.3em\\\"' +\\n\\\\\\t\\t\\t\\t'rows=20>' +\\n\\\\\\t\\t\\t\\t'</textarea></body></html>'\\n\\\\\\t\\t\\t);\\n\\\\\\t\\t\\tpop().document.getElementById(\\\"exportbox\\\").value=pop();\\n\\\\\\t\\t</js> ;\\n\\\\\\n\\\\\\t: list-fields ( jQobj -- ) \\\\ List field names in jQuery from read-localstorage.html\\n\\\\\\t\\t( jqo ) js> tos().length ( jqo length )\\n\\\\\\t\\t?dup if dup for dup r@ -\\n\\\\\\t\\t( jqo COUNT i ) js> tos(2)[tos()] ( jqo COUNT i jqo[i] )\\n\\\\\\t\\telement>field  ( jqo COUNT i filedObj )\\n\\\\\\t\\tswap . space :> name . cr\\n\\\\\\t\\t( COUNT ) next drop then drop ;\\n\\\\\\t\\t/// Demo how to iterate through them all.\\n\\\\\\t\\t/// Example:\\t\\n\\\\\\t\\t/// char private/jeforth.3ce.html read-localstorage.html ( jQueryObj )\\n\\\\\\t\\t/// list-fields\\n\\\\        \\n\\\\    \\\\ very easy, no need of a word. \\n\\\\    \\\\ js> storage.all() obj>keys :> sort(function(a,b){return(a.localeCompare(b))})\\n\\\\\\t: field-list ( -- array ) \\\\ Get local storage edit box fields, sorted by field name\\n\\\\\\t\\t[] js> storage.all() obj>keys ( [] names ) \\\\ array of field names\\n\\\\\\t\\tbegin js> tos().length while ( [] names )\\n\\\\\\t\\t\\tjs> tos().pop() ( [] names fieldname )\\n\\\\\\t\\t\\tjs> storage.get(pop()) ( [] names field ) \\n\\\\\\t\\t\\tdup is-editbox-field? ( [] names field boolean ) if \\n\\\\\\t\\t\\t( [] names field ) js: tos(2).push(pop()) ( [] names )\\n\\\\\\t\\t\\telse drop then ( [] names )\\n\\\\\\t\\trepeat drop ;        \\n\\\\\\n\\\\    \\\\ very easy, no need of a word. \\n\\\\    \\\\ js> storage.all() obj>keys :> sort(function(a,b){return(a.localeCompare(b))})\\n\\\\    code field-names ( -- [field-names] ) \\\\ Get local storage edit box sorted field names\\n\\\\        var aa = [];\\n\\\\        for (var i in storage.all()){\\n\\\\            push(storage.get(i));\\n\\\\            execute(\\\"is-editbox-field?\\\");\\n\\\\            if (pop()) aa.push(i);\\n\\\\        }\\n\\\\        push(aa.sort(function(a,b){return(a.localeCompare(b))}));\\n\\\\    end-code\\n\\\\\\n\\\\    > jq :> [3] element>field ( obj ) (see) ( objQuery )\\n\\\\    {\\n\\\\        \\\"name\\\": \\\"月梅股 2016-07-21\\\",\\n\\\\        \\\"readonly\\\": \\\"false\\\",\\n\\\\        \\\"codemode\\\": \\\"false\\\",\\n\\\\        \\\"doc\\\": \\\"<textarea>2016 Stock Evaluate 3514昱晶 今年開始賺錢了! 月梅可能又對了。</textarea><hr>\\\"\\n\\\\    } OK Input box EditMode = true\\n\\\\    Input box EditMode = false\\n\\\\\\n\\\\    : test ?dup if dup for dup r@ - ( COUNT i ) . space ( COUNT ) next drop then ;\\n\\\\          5 test ==> 0 1 2 3 4\\n\\\\\\n\\\\\\n\\\\    [x] 3hta's local storage 目前因為 debug localstorage.html 而被弄亂了, 從 3ce 來的 localstorage.html 應該先整理成安全的內容。\\n\\\\        --> playground/localstorage2.html 弄好了, 所有在 DIV console3we 裡面的 class=box DIV 就是一個 field. 只留兩個把其他都\\n\\\\            改成 class=\\\"boxxx\\\" 即可。 field name 改掉了所以不會傷到真正的內容。\\n\\\\        --> 把 3hta 修好,邊開發要用到, 必須保持可用。\\n\\\\    [x] 直接從 Chrome Ctrl-S save 起來的 Edit boxes 沒有必要的線索，試試用 standardize-eb 先\\n\\\\        跑過 --> 對了!! --> dump-all command does it now.\\n\\\\    [x] 承上，所以 edit box save 之前都應該先 standardize-eb 一下。本來就有處裡 textarea 的\\n\\\\        value 與 innerHTML 不一致的問題，該 command 保留但研究看是否應併進 ...\\n\\\\        --> dump-all command does it now.\\n\\\\    [x] Note! 3we applications 只能讀取 jeforth.3we folder 下的檔案。\\n\\\\        char playground\\\\jeforth.3ce.html read-ls.html ( objQuery )\\n\\\\        如上，移到 playground 證實的確如此。 --> there are confidential info, 移到 private 更好。\\n\\\\\\n\\\\    \\\\ 這行已經成功把整個 localstorage.html archive 檔讀成一個 jQuery object:\\n\\\\    \\\\     char playground\\\\jeforth.3ce.html read-ls.html\\n\\\\    \\\\ js> $(\\\"*\\\",tos()).length . \\\\ ==> 16 OK 但是不能直接 (see) 那怎麼去觀察它?\\n\\\\    \\\\ 既然是 jQuery object 就用 each(function(){}) 來處理吧!\\n\\\\    \\\\ 以下這段 code 很成功地把 read-ls.html 取得的整個 jQuery object 以 outerHTML 的形式\\n\\\\    \\\\ 印出來了。\\n\\\\    <js>\\n\\\\    $(\\\"*\\\",tos()).each(function(){\\n\\\\        type(\\\"-------------------------\\\\n\\\");\\n\\\\        type($(this)[0].outerHTML);\\n\\\\        type(\\\"\\\\n\\\");\\n\\\\    });\\n\\\\    </js>\\n\\\\\\n\\\\    [x] none edit box fields will become an edit box field after saved to \\n\\\\        localstorage.html and restored. dump-all should skip them <--- Done!!\\n\\\\        --> the way to view them is :\\n\\\\              js> storage.get(\\\"field-name\\\") (see)\\n\\\\            so we don't need to use edit box to view them.\\n</comment>\\t\\t\\n\\n\\t: dump-edit-box ( -- ) \\\\ Dump local storage edit box fields \\n\\t\\tjs> storage.all() obj>keys ( array ) \\\\ array of field names\\n        :> sort(function(b,a){return(a.localeCompare(b))}) \\\\ sorted\\n\\t\\tbegin js> tos().length while ( array )\\n\\t\\t\\tjs> tos().pop() ( array fieldname )\\n\\t\\t\\tjs> storage.get(tos()) ( array fieldname field ) \\n\\t\\t\\tis-editbox-field? ( array fieldname boolean ) if \\n\\t\\t\\t( array fieldname ) (ed) ( array )\\n\\t\\t\\telse drop then ( array )\\n\\t\\trepeat drop move-all-editbox-to-outputbox standardize-editbox ;\\n\\t\\t/// 配合 Chrome 的 Ctrl-S 把 local storage 整個 save 成 .html 檔, 將來\\n\\t\\t/// 可以 restore 回來。非 edit box editable 的 objects 不含。\\n        /// 下法可 view 任何 localStorage field :\\n        ///   js> storage.get(\\\"field-name\\\") (see)\\n\\n\\n    \\n\",\"mode\":true,\"readonly\":false}",
	"[closed] stamp command" : "{\"doc\":\"[x] I need time stamp, a Stamp command that pastes t.dateTime at the cursor position.\\n: stamp ( -- ) \\\\ Paste date-time at cursor position\\n    js> clipboardData.getData(\\\"text\\\")  ( saved ) \\\\ SAVE-restore\\n    now t.dateTime ( saved \\\"date time\\\" )\\n    js: clipboardData.setData(\\\"text\\\",pop()) ( saved )\\n    <vb> WshShell.SendKeys \\\"^v\\\" </vb> \\n    500 sleep js: clipboardData.setData(\\\"text\\\",pop()) ( empty ) \\\\ save-RESTORE\\n    ;\\n    /// It works now 2016-05-16 18:11:03. Leave 'stamp' in inputbox then put cursor\\n    /// at target position, press Ctrl-Enter, then that's it! Date-time pasted to\\n    /// the target position.\\n\",\"mode\":true,\"readonly\":true}",
	"[closed] Bug error click [open] of a ls.f ed log but OK on snapshot" : "{\"doc\":\"<p><unindent>\\n</unindent><input class=\\\"lsfieldexport\\\" type=\\\"button\\\" value=\\\"Export\\\" fieldname=\\\"Snapshot 2016-05-19 16:59:10\\\"> <input class=\\\"lsfieldopen\\\" type=\\\"button\\\" value=\\\"Open\\\" fieldname=\\\"Snapshot 2016-05-19 16:59:10\\\"> Snapshot 2016-05-19 16:59:10 &lt;======== Click Open ok<br><input class=\\\"lsfieldexport\\\" type=\\\"button\\\" value=\\\"Export\\\" fieldname=\\\"Log 2016/05/17\\\"> <input class=\\\"lsfieldopen\\\" type=\\\"button\\\" value=\\\"Open\\\" fieldname=\\\"Log 2016/05/17\\\"> Log 2016/05/17 &lt;========= Click Open causes the below error<br><input class=\\\"lsfieldexport\\\" type=\\\"button\\\" value=\\\"Export\\\" fieldname=\\\"[closed] stamp command\\\"> <input class=\\\"lsfieldopen\\\" type=\\\"button\\\" value=\\\"Open\\\" fieldname=\\\"[closed] stamp command\\\"> [closed] stamp command<br><input class=\\\"lsfieldexport\\\" type=\\\"button\\\" value=\\\"Export\\\" fieldname=\\\"Study remove CSS style for an element\\\"> <input class=\\\"lsfieldopen\\\" type=\\\"button\\\" value=\\\"Open\\\" fieldname=\\\"Study remove CSS style for an element\\\"> Study remove CSS style for an element<br><input class=\\\"lsfieldexport\\\" type=\\\"button\\\" value=\\\"Export\\\" fieldname=\\\"Play Flot\\\"> <input class=\\\"lsfieldopen\\\" type=\\\"button\\\" value=\\\"Open\\\" fieldname=\\\"Play Flot\\\"> Play Flot<br><input class=\\\"lsfieldexport\\\" type=\\\"button\\\" value=\\\"Export\\\" fieldname=\\\"log of 3nw\\\"> <input class=\\\"lsfieldopen\\\" type=\\\"button\\\" value=\\\"Open\\\" fieldname=\\\"log of 3nw\\\"> log of 3nw<br><input class=\\\"lsfieldexport\\\" type=\\\"button\\\" value=\\\"Export\\\" fieldname=\\\"3nw working on simpleMDE\\\"> <input class=\\\"lsfieldopen\\\" type=\\\"button\\\" value=\\\"Open\\\" fieldname=\\\"3nw working on simpleMDE\\\"> 3nw working on simpleMDE<br><input class=\\\"lsfieldexport\\\" type=\\\"button\\\" value=\\\"Export\\\" fieldname=\\\"Play with numeric.js\\\"> <input class=\\\"lsfieldopen\\\" type=\\\"button\\\" value=\\\"Open\\\" fieldname=\\\"Play with numeric.js\\\"> Play with numeric.js<br><input class=\\\"lsfieldexport\\\" type=\\\"button\\\" value=\\\"Export\\\" fieldname=\\\"8 different ways to beautifully style your lists\\\"> <input class=\\\"lsfieldopen\\\" type=\\\"button\\\" value=\\\"Open\\\" fieldname=\\\"8 different ways to beautifully style your lists\\\"> 8 different ways to beautifully style your lists<br><input class=\\\"lsfieldexport\\\" type=\\\"button\\\" value=\\\"Export\\\" fieldname=\\\"autoexec\\\"> <input class=\\\"lsfieldopen\\\" type=\\\"button\\\" value=\\\"Open\\\" fieldname=\\\"autoexec\\\"> autoexec<br><br> OK JavaScript <strong>error on word \\\"eb.settings\\\"</strong> : Unable to get property 'checked' of undefined or null reference<br>Panic jsc&gt;<br> &gt; reset<br><br>&gt; .s<br> &nbsp; &nbsp; &nbsp;0: [object HTMLDivElement] (object) &lt;-------- this&nbsp;is the eb editbox<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: [object Object] (object) &lt;--------- this is suspected the problem, what is it?<br> OK <br>&gt; snapshot<p></p><p><br><br>[x] Check eb.settings, what 'checked' ??<br>&nbsp;&nbsp;&nbsp; RI: (eb.read) stack unbalance in a if case1 else&nbsp;case2 then <br><br>&nbsp;</p></p>\",\"mode\":false,\"readonly\":false}",
	"[Closed] Study remove CSS style for an element" : "{\"doc\":\"*** CSS is like 塗在牆上的油漆, 是一層層抹蓋上去的。新加的 style 蓋在原有的之上。 jeforth.3we 的確有能力\\n    可以把原有的 style tag 翻出來修改 style.innerHTML 即可。\\n\\n\\n[x] Now ^2016-05-21 14:55:15 jeforth.3we already been not using <link> to include common.css.\\n    So we can see the transition from default appearance switched to designated during startup.\\n\\n[x] common.css 不要用 link 引進, 改在 3htm/f/platform.f 裡用 </h> 定義。如此有希望。\\n    See 3hta \\\"Log 2016/05/17\\\". \\n\\n[x] No work, even Yahoo CSS reset. Try to remove 3hta's CSS styles. Try ultimate nothing first.\\n\\n\\\\ [x] Try Yahoo CSS reset. partially works on 3hta. Same partial result on 3htm on Chrome.\\n<h>\\n〈link id=flotcss href=\\\"http://yui.yahooapis.com/3.18.1/build/cssreset-context/cssreset-context-min.css\\\" rel=\\\"stylesheet\\\" type=\\\"text/css\\\"〉\\n</h>\\n<o>\\n〈div class=\\\"yui3-cssreset\\\">\\n    Anything here would be reset, 好像有效。\\n    雖然 background color 沒有如預期變成白色, 字體倒是變小了, \\n    不過 font-family 還是 courier new. 沒有恢復。 \\n    這可能是因為字體、大小、背景顏色等並不會造成 style 的問題。\\n〈/div>\\n</o> drop\\n\\nstop\\nhttp://stackoverflow.com/questions/15901030/reset-remove-css-styles-for-element-only\\n\\n[x] js: $(vm.g.flotzone).removeAttr('style') <-- does not work in 3hta\\n    js: $(\\\".console3we\\\").removeAttr('style') <-- not Chrome Version 50.0.2661.94 m either\\n\\n[x] No work in 3hta, nor 3htm\\n<o>\\n<style>\\n.console3we {\\n all: revert;\\n}\\n</style>\\n</o> constant sstt\\n\\n<comment>\\nYahoo CSS reset \\n/*\\nYUI 3.18.1 (build f7e7bcb)\\nCopyright 2014 Yahoo! Inc. All rights reserved.\\nLicensed under the BSD License.\\nhttp://yuilibrary.com/license/\\n*/\\n.yui3-cssreset html{color:#000;background:#FFF}.yui3-cssreset body,.yui3-cssreset div,.yui3-cssreset dl,.yui3-cssreset dt,.yui3-cssreset dd,.yui3-cssreset ul,.yui3-cssreset ol,.yui3-cssreset li,.yui3-cssreset h1,.yui3-cssreset h2,.yui3-cssreset h3,.yui3-cssreset h4,.yui3-cssreset h5,.yui3-cssreset h6,.yui3-cssreset pre,.yui3-cssreset code,.yui3-cssreset form,.yui3-cssreset fieldset,.yui3-cssreset legend,.yui3-cssreset input,.yui3-cssreset textarea,.yui3-cssreset p,.yui3-cssreset blockquote,.yui3-cssreset th,.yui3-cssreset td{margin:0;padding:0}.yui3-cssreset table{border-collapse:collapse;border-spacing:0}.yui3-cssreset fieldset,.yui3-cssreset img{border:0}.yui3-cssreset address,.yui3-cssreset caption,.yui3-cssreset cite,.yui3-cssreset code,.yui3-cssreset dfn,.yui3-cssreset em,.yui3-cssreset strong,.yui3-cssreset th,.yui3-cssreset var{font-style:normal;font-weight:normal}.yui3-cssreset ol,.yui3-cssreset ul{list-style:none}.yui3-cssreset caption,.yui3-cssreset th{text-align:left}.yui3-cssreset h1,.yui3-cssreset h2,.yui3-cssreset h3,.yui3-cssreset h4,.yui3-cssreset h5,.yui3-cssreset h6{font-size:100%;font-weight:normal}.yui3-cssreset q:before,.yui3-cssreset q:after{content:''}.yui3-cssreset abbr,.yui3-cssreset acronym{border:0;font-variant:normal}.yui3-cssreset sup{vertical-align:text-top}.yui3-cssreset sub{vertical-align:text-bottom}.yui3-cssreset input,.yui3-cssreset textarea,.yui3-cssreset select{font-family:inherit;font-size:inherit;font-weight:inherit}.yui3-cssreset input,.yui3-cssreset textarea,.yui3-cssreset select{*font-size:100%}.yui3-cssreset legend{color:#000}#yui3-css-stamp.cssreset-context{display:none}\\n</comment>\\n\",\"mode\":true,\"readonly\":true}",
	"[Closed] eb editbox from snapshot can't save now!" : "{\"doc\":\"%%% ed JavaScript error on word \\\"eb.save\\\" : 無法取得未定義或 Null 參考的屬性 'value' %%%\\n\\nCan't reproduce the problem which disappeared after a restart. But I found another problem:\\n> \\\\ ed test <--- new or empty\\n> \\\\ switch to browse mode, type in something, Ctrl-S <-- should save it but actually didn't!!\\n> \\\\ then close\\n> \\\\ ed test again, ed started at code mode <-- wrong!! and no content on both code and browse mode!! \\n\\n> js> $(\\\".ebhtmlarea\\\").length . 1 OK \\n> js> $(\\\".ebhtmlarea\\\").html() . empty OK \\n> js> $(\\\".ebtextarea\\\")[0].value . empty OK \\n> ed autoexec \\\\ make sure above experiments are typo free.\\n> js> $(\\\".ebtextarea\\\")[0].value . js: outputbox.style.fontSize=\\\"1.5em\\\" ... <-- it's OK\\n> js> $(\\\".ebhtmlarea\\\").html() . <-- only textarea has things, not htmlarea, this is correct.\\n\\n> \\\\ [x] make sure click the []Saved button works first. --> Yes, it works :\\n    > ed test\\n    > js> $(\\\".ebhtmlarea\\\").html() .\\n      test , saved by clicking the Saved button OK \\n    > js> $(\\\".ebtextarea\\\")[0].value .\\n      test , saved by clicking the Saved button OK \\n> ed test\\n> \\\\ [x] Repeat, ed test, clear everything in textarea, \\n    press Ctrl-S, close and click Yes to the warning.\\n    > ed test\\n    > \\\\ --> It's empty as anticipated.\\n    So, only Ctrl-S in browse mode doesn't work sometimes.\\n> \\\\ [ ] set debugger in the Ctrl-s handler of htmlarea see see\\n\\n[x] 意外發現 snapshot 還有問題!!\\n[x] !! Click []Saved of this snapshot, the check box does not got checked !!!\\n    --> Actually saved or not? --> No!!! Neither pressing Ctrl-S.\\n[x] 可能 snapshot 產生的 eb editbox 有問題!! --> 趕快 copy 一份本文給 test field which is in code\\n    mode, click []Save and the check box went off and on as anticipated.\\n[x] RI: snapshot 以前可能 OK, 但如今 eb.save 改過了, 先看看加了這行會不會好再說: <-- 不會好, 不是這個問題。\\n\\t: snapshot ( -- ) \\\\ Save outputbox to a ed\\n\\t\\t(ed) ( eb ) \\\\ default is editable, saved, code mode\\n\\t\\ts\\\" Snapshot \\\" now t.dateTime + ( eb \\\"now\\\" ) \\n\\t\\tjs: $(\\\".ebname\\\",tos(1))[0].value=pop() ( eb )\\n\\t\\tdup textarea.value->innertext ( eb ) \\\\ let textarea.innerText = its.value\\n\\t\\tjs: $(\\\".ebhtmlarea\\\",tos())[0].innerHTML=outputbox.innerHTML ( eb ) \\\\ load the content, let &lt; translation happen.\\n     ---------> dup eb.content.browse ( eb )  <-----------\\n\\t\\tdup eb.appearance.browse ( eb ) \\n\\t\\tjs: $(\\\".ebsaveflag\\\",pop())[0].checked=false ; \\\\ Not saved yet, up to users decision\\n[x] !! 本來不能 save 的 snapshot eb 經過這兩行之後就可以 save 了!!\\n    > js> $(\\\".ebhtmlarea\\\").html() . ==> sdfsffsd  OK <==== 單經此行即可!\\n    > js> $(\\\".ebtextarea\\\")[0].value . ==> sdfsffsd OK <==== 單經此行亦可!\\n    RI: eb.save stack unbalance, expect a eb on TOS but actually empty. Above finding is \\n        interesting, but root cause is this.\\n    ==> 如此一來, 可能原來的問題:\\n        %%% ed JavaScript error on word \\\"eb.save\\\" : 無法取得未定義或 Null 參考的屬性 'value' %%%\\n        也一併解掉了! 因為 eb.save 就是有 stack balance 的問題。\\n\\n\\n\\n\",\"mode\":true,\"readonly\":true}",
	"[Closed] Play Flot" : "{\"doc\":\"\\n    \\\\ Flot.js demo GitHub\\\\flot\\\\examples\\\\basic-usage\\\\index.html\\n\\n    : remove-backgroundColor-style ( -- ) \\\\ flot.js conflict with backgroundColor which must be null or transparent.\\n        \\\\ get common.css style tag definitions, translate to an array of lines\\n            js> $(\\\"#commoncss\\\")[0].innerHTML ( string )\\n            :> split(\\\"\\\\n\\\") ( array ) \\\"\\\" ( array \\\"newStyle\\\" )\\n        \\\\ scan the array and join back to a new definition w/ background color removed.\\n            <js>\\n            for (var i=0; i<tos(1).length; i++){\\n                if(tos(1)[i].indexOf(\\\"background:\\\")==-1) {\\n                    push(pop()+tos()[i]+'\\\\n');\\n                }\\n            }\\n            </js> nip ( \\\"newStyle\\\" )\\n        \\\\ redefine the common.css style tag\\n            js: $(\\\"#commoncss\\\")[0].innerHTML=pop() \\n    ;\\n    /// See ls.f field \\\"[RI] flot graph 消失的 key factor\\\"\\n    /// 最後靠這個終於可以讓 flot.js 在 jeforth.3we outputbox 裡畫圖了。\\n    /// ^2016-05-25 12:11:20\\n\\n    \\\\ Prepare the Flot ploting zone\\n\\n    remove-backgroundColor-style \\\\ Condition for flot.js\\n    ' flotzone [if] [else]\\n        <o> <div class=flotzone></div></o> constant flotzone // ( -- DIV ) Place for Flot plotings avoid CSS conflict.\\n        \\\\ flotzone js> $(\\\".console3we\\\")[0] insertBefore\\n    [then]\\n\\n    \\\\ Include CSS and Flot.js\\n    \\n    js> typeof($.plot)!=\\\"function\\\" [if] \\n        <h> \\n        <--!link id=flotcss href=\\\"../flot/examples/examples.css\\\" rel=\\\"stylesheet\\\" type=\\\"text/css\\\"-->\\n        <script id=flotjs language=\\\"javascript\\\" type=\\\"text/javascript\\\" src=\\\"../flot/jquery.flot.js\\\"></script>\\n        </h> drop\\n\\n        \\\\ Wait a while, make sure Flot.js is ready\\n        .( $.plot readiness check .)\\n        ( seconds * 1000 / nap ) js> 60*1000/200 [for] \\n            js> typeof($.plot)==\\\"function\\\" [if] \\n                r> drop 0 >r \\\\ break the loop\\n            [else] \\n                200 nap .\\\" .\\\" \\\\ wait a while\\n            [then] \\n        [next] cr\\n    [then]\\n    \\n    \\\\ Demo #1\\n        \\\\ Create the placeholder\\n\\n        flotzone\\n        <o> <div id=\\\"placeholder1\\\" style=\\\"width:600px;height:300px\\\"></div></o> ( placeholer1 )\\n        appendChild\\n\\n        \\\\ Plot a line \\n        \\n        js: $.plot($(\\\"#placeholder1\\\"),[[[0,0],[1,1]]],{yaxis:{max:1}})\\n\\n    \\\\ Demo #2\\n        \\\\ Create the placeholder\\n\\n        flotzone\\n        <o> <div id=\\\"placeholder2\\\" style=\\\"width:600px;height:300px\\\"></div></o> ( placeholer2 )\\n        appendChild\\n\\n        \\\\ Plot some lines\\n        \\n        <js>\\n            $(function() {\\n\\n                var d1 = [];\\n                for (var i = 0; i < 14; i += 0.5) {\\n                    d1.push([i, Math.sin(i)]);\\n                }\\n\\n                var d2 = [[0, 3], [4, 8], [8, 5], [9, 13]];\\n\\n                // A null signifies separate line segments\\n\\n                var d3 = [[0, 12], [7, 12], null, [7, 2.5], [12, 2.5]];\\n\\n                $.plot(\\\"#placeholder2\\\", [ d1, d2, d3 ]);\\n\\n                // Add the Flot version string to the footer\\n\\n                $(\\\"#footer\\\").prepend(\\\"Flot \\\" + $.plot.version + \\\" &ndash; \\\");\\n            });\\n        </js>\\n<comment>\\n[x] flotzone 目前必須放在 .console3we 之外才行, 希望能放在 outputbox 裡面, 做實驗方便。\\n    --> 已知是 flot.js 與 background-color style 不相容之故。已靠避開 background color 解決。\\n[/] How to clear inherited CSS style for the flotzone element?\\n    See 3hta local storage field \\\"Study remove CSS style for an element\\\"\\n    --> 不成功, 用 Yahoo CSS reset 也不行。 \\n    --> 因為 style 是一層塗蓋一層上去的, flot.js 的衝突必須從塗上 background color 的每一層本身去\\n        改掉他們的 style innerHTML。 \\n[x] 在 outputbox 裡一片白的 flotzone 經 insertBefore 到 .console3we 之上, 還是一片白。\\n[x] 那反過來呢? **在外成功之後** 搬進來如何? --> still failed. But then move out will be ok!\\n    flotzone js> inputbox insertBefore \\\\ failed\\n    flotzone js> header insertBefore   \\\\ ok\\n    js> body flotzone appendChild      \\\\ ok 只要搬出 .console3we 都 ok\\n\\n[x] 研究如何 dump 整個 style of an element 來查看\\n    js> $(\\\"style\\\").length . <== 這個就對了!\\n\\n[x] Flot.js 於 style.background 有細微的問題。我報了 bug on Flot.js GitHub Issue : \\n    https://github.com/flot/flot/issues/1497\\n    Or refer to YNote: \\\"Flot bug of graph disappear reproduced. How to fix it\\\"\\n    試圖研究在用到 flot.js 時把 .console3we 的 style 重新定義, 例如把 background 去掉, 就\\n    可以在 outputbox 裡正常運作了。\\n    flotzone js> outputbox insertBefore \\\\ 搬到 outputbox 之前仍在 .console3we 裡複製出問題.\\n    查看 style tags 找到 console3we 的 background\\n    把它改成 transparent 試試看.\\n[x] > js> $(\\\"style\\\").length . \\\\ ==> 4 OK \\n    這 4 個裡面不含 common.css 的定義! 所以我以前就說 inputbox 要變粉紅色得分開弄一個 style 原因\\n    可能就是這個。 \\n\\n    > js> $(\\\"style\\\")[0].outerHTML .\\n    <style type=\\\"text/css\\\">canvas{border:solid 1px #CCC}</style> OK \\n\\n    > js> $(\\\"style\\\")[1].outerHTML .\\n    <style>\\n        .tr table, .tr td { \\n            border:0.075em solid gray; \\n        }\\n    </style> OK \\n\\n    > js> $(\\\"style\\\")[2].outerHTML .\\n    <style id=\\\"styleTextareaFocus\\\" type=\\\"text/css\\\"> \\n        .console3we textarea:focus {\\n            background:#E0E0E0;\\n        }\\n    </style> OK \\n\\n    > js> $(\\\"style\\\")[3].outerHTML .\\n    <style type=\\\"text/css\\\">\\n        .eb .box { width:90%; }\\n        .eb .box, .eb .ebhtmlarea { border:1px solid black; }\\n        .eb p { display:inline; } \\n        .eb .ebname { font-size: 1.1em; }\\n    </style> OK \\n\\n[x] 蓋過去行不行? --> 3hta 不行。似乎 common.css 用了 link tag 就不能改了,讀進來執行的方式才可以修改。\\n    js> $(\\\".console3we\\\").length . \\\\ ==> 1 OK \\n    js> $(\\\".console3we\\\")[0].style . \\\\ ==> [object MSStyleCSSProperties] OK \\n    js> $(\\\".console3we\\\")[0].style.background . \\\\ ==> null string\\n    js> $(\\\".console3we\\\")[0].style.backgroundddd . \\\\ ==> undefined OK \\n    js: $(\\\".console3we\\\")[0].style.background=\\\"transparent\\\"\\n    js> $(\\\".console3we\\\")[0].style.background . \\\\ ==> none OK \\n\\n\\n</comment>\",\"mode\":true,\"readonly\":true}",
	"[Closed] flot graph 消失的 key factor" : "{\"doc\":\"<div class=\\\"flotzone\\\" style=\\\"background-color: transparent;\\\"><div id=\\\"placeholder1\\\" style=\\\"padding: 0px; width: 600px; height: 300px; position: relative;\\\"><canvas width=\\\"600\\\" height=\\\"300\\\" class=\\\"flot-base\\\" style=\\\"left: 0px; top: 0px; width: 600px; height: 300px; position: absolute; direction: ltr;\\\"></canvas><div class=\\\"flot-text\\\" style=\\\"left: 0px; top: 0px; right: 0px; bottom: 0px; color: rgb(84, 84, 84); font-size: smaller; position: absolute;\\\"><div class=\\\"flot-x-axis flot-x1-axis xAxis x1Axis\\\" style=\\\"left: 0px; top: 0px; right: 0px; bottom: 0px; display: block; position: absolute;\\\"><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 45px; top: 235px; text-align: center; position: absolute; max-width: 54px;\\\">0.0</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 93px; top: 235px; text-align: center; position: absolute; max-width: 54px;\\\">0.1</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 141px; top: 235px; text-align: center; position: absolute; max-width: 54px;\\\">0.2</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 189px; top: 235px; text-align: center; position: absolute; max-width: 54px;\\\">0.3</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 237px; top: 235px; text-align: center; position: absolute; max-width: 54px;\\\">0.4</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 285px; top: 235px; text-align: center; position: absolute; max-width: 54px;\\\">0.5</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 332px; top: 235px; text-align: center; position: absolute; max-width: 54px;\\\">0.6</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 380px; top: 235px; text-align: center; position: absolute; max-width: 54px;\\\">0.7</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 428px; top: 235px; text-align: center; position: absolute; max-width: 54px;\\\">0.8</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 476px; top: 235px; text-align: center; position: absolute; max-width: 54px;\\\">0.9</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 524px; top: 235px; text-align: center; position: absolute; max-width: 54px;\\\">1.0</div></div><div class=\\\"flot-y-axis flot-y1-axis yAxis y1Axis\\\" style=\\\"left: 0px; top: 0px; right: 0px; bottom: 0px; display: block; position: absolute;\\\"><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 2px; top: 199px; text-align: right; position: absolute;\\\">0.0</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 2px; top: 159px; text-align: right; position: absolute;\\\">0.2</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 2px; top: 119px; text-align: right; position: absolute;\\\">0.4</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 2px; top: 80px; text-align: right; position: absolute;\\\">0.6</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 2px; top: 40px; text-align: right; position: absolute;\\\">0.8</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 2px; top: 1px; text-align: right; position: absolute;\\\">1.0</div></div></div><canvas width=\\\"600\\\" height=\\\"300\\\" class=\\\"flot-overlay\\\" style=\\\"left: 0px; top: 0px; width: 600px; height: 300px; position: absolute; direction: ltr;\\\"></canvas></div><div id=\\\"placeholder2\\\" style=\\\"padding: 0px; width: 600px; height: 300px; position: relative;\\\"><canvas width=\\\"600\\\" height=\\\"300\\\" class=\\\"flot-base\\\" style=\\\"left: 0px; top: 0px; width: 600px; height: 300px; position: absolute; direction: ltr;\\\"></canvas><div class=\\\"flot-text\\\" style=\\\"left: 0px; top: 0px; right: 0px; bottom: 0px; color: rgb(84, 84, 84); font-size: smaller; position: absolute;\\\"><div class=\\\"flot-x-axis flot-x1-axis xAxis x1Axis\\\" style=\\\"left: 0px; top: 0px; right: 0px; bottom: 0px; display: block; position: absolute;\\\"><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 69px; top: 235px; text-align: center; position: absolute; max-width: 75px;\\\">0</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 139px; top: 235px; text-align: center; position: absolute; max-width: 75px;\\\">2</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 209px; top: 235px; text-align: center; position: absolute; max-width: 75px;\\\">4</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 279px; top: 235px; text-align: center; position: absolute; max-width: 75px;\\\">6</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 349px; top: 235px; text-align: center; position: absolute; max-width: 75px;\\\">8</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 413px; top: 235px; text-align: center; position: absolute; max-width: 75px;\\\">10</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 483px; top: 235px; text-align: center; position: absolute; max-width: 75px;\\\">12</div></div><div class=\\\"flot-y-axis flot-y1-axis yAxis y1Axis\\\" style=\\\"left: 0px; top: 0px; right: 0px; bottom: 0px; display: block; position: absolute;\\\"><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 2px; top: 199px; text-align: right; position: absolute;\\\">-2.5</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 14px; top: 170px; text-align: right; position: absolute;\\\">0.0</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 14px; top: 142px; text-align: right; position: absolute;\\\">2.5</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 14px; top: 114px; text-align: right; position: absolute;\\\">5.0</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 14px; top: 85px; text-align: right; position: absolute;\\\">7.5</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 2px; top: 57px; text-align: right; position: absolute;\\\">10.0</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 2px; top: 29px; text-align: right; position: absolute;\\\">12.5</div><div class=\\\"flot-tick-label tickLabel\\\" style=\\\"left: 2px; top: 1px; text-align: right; position: absolute;\\\">15.0</div></div></div><canvas width=\\\"600\\\" height=\\\"300\\\" class=\\\"flot-overlay\\\" style=\\\"left: 0px; top: 0px; width: 600px; height: 300px; position: absolute; direction: ltr;\\\"></canvas></div></div><p><p><p><p><p> <br>&gt; js&gt; $(\\\"style\\\").length . \\\\ ==&gt; 5 OK <br>&gt; js&gt; $(\\\"style\\\")[0].innerHTML . <br> <br> &nbsp; &nbsp;.console3we div , .console3we textarea {<br> &nbsp; &nbsp; &nbsp; &nbsp;color:black;<br> &nbsp; &nbsp; &nbsp; &nbsp;font-family: courier new;<br> &nbsp; &nbsp; &nbsp; &nbsp;font-size: 20px;<br> &nbsp; &nbsp; &nbsp; &nbsp;padding:20px; <br> &nbsp; &nbsp; &nbsp; &nbsp;word-wrap:break-word;<br> &nbsp; &nbsp; &nbsp; &nbsp;border: 0px solid white;<br>&nbsp; &nbsp; &nbsp; &nbsp;background:#F0F0F0;<strong>/* &lt;----&nbsp;出問題的就是這行, 必須從原版移除或改成 transparent 才會好&nbsp;*/</strong><br>&nbsp;&nbsp;&nbsp;&nbsp;}<br> &nbsp; &nbsp;<br> &nbsp; &nbsp;.console3we textarea {<br> &nbsp; &nbsp; &nbsp; &nbsp;width:99%; <br> &nbsp; &nbsp; &nbsp; &nbsp;padding:4px; <br> &nbsp; &nbsp; &nbsp; &nbsp;border: 0px solid;<br> &nbsp; &nbsp; &nbsp; &nbsp;background:#BBBBBB;<br> &nbsp; &nbsp;}<br><br>&gt; &lt;text&gt; &lt;style&gt;<br> &nbsp;.console3we div , .console3we textarea {<br> &nbsp; &nbsp; &nbsp; &nbsp;color:black;<br> &nbsp; &nbsp; &nbsp; &nbsp;font-family: courier new;<br> &nbsp; &nbsp; &nbsp; &nbsp;font-size: 20px;<br> &nbsp; &nbsp; &nbsp; &nbsp;padding:20px; <br> &nbsp; &nbsp; &nbsp; &nbsp;word-wrap:break-word;<br> &nbsp; &nbsp; &nbsp; &nbsp;border: 0px solid white;<br> &nbsp; &nbsp; &nbsp; &nbsp;/* background:#F0F0F0; */<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;<br> &nbsp; &nbsp;.console3we textarea {<br> &nbsp; &nbsp; &nbsp; &nbsp;width:99%; <br> &nbsp; &nbsp; &nbsp; &nbsp;padding:4px; <br> &nbsp; &nbsp; &nbsp; &nbsp;border: 0px solid;<br> &nbsp; &nbsp; &nbsp; &nbsp;background:#BBBBBB;<br> &nbsp; &nbsp;}<br>&lt;/style&gt;&lt;/text&gt; js: $(\\\"style\\\")[0].innerHTML=pop() <strong>/* 照這樣把它點掉就好了 */</strong>&nbsp;<br><br> <strong>如此有把它再設起來, 問題又回來了! 這是我之前懷疑的, 如今證實。</strong></p><p> <br>&gt; &lt;o&gt; &lt;style&gt;<br> .console3we div , .console3we textarea {<br> &nbsp; &nbsp; &nbsp; &nbsp;background:#F0F0F0;<br> &nbsp; &nbsp;}<br>&lt;/style&gt;&lt;/o&gt;<br>&lt;style&gt;.console3we div , .console3we textarea {background:transparent;}&lt;/style&gt;<br><strong>改成 transparent 又好了</strong><br>&gt; &lt;js&gt; $(\\\"style\\\")[6].innerHTML=\\\".console3we div , .console3we textarea {background:transparent;}\\\" &lt;/js&gt;<br></p><p></p><p><p><br>3HTA ls.f ed log \\\"Log 2016/05/17\\\" 有實驗出一段 code 用來刪除與 flot.js 相衝的 background, 抄錄如下:<br>js&gt; $(\\\"#commoncss\\\").outerHTML .<br>ss :&gt; split(\\\"\\\\n\\\")<br>constant aa<br>&lt;js&gt;<br>for (var i=0; i&lt;vm.g.aa.length; i++){<br>if(vm.g.aa[i].indexOf(\\\"background:#F0F0F0\\\")==-1) push(tos()+vm.g.aa[i]+'\\\\n');<br>}<br>&lt;/js&gt;</p><p></p><p></p><p></p><p><p><p><p>&nbsp;</p><p></p><p></p><p></p><p></p><p><p><p><p><p><br><br>[x] 以上成了最終的解法。&nbsp;</p><p></p><p></p><p><p><p>&nbsp;</p><p></p><p></p><p></p><p></p>\",\"mode\":false,\"readonly\":true}",
	"[Closed] log of 3nw" : "{\"doc\":\"[x] file input 若被 user cancel 則 sleep 得不到 stopsleeping 在那裏苦等 <--- problem!\\n> <o> <input type=\\\"file\\\" id=\\\"ff\\\" /></o> constant ff\\n> ff :> value . \\\\ ==>  OK it's null string by default\\n> ff :> value . \\\\ after picking a file, it becomes a pathname\\nC:\\\\Users\\\\hcche\\\\Documents\\\\GitHub\\\\chrome-app-samples\\\\tryitnowbutton_small.png OK \\n> ff :> value . \\\\ try again but click cancel, it becomes a null string as anticipated, good!\\n> \\\\ click [cancel] clears ff.value <--- good!!\\n> ff :: onchange=function(){alert(\\\"onchange\\\")} \\\\ Add event handler, it works!\\n> \\\\ click [cancel] does not fire onchange() event unless due to the above reason that has actually been changed.\\n> ff :: oncancel=function(){alert(\\\"onCancel\\\")} <--- click [cancel] does not fire this event at all. But onchange() event got fired sometimes.\\n> ff :: onchange=function(){alert(\\\"onBigChange\\\")} \\\\ Handler can be changed and it works fine.\\n> ff :> oncancel  . \\\\ ==> function (){alert(\\\"onCancel\\\")} OK check, it's there\\n> ff :> onchange . \\\\ ==> function (){alert(\\\"onBigChange\\\")} check, it's there\\n> \\\\ ff :: onabort=function(){alert(\\\"onAbort\\\")} \\\\ ==> Click cancel does not fire this either.\\n> \\\\ ff :> onabort . \\\\ ==> ff :: onabort=function(){alert(\\\"onAbort\\\")}\\n> \\\\ No, click [cancel] does not fire onabort() \\n\\n\\\\ 企圖故意製造 onchange 100% 發生的努力, 失敗了：\\n> ff :> value=\\\"dummy\\\" <--- Not allowed, see err message:\\nJavaScript error : Failed to set the 'value' property on 'HTMLInputElement': \\nThis input element accepts a filename, which may only be programmatically set \\nto the empty string.\\n\\n\\\\ 機會 : 每個 file input 都是新的, 用完馬上 remove 掉, 有機會讓所有的 cancel 都 fire \\n\\\\ onchange() event? --> 一上來馬上 cancel 因為 file.value 都是 null string 沒有變故\\n\\\\ 不會 fire onchange() event. --> 試試為 file.value 給訂初值 --> No way, see:\\n\\\\ 为安全起见，file-upload 元素不允许 HTML 作者或 JavaScript 程序员指定一个默认的文件名。\\n\\nff :> defaultValue \\\\ ==> null string.\\n<o> <input type=\\\"file\\\" id=\\\"ff\\\" defaultValue=\\\"select a file\\\" /></o> constant fff\\nff :: onbeforedeactivate=function(){alert(\\\"beforeDeActivate\\\")} \\\\ <== fire when blur, 不適合.\\n\\nff :: onblur=function(){alert(\\\"onblur\\\")} <-- fired when both clicking [瀏覽] and \\nclick desk top but not clicking [cancel], shit!!!\\n\\n[x] 解決了! 3nw 會 fire oncancel() when [cancel] clicked!! Bingo!!\\nff :: onemptied=function(){type(\\\"onemptied\\\")}\\nff :: onended=function(){type(\\\"onended\\\")}\\nff :: onerror=function(){type(\\\"onerror\\\")}\\nff :: onerrorupdate=function(){type(\\\"onerrorupdate\\\")}\\nff :: onfilterchange=function(){type(\\\"onfilterchange\\\")}\\nff :: onfocus=function(){type(\\\"onfocus\\\")}\\nff :: onfocusin=function(){type(\\\"onfocusin\\\")}\\nff :: onfocusout=function(){type(\\\"onfocusout\\\")}\\nff :: onhelp=function(){type(\\\"onhelp\\\")}\\nff :: oninput=function(){type(\\\"oninput\\\")}\\nff :: onchange=function(){type(\\\"onChange\\\")}\\nff :: oncancel=function(){type(\\\"oncancel\\\")}\\n\\n3hta\\nonfocusin onfocus onfocusout \\nonfocusin onfocus onfocusout\\n\\n3nw\\nonfocus \\nonfocus oncancel\\nonfocus \\nonfocus oncancel\\n\\n[x] Answer to stackoverflow with my finding of oncancel() works!\\n    http://stackoverflow.com/questions/10127492/capturing-cancel-event-on-input-type-file\\n\\n    I have the same question, the solution is surprisingly very \\n    easy ... at least in my case NW.js (Node-Webkit) fires oncancel \\n    event if user click the [cancel] button in the file chooser \\n    dialogue. You use this simple and native way if you're also on \\n    NW.js (process.version is v5.11.0).\\n\\n    I also tried Microsoft HTA on Windows 10, it does not fire the \\n    oncancel event.\\n\\n' --- [if] --- [then] marker --- \\n<o>\\n    <input type=\\\"file\\\" id=\\\"fileDialog\\\" />\\n    <script>\\n    $(function () {\\n        $(\\\"#fileDialog\\\").on(\\\"change\\\", function () {\\n            console.log(\\\"-----\\\");\\n            var files = $(this)[0].files;\\n            for (var i = 0; i < files.length; ++i) {\\n            console.log(\\\"The pathname is:\\\" + files[i].path);\\n            }\\n        });\\n    });\\n    </script>\\n</o>\\n\\n<comment>\\nThe above sample code, modified for jeforth, from \\nhttp://stackoverflow.com/questions/29705135/node-webkit-read-full-path-of-files-from-directory\\nworks fine, very well. No problem at all getting the full pathname on 3nw, but not on 3ce. So, \\nNW.js is really provides super power.\\n\\n\\\\ Works fine on 3nw,\\n> js> $(\\\"#fileDialog\\\").length \\\\ ==> 1 OK \\n> js> $(\\\"#fileDialog\\\")[0].value . \\\\ ==> C:\\\\Users\\\\hcche\\\\Downloads\\\\download OK \\n> js> document.getElementById(\\\"fileDialog\\\") . \\\\ ==> [object HTMLInputElement] OK \\n> js> document.getElementById(\\\"fileDialog\\\").value . \\\\ ==> C:\\\\Users\\\\hcche\\\\Downloads\\\\download OK \\n> pickFile \\n> .s\\n      0:  (string) \\\\ <--- My original pickFile does not work on 3nw. Needs debug.\\n\\n\\\\ On jeforth.3ce, failed as anticipated\\n\\n    > js> document.getElementById(\\\"fileDialog\\\").value .\\n    C:\\\\fakepath\\\\__865.jpg OK   <---- \\\"fakepath\\\" as anticipated.\\n\\n\\\\ Works fine on 3HTA.\\n\\n    > js> document.getElementById(\\\"fileDialog\\\").value .\\n    C:\\\\Users\\\\hcche\\\\Downloads\\\\魏月梅 全民健保核退申請書.PDF OK \\n\\n\\\\ So, pickFile can be improved by this solution from Stackoverflow.\\n\\n: pickFile        ( -- \\\"pathname\\\" ) \\\\ Pick a file through web browser's GUI\\nchar input createElement ( element )\\ndup char type char file setAttribute ( element )\\ndup char id char pickfile setAttribute ( element )\\neleBody over appendChild \\\\ 要 append 才有作用。\\n( element ) js> tos().click();tos().value ( element pathname ) ;\\n\\n\\\\ 照上面這個 pickFile 實驗, 還是不行。確定傳回的 pathname 是個 \\\"\\\". 然而手動觀察 element.value 卻是\\n\\\\ 正確的 pathname. [x] 猜想, 最後一行手動看應該會是 expected pathname 無誤。\\n\\n> .s \\n      0: [object HTMLInputElement] (object)  \\\\ backup\\n      1: C:\\\\Users\\\\hcche\\\\Downloads\\\\jeforth.3ce.p4.jpg (string)\\n      2: [object HTMLInputElement] (object)  \\\\ to be removed\\n> removeElement\\n> js> tos(1).value . \\\\ 查看 element 的 value \\nC:\\\\Users\\\\hcche\\\\Downloads\\\\jeforth.3ce.p4.jpg OK \\\\ 竟然是對的。此時 element id 確定已經不存在了。\\n\\n\\n[x] 嘗試手動作最後一行\\n: pickFile        ( -- \\\"pathname\\\" ) \\\\ Pick a file through web browser's GUI\\nchar input createElement ( element )\\ndup char type char file setAttribute ( element )\\ndup char id char pickfile setAttribute ( element )\\neleBody over appendChild \\\\ 要 append 才有作用。\\n; \\n\\n\\\\ 果然, 這行一起做, 傳回 \\\"\\\"\\n( element ) js> tos().click();tos().value ( element pathname ) ;\\n\\n\\\\ 手動分開做, 就 OK 了!!\\n( element ) js: tos().click()\\njs> tos().value ( element pathname ) ;\\n\\n[x] click() 之後, 加上一點 nap 看看, --> \\n\\n: pickFile        ( -- \\\"pathname\\\" ) \\\\ Pick a file through web browser's GUI\\nchar input createElement ( element )\\ndup char type  char file      setAttribute ( element )\\ndup char class char pick_file setAttribute ( element )\\njs> body over appendChild \\\\ 要 append 才有作用。\\njs: tos().click()  ( element ) \\\\ 回來就表示 user 已經完成操作\\n( seconds * 1000 / nap ) js> 60*1000/200 for ( element )  \\n\\tjs> tos().value if \\n\\t\\tr> drop 0 >r \\\\ break the loop\\n\\telse \\n\\t\\t200 nap .\\\" .\\\" \\\\ wait a while\\n\\tthen \\nnext ( element )  \\njs> tos().value \\\\ 即使 timeout 也不管了  ( element path )  \\nswap removeElement ;   ( path )  \\n\\n\\\\ Ultimate version\\n\\n: pickFile ( -- \\\"pathname\\\" ) \\\\ Pick a file through web browser's GUI\\n\\tchar input createElement ( element )\\n\\tdup char type  char file      setAttribute ( element )\\n\\tdup char class char pick_file setAttribute ( element ) \\\\ for debug, clue of the element\\n\\tjs: tos().onchange=function(){execute('stopSleeping')} ( element )\\n\\tjs> body over appendChild \\\\ 要 append 才有作用。 ( element )\\n        js: tos().click() ( element ) \\\\ @ HTA 回來就表示 user 已經完成操作, @ NW.js 則馬上回來。\\n\\t( minutes*60*1000 ) js> 5*60*1000 sleep ( element )\\n\\tjs> tos().value \\\\ 即使 timeout 也不管了  ( element path )  \\n\\tswap removeElement ;   ( path )  \\n\\n: pickFile \\t\\t( -- \\\"pathname\\\" ) \\\\ Pick a file through web browser's GUI\\nchar input createElement ( element )\\ndup char type  char file      setAttribute ( element )\\ndup char class char pick_file setAttribute ( element ) \\\\ for debug, clue of the element\\n\\\\ For none 3hta only, setup the event handler\\njs> vm.appname!=\\\"jeforth.3hta\\\" if\\n\\tjs: tos().onchange=function(){execute('stopSleeping')} ( element ) then\\njs> body over appendChild \\\\ 要 append 才有作用。 ( element )\\njs: tos().click() ( element ) \\\\ @ HTA 回來就表示 user 已經完成操作, @ NW.js 則馬上回來。\\n\\\\ For none 3hta only, wait for the onchange event\\njs> vm.appname!=\\\"jeforth.3hta\\\" if\\n\\t( minutes*60*1000 ) js> 5*60*1000 sleep ( element ) then\\njs> tos().value \\\\ 即使 timeout 也不管了 ( element path )  \\nswap removeElement ; ( path )  \\n/// Works fine on 3hta and 3nw. The dialog works but returns Null string on 3htm \\n/// or C:\\\\fakepath\\\\__865.jpg on 3ce.\\n/// Through excel app's GetOpenFilename method can do the same thing:\\n///     excel.app js> pop().GETopenFILENAME <== with or w/o () both fine\\n/// Excel's GetSaveAsFilename method too.\\n\\n\\n</comment>\",\"mode\":true,\"readonly\":true}",
	"[Closed] 3nw working on simpleMDE" : "{\"doc\":\"\\n[x] Now ^2016-05-06 14:29:46 developing SimpleMDE on 3nw --> 3nw/f/mde.f ok now.\\n[x] pickFile can work on 3htm, 3nw, 3hta but only 3hta gets the pathname string, \\n    others are \\\"\\\" due to security restrictions I believe. Is there a workaround?\\n    [x] try answers on Stackoverflow.com \\n    1. http://jsfiddle.net/dwebexperts/4FGg8/1/\\n       http://stackoverflow.com/questions/15201071/how-to-get-full-path-of-selected-file-on-change-of-input-type-file-using-jav\\n       Introduces a temp_path , which is interesting but not good enough for my MDE because\\n       [Save] button needs the real pathname.\\n\\n-----------------\\n\\n\\\\ Word does not work, mde-include not ok yet, but interpret mode works fine\\n\\n\\n.( Include SimpleMDE.js )\\n\\n\\tjs> typeof(SimpleMDE)!=\\\"function\\\" [if]\\n\\t\\t<h>\\n\\t\\t<link rel=\\\"stylesheet\\\" href=\\\"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css\\\"> \\n\\t\\t<script src=\\\"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js\\\"></script>\\n\\t\\t</h> drop \\n\\t[then]\\n\\tfalse ( assume include failed )  \\n\\t30 ( seconds ) [for] \\n\\t\\tjs> typeof(SimpleMDE)==\\\"function\\\" [if] \\n\\t\\t\\tr> drop 0 >r \\\\ break the loop\\n\\t\\t\\tdrop true ( include OK )\\n\\t\\t[else] \\n\\t\\t\\t20 nap .\\\" .\\\" \\\\ wait a while\\n\\t\\t[then] \\n\\t[next] \\n\\t[if] .\\\"  Done. \\\" [else] .\\\"  Error! Failed to include SimpleMDE! [then] cr\\n\\n.( Create the required textarea for SimpleMDE ) cr\\n\\n    <o> <textarea id=simplemde ></textarea></o> \\n    js> $(\\\".console3we\\\")[0] insertBefore\\n\\n.( Launch SimpleMDE on the above textarea ) cr\\n\\n    <js> \\n    var simplemde = new SimpleMDE({element: document.getElementById(\\\"simplemde\\\")}); \\n    simplemde \\n    </jsV> \\n    constant simplemde\\n\\n.( Load README.md ) cr\\n\\n    char README.md readTextFile\\n    simplemde :: value(pop())\\n\\t\\n\\\\ Above interpret procedure works fine.\\n\\n\\n\\\\ [x] mde ( <pathname> -- ) \\\\ open Markdown editor \\n\\n: mde-include ( -- ok? ) \\\\ Inclde MDE editor \\n\\tjs> typeof(SimpleMDE)!=\\\"function\\\" if\\n\\t\\t<h>\\n\\t\\t<link rel=\\\"stylesheet\\\" href=\\\"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css\\\"> \\n\\t\\t<script src=\\\"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js\\\"></script>\\n\\t\\t</h> drop \\n\\tthen\\n\\tfalse ( assume include failed )  \\n\\t30 ( seconds ) for \\n\\t\\tjs> typeof(SimpleMDE)==\\\"function\\\" if \\n\\t\\t\\tr> drop 0 >r \\\\ break the loop\\n\\t\\t\\tdrop true ( include OK )\\n\\t\\telse \\n\\t\\t\\t1000 nap \\\\ wait a while\\n\\t\\tthen \\n\\tnext ;\\n\\n\\\\ execute the word does not work. But run on interpret mode always ok. Why?\\n\\\\ Even when it's not work, check the elements of link and script, they are existing:\\n\\tjs> $(\\\"head\\\")[0] ce! ce 09 ce@ :> outerHTML .\\n\\tjs> $(\\\"head\\\")[0] ce! ce 10 ce@ :> outerHTML .\\n\\nstop \\n---------------\\n[x] 所有在 .console3we 範圍內的 textarea 都會在 F2 edit mode focused 時變成粉紅色。 ed 的亦然。\\n    把 ed 移出 .console3we 之外 (而非光 outputbox 之外) 就會失去所有的 .console3we style. 如下,\\n    > js> $(\\\".eb\\\")[0] js> $(\\\".console3we\\\")[0] insertBefore\\n    ==> 所以, SimpleMDE init textarea 要移出 .console3we 之上才行. \\n[x] Go on use the knowledge to fine tune 3we's style settings.\\n    --> study common.css first \\n    --> but I already use .console3we to constraint the range!\\n    ==> 所以, SimpleMDE init textarea 要移出 .console3we 之上才行. \\n\\n\\\\ ^^2016-05-04 11:57:32^^ \\n\\\\ (@ 3nw) 改照抄 official demo page 上的 resource 也行, 但是問題還是一樣。\\n\\\\ 可見是 jeforth 的 style 造成的問題。 \\n\\\\ [x] 下一步, 3nw 的 style 反璞歸真, 或限制範圍。 ==> Bingo!! See Ynote \\n\\\\     \\\"SimpleMDE works fine on jeforth.3nw now\\\" \\n\\n\\n\\\\ Include SimpleMDE\\n\\n    <h>\\n    < link rel=\\\"stylesheet\\\" href=\\\"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css\\\"> \\n    < script src=\\\"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js\\\"></script>\\n    </h> drop\\n    js> typeof(SimpleMDE) tib. \\\\ ==> function (string) so it has been installed\\n\\n\\\\ Create a textarea\\n\\n    <o> <textarea id=simplemde ></textarea></o> \\n    js> $(\\\".console3we\\\")[0] insertBefore\\n\\n\\\\ Launch SimpleMDE on the above textarea\\n\\n    <js> \\n    var simplemde = new SimpleMDE({element: document.getElementById(\\\"simplemde\\\")}); \\n    simplemde \\n    </jsV> \\n    constant simplemde\\n\\n\\\\ Test, set the content\\n\\n    simplemde <js> pop().value(\\\"This text will appear in the editor\\\"); </js>\\n\\n\\\\ Test, get the content\\n\\n    simplemde :> value() \\\\ ==> # This text will appear in the editor (string)\\n\\n-----------------------------\\nStudy https://simplemde.com/ so as to copy the usage\\n\\n\\\\ 瞧瞧 body\\n   > js> $(\\\"body\\\")[0] ce! ce\\n    [object HTMLBodyElement] innerHTML=<section class=\\\"page-header\\\"> <h1 class=\\\"project-name\\\">SimpleMDE ...\\n    0 : [object HTMLElement] class='page-header'; innerHTML= <h1 class=\\\"project-name\\\">SimpleMDE Markdown Edi...\\n    1 : [object HTMLElement] class='main-content'; innerHTML= <h1><a id=\\\"h1_demo1\\\" class=\\\"anchor\\\" href=\\\"#h1_...\\n    2 : [object HTMLLinkElement] \\n    3 : [object HTMLLinkElement] \\n    4 : [object HTMLScriptElement] \\n    5 : [object HTMLScriptElement] innerHTML= new SimpleMDE({ element: document.getElementById(\\\"demo1\\\"), spe...\\n    6 : [object HTMLScriptElement] innerHTML= (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r...\\n    7 : [object HTMLDivElement] class='console3we'; innerHTML= <style> .console3we { color:black; word-wrap:...\\n\\n\\\\ 瞧瞧 header\\n   > js> $(\\\"body\\\")[0] ce! ce\\n    [object HTMLHeadElement] innerHTML=<meta charset=\\\"UTF-8\\\"><title>JavaScript Markdown Editor - SimpleM...\\n    0 : [object HTMLMetaElement] \\n    1 : [object HTMLTitleElement] innerHTML=JavaScript Markdown Editor - SimpleMDE...\\n    2 : [object HTMLMetaElement] name='viewport'; \\n    3 : [object HTMLLinkElement] \\n    4 : [object HTMLLinkElement] \\n    5 : [object HTMLLinkElement] \\n    6 : [object HTMLLinkElement] \\n    7 : [object HTMLLinkElement] \\n    8 : [object HTMLScriptElement] <=========== 這裡面是空的\\n    9 : [object HTMLScriptElement] innerHTML= if(window.location.href.indexOf(\\\"nextstepwebs.github.io\\\") !== ...\\n   10 : [object HTMLStyleElement] innerHTML= .editor-preview h1, .editor-preview h2, .editor-preview h3, .ed...\\n   11 : [object HTMLStyleElement] id='style-1-cropbar-clipper'; innerHTML=/* Copyright 2014 Evernote Corpora...\\n   12 : [object HTMLStyleElement] innerHTML= .tr table, .tr td { border:0.075em solid gray; } ...\\n\\n   \\\\ ce 8 ce@ :> outerHTML 看來好像在修整網址, 總之 SimpleMDE 不是在 header 裡 include 的。\\n    <script>\\n    if(window.location.href.indexOf(\\\"nextstepwebs.github.io\\\") !== -1) {\\n        window.location.href = \\\"https://simplemde.com/\\\";\\n    }\\n    \\n    if(window.location.protocol != \\\"https:\\\")\\n        window.location.href = \\\"https:\\\"+window.location.href.substring(window.location.protocol.length);\\n    </script> OK \\n\\n\\\\ Now look into the source code of the demo page\\n\\n\\n> cr cr cr js> $(\\\"body\\\")[0] ce! ce 2 ce@ :> outerHTML .\\n[object HTMLLinkElement] \\n<link rel=\\\"stylesheet\\\" href=\\\"https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css\\\"> OK \\n\\n> cr cr cr js> $(\\\"body\\\")[0] ce! ce 3 ce@ :> outerHTML .\\n[object HTMLLinkElement] \\n<link rel=\\\"stylesheet\\\" href=\\\"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css\\\"> OK \\n\\n> cr cr cr js> $(\\\"body\\\")[0] ce! ce 4 ce@ :> outerHTML .\\n[object HTMLScriptElement] \\n<script src=\\\"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js\\\"></script> OK \\n\\n> cls js> $(\\\"body\\\")[0] ce! ce 5 ce@ :> outerHTML .\\n[object HTMLScriptElement] innerHTML= new SimpleMDE({ element: document.getElementById(\\\"demo1\\\"), spe...\\n    0 : [object Text]  new SimpleMDE({ element: document.getElementById(\\\"demo1\\\"), spellChecker: false, }); n...\\n<script>\\n    new SimpleMDE({\\n        element: document.getElementById(\\\"demo1\\\"),\\n        spellChecker: false,\\n    });\\n    \\n    new SimpleMDE({\\n        element: document.getElementById(\\\"demo2\\\"),\\n        spellChecker: false,\\n        autosave: {\\n            enabled: true,\\n            unique_id: \\\"demo2\\\",\\n        },\\n    });\\n    \\n    new SimpleMDE({\\n        element: document.getElementById(\\\"demo3\\\"),\\n        status: false,\\n        toolbar: false,\\n    });\\n    </script> OK \\n\\n> cr cr cr js> $(\\\"body\\\")[0] ce! ce 6 ce@ :> outerHTML .\\n[object HTMLScriptElement] innerHTML= (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r...\\n    0 : [object Text]  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=...\\n<script>\\n      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\\n      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\\n      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\\n      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');\\n    \\n      ga('create', 'UA-5808021-18', 'auto');\\n      ga('send', 'pageview');\\n    \\n    </script> OK \\n\\n\\n-----------------------\\n[!] Try 3htm with localhost , the Error is : \\\"require is not defined\\\"\\n    (1) Run local host : webserver.bat\\n    (2) Run jeforth.3htm through http://localhost:8888 or http://localhost:8888/index.html \\n    (3) Run \\n        <h>\\n        <link rel=\\\"stylesheet\\\" href=\\\"http://localhost:8888/src/css/simplemde.css\\\">\\n        <script src=\\\"http://localhost:8888/src/js/simplemde.js\\\"></script>\\n        </h>\\n        ---> JavaScript error on word \\\"doElement\\\" : require is not defined\\n[!] jeforth.3ce can not do this: (Due to Content Security Policy violation)\\n    <h>\\n    < link rel=\\\"stylesheet\\\" href=\\\"http://localhost:8888/src/css/simplemde.css\\\">\\n    < script src=\\\"http://localhost:8888/src/js/simplemde.js\\\"></script>\\n    </h>\\n    \\\\s\\n    jquery-1.11.2.js:9831 Refused to load the script \\n    'http://localhost:8888/src/js/simplemde.js?_=1462251960943' \\n    because it violates the following Content Security Policy directive: \\n    \\\"script-src 'self' 'unsafe-eval'\\\".\\n    \\\\s\\n    \\\\ webserver.bat cd root at c:\\\\program files\\\\nodejs\\\\node_modules\\\\simplemde\\n    char http://localhost:8888/src/js/simplemde.js readTextFile . \\\\ ==> works fine\\n[!] Try super chrome \\n    --> worse then jeforth.3htm through http://localhost:8888 \\n[x] Trying to include but failed.\\n    char ../simplemde-markdown-editor/src/css/simplemde.css readTextFile .\\n    char ../simplemde-markdown-editor/src/js/simplemde.js  readTextFile .\\n    <h>\\n    < link rel=\\\"stylesheet\\\" href=\\\"../simplemde-markdown-editor/src/css/simplemde.css\\\">\\n    < script src=\\\"../simplemde-markdown-editor/src/js/simplemde.js\\\"></script>\\n    </h>\\n    --> (on 3HTA) 'require' not defined ==> So, try 3nw !!\\n    --> and JavaScript error on word \\\"doElement\\\" : 發生錯誤，無法完成操作 80020101。\\n    --> try 3nw, but: JavaScript error on word \\\"doElement\\\" : Cannot find module 'codemirror'\\n    --> So, let's, as homepage said, use npm install. I am using 3nw anyway.\\n        --> See ^> 2016-05-03 00:07:17 error message\\n            C:\\\\Users\\\\hcche\\\\Documents\\\\GitHub> npm install simplemde --save\\n            Failed again, npm install wants to use 'git' but which is unknown unless in a \\n            gitShell that I can open through GitHub I guess.\\n        --> Yes! GitShell is better, on installating now, stop at load codemirror\\n            seems working ... I thought it's dead but now continoued. Wow, what a huge\\n            installation. ok!\\n    [x] I run the install from C:\\\\Users\\\\hcche\\\\Documents\\\\GitHub> is not good.\\n        The result is a 10MByte size of mudules! at \\n            c:\\\\Users\\\\hcche\\\\Documents\\\\GitHub\\\\node_modules <-- all dated 5/3'16 which is today\\n        I should move it to : \\\"c:\\\\Program Files\\\\nodejs\\\\node_modules\\\" <--- all done.\\n        * Should run npm install at c:\\\\Program Files\\\\nodejs>  ... <== wrong! still failed.\\n    [x] (@ Home) 10M of modules installed. What's next? Ah! all the modules are for server side.\\n        See examples on http://simplemde.com and think.\\n    [x] (@ T550) * Should run npm install at c:\\\\Program Files\\\\nodejs>  ... <== wrong! still failed.\\n        c:\\\\Program Files\\\\nodejs and sub-directories are not write-able, I guess. Because\\n        tried to do the install at ~\\\\downloads\\\\simplemde then OK! See ^> 2016-05-03 09:28:01\\n    [x] Holyshit! Totally different result from ^> 2016-05-03 09:28:01 !!!\\n        我想要把所有的 node_modules 都集中到 c:\\\\Program Files\\\\nodejs\\\\node_modules\\\\ 也是錯誤觀念。\\n        SimpleMDE 的 node_modules 就放在自己個別的目錄下。\\n[x] I should reinstall Node.js and NW.js at home? Because installing SimpleMDE has totally\\n    messed up the node_modules folder.\\n    --> ok at home. \\n[x] @ T550 after installed SimpleMDE by npm, Also have made NODE_PATH env correctly points\\n    to c:\\\\Program Files\\\\nodejs\\\\node_modules run 3nw.bat and try . . . \\n    s\\\" c:\\\\Program Files\\\\nodejs\\\\node_modules\\\\simplemde\\\\src\\\\css\\\\simplemde.css\\\" readTextFile .\\n    s\\\" c:\\\\Program Files\\\\nodejs\\\\node_modules\\\\simplemde\\\\src\\\\js\\\\simplemde.js\\\" readTextFile .\\n    <h>\\n    < link rel=\\\"stylesheet\\\" href=\\\"c:/Program Files/nodejs/node_modules/simplemde/src/css/simplemde.css\\\">\\n    < script src=\\\"c:/Program Files/nodejs/node_modules/simplemde/src/js/simplemde.js\\\"></script>\\n    </h>\\n    --> Now I realized that dealing with npm is needed for Web Server side only\\n[x] (@ 3nw) require('codemirror') not found, add %NODEJSHOME%\\\\node_modules\\\\simplemde\\\\node_modules\\n    to NODE_PATH as below can resolve this.\\n    ---- 3nw.bat ----\\n    if a%COMPUTERNAME%==aWKS-38EN3476     set NODEJSHOME=C:\\\\Program Files\\\\nodejs\\n    if a%COMPUTERNAME%==aWKS-4AEN0404     set NODEJSHOME=C:\\\\Program Files\\\\nodejs\\n    set NODE_PATH=%NODEJSHOME%\\\\node_modules;%NODEJSHOME%\\\\node_modules\\\\simplemde\\\\node_modules\\n    start nw ../jeforth.3we %1 %2 %3 %4 %5 %6 %7 %8 %9\\n    -----------------\\n[x] (@ 3nw) But after resolved require('codemirror') not found, new problem appear: \\n    JavaScript error on word \\\"doElement\\\" : navigator is not defined\\n    --> js> navigator \\\\ ==> [object Navigator] (object) 明明 3nw 有啊!\\n        js> window.navigator \\\\ ==> [object Navigator] (object) \\n    --> 從 simplemde.js 裡查出是 require(\\\"codemirror\\\") 出錯\\n        console.log(111);debugger; // @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\\n        var CodeMirror = require(\\\"codemirror\\\");\\n        console.log(222);debugger; // @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\\n    --> Only server side needs to deal with npm things.\\n[x] (@ 3htm localhost ) 算了, 直接用 BootCDN include 看看: <---- Yes, correct way!! I don't \\n    need to deal with server side issues.\\n    <h>\\n    < link href=\\\"http://cdn.bootcss.com/simplemde/1.10.0/simplemde.min.css\\\" rel=\\\"stylesheet\\\">\\n    < script src=\\\"http://cdn.bootcss.com/simplemde/1.10.0/simplemde.min.js\\\"></script>\\n    </h>\\n    --> cls <js> typeof SimpleMDE </jsV> \\\\ ==> function (string)\\n        It works !!  \\n    --> So, how about 3hta 不成功. 3htm on localhost and 3nw works with the below method.\\n[x] 3htm on localhost installed ok, so go on using it . . . \\n    See http://simplemde.com --> Bingo!! it works now. But appearance has something wrong\\n    that needs fine tuning.\\n\\n\\\\ 以下 3htm 3nw OK, 3hta 有掛上 simplemde 但是沒有效果。\\n\\\\ Include SimpleMDE\\n\\n    <h>\\n    < link href=\\\"http://cdn.bootcss.com/simplemde/1.10.0/simplemde.min.css\\\" rel=\\\"stylesheet\\\">\\n    < script src=\\\"http://cdn.bootcss.com/simplemde/1.10.0/simplemde.min.js\\\"></script>\\n    </h> drop\\n    js> typeof(SimpleMDE) tib. \\\\ ==> function (string) so it has been installed\\n\\n\\\\ Create a textarea\\n\\n    cls <o> <textarea id=simplemde ></textarea></o> js> outputbox insertBefore\\n\\n\\\\ Launch SimpleMDE on the above textarea\\n\\n    <js> \\n    var simplemde = new SimpleMDE({element: document.getElementById(\\\"simplemde\\\")}); \\n    simplemde \\n    </jsV> \\n    constant simplemde\\n\\n\\\\ Test, set the content\\n\\n    simplemde <js> pop().value(\\\"This text will appear in the editor\\\"); </js>\\n\\n\\\\ Test, get the content\\n\\n    simplemde :> value() \\\\ ==> # This text will appear in the editor (string)\\n\\n[x] 不要用 bootCDN 改用別家的試試看... Same problem, see <^2016-05-04 11:57:32\\n\\nstop\\njs> vm.appname==\\\"jeforth.3hta\\\" [if] char js/numeric-1.2.6.js\\n[else] char http://www.numericjs.com/lib/numeric-1.2.6.js [then]\\nreadTextFile \\\\ 先讀取 .js 檔, 但不能直接用\\n<text> \\nwindow.numeric = numeric;  // 先對 source 做一點必要的加工, 把 numeric 掛上 global \\n</text> + </js> \\\\ 然後才執行\\t\\n-------------\\n2016-05-03 00:07:17 error message\\n\\t\\tc:\\\\Users\\\\hcche\\\\Documents\\\\GitHub\\\\jeforth.3we>npm install simplemde --save\\n\\t\\tnpm ERR! git clone --template=C:\\\\Users\\\\hcche\\\\AppData\\\\Roaming\\\\npm-cache\\\\_git-remotes\\\\_templates ...\\n\\t\\tc:\\\\Users\\\\hcche\\\\Documents\\\\GitHub\\\\jeforth.3we>git\\n\\t\\t'git' 不是內部或外部命令、可執行的程式或批次檔。\\n\\n^^^^^ 2016-05-03 09:28:01 ^^^^^^^^^^^\\nC:\\\\users\\\\hcche\\\\Downloads> cd .\\\\simplemde\\nC:\\\\users\\\\hcche\\\\Downloads\\\\simplemde> npm install simplemde --save\\nnpm WARN deprecated gulp-minify-css@1.2.4: Please use gulp-clean-css\\nnpm WARN deprecated graceful-fs@3.0.8: graceful-fs v3.0.0 and before will fail on node releases >= v6.0. Please update to graceful-fs@^4.0.0 as soon as possible. Use 'npm ls graceful-fs' to find it in the tree.\\nnpm WARN deprecated lodash@1.0.2: lodash@<3.0.0 is no longer maintained. Upgrade to lodash@^4.0.0.\\nnpm WARN deprecated graceful-fs@1.2.3: graceful-fs v3.0.0 and before will fail on node releases >= v6.0. Please update to graceful-fs@^4.0.0 as soon as possible. Use 'npm ls graceful-fs' to find it in the tree.\\nsimplemde@1.10.1 node_modules\\\\simplemde\\n├── marked@0.3.5\\n├── codemirror@5.14.3\\n└── codemirror-spell-checker@1.0.6 (gulp-minify-css@1.2.4, gulp-header@1.7.1, gulp-concat@2.6.0, gulp-uglify@1.5.3, gulp@3.9.1)\\nC:\\\\users\\\\hcche\\\\Downloads\\\\simplemde>\\n\\nNote! The result is totally different to what happened last night at home.\\nSee Ynote \\\"SimpleMDE Install\\\" for pictures of the correct results.\\n\\n-------------------\\n\\n \\n\\n \",\"mode\":true,\"readonly\":true}",
	"[Closed] Log 2016/05/17" : "{\"doc\":\"[ ] tutor-cloth.f console3we strange. \\n    [ ] Improve the scrollto position. \\n    [ ] Font size not consistant either.\\n[ ] Youtube presentation of numeric.js\\n[ ] GitHub read me should feature the published 3ce Chrome extension.\\n\\n\\n[x] @ 3ce, ls.dump failed in cases\\n    > ls.dump 3hta/localstorhage.json\\n    JavaScript error on word \\\"stopSleeping\\\" : Unexpected end of JSON input\\n    > ls.dump doc/archive.json\\n    ... 有印出來 ...\\n    JavaScript error on word \\\"stopSleeping\\\" : Cannot read property 'length' of undefined\\n    [x] 不知何故, 然發現 3hta, 3nw 的 platform.f 裡 storage.restore() 都有用到 execute(\\\"readTextFile\\\") \\n        這種東西。它們的 readTextFile() 都是同步的，而且出問題的是 3ce 應該沒關係。\\n    [x] 3ce 對 localStorage 的 access 可能引發背後的 I/O 動作，變成 \\\"stopSleeping\\\" 的問題？\\n        --> 如果以下的解法 OK 這個就不是原因。\\n    [x] 上面 stopSleeping 都是 event handler 去打到甚麼了? --> study 3htm\\\\f\\\\readtextfile.f ...\\n        --> 這改不了,看不出問題。只好假設 3htm\\\\f\\\\readtextfile.f 給的｢接地時間」不夠\\n\\n[x] js> storage.read(\\\"3hta/localstorage.json\\\") <--- 失敗, 因用到 readTextFile 用在 3ce 的\\n    js function 裡是不行的! 在 3htm, 3ce 中 readTextFile 是內部會｢接地」的,在 js code 裡用\\n    execute(\\\"readTextFile\\\") 去用它, 還沒做完就馬上回來了！！ \\n    ==> 根本不需要 storage.read() 在 3htm/f/platform.f 裡。直接寫 ls.dump 就可以了。\\n\\n: (ls.dump) ( pathname -- ) \\\\ Dump the entire json file in localstorage.json format \\n\\treadTextFile ( \\\"json\\\" ) \\n\\t\\\\ resolve utf-8 BOM ss.charCodeAt(0)==65279 that's utf-8 BOM \\n\\tjs> tos().charCodeAt(0)==65279 if js> pop().slice(1) then ( \\\"json\\\" )\\n\\tjs> JSON.parse(pop()) ( hash )\\nt.b.d \\n\\t;\\n\\n[x] ls.f (ed) 要改成 ( hash \\\"fieldname\\\" -- ) <-- No, 已經牽連太深了。 ls.dump 另外做介面而不引用 ed。\\n[x] 3hta platform.f 應該只要提供 window.localStorage, window.storage.save(), window.storage.restore() 即可。\\n    3nw  platform.f 應該只要提供 window.storage.save(), window.storage.restore() 即可。\\n    其他 window.storage methods like .set(), .get(), .del(), .all(), and .read() 都由 3htm/f/platform.f 負責。\\n    --> ^2016-05-27 17:26:37 改好了, try . . . Done. 如今 window.storage.all() 就是 localStorage, \\n        裡面的實情可以隨 platform 自由設計。\\n[x] ls.f improved export-all add import-all \\n    [/] --> 改成 ls.export, ls.export-all, ls.import-all <--- 算了, forget them.\\n[x] need a new command ls.dump to dump the entire local storage. <--- Done!!\\n[x] local storage ed editor textarea wrap on/off \\n    js> $(\\\"textarea\\\",\\\".eb\\\").length . \\\\ 先查看,確定目標只有一個,以免動錯對象\\n    js> $(\\\"textarea\\\",\\\".eb\\\").attr(\\\"wrap\\\") . \\\\ 查看目前狀態是 \\\"on\\\" 還是 \\\"off\\\"\\n    js: $(\\\"textarea\\\",\\\".eb\\\").attr(\\\"wrap\\\",\\\"on\\\") \\\\ 這個例子把它 turn \\\"on\\\"\\n    --> 增加這個按鈕... 可以不必, 用以下的 One-liner 一行搞定, 先 focus 在目標 textarea \\n        用 Ctrl-Enter 執行。\\n    js: $(\\\"textarea:focus\\\").attr(\\\"wrap\\\",\\\"on\\\")\\n    js: $(\\\"textarea:focus\\\").attr(\\\"wrap\\\",\\\"off\\\") \\n\\n[/] stopSleeping 要更有彈性點\\n    JavaScript error on word \\\"stopSleeping\\\" : \\n    Object doesn't support property or method 'resume'\\n    --> 發警報有時候很重要，能可多發。能不能考慮清楚之後忽略掉？ <--- forget it.\\n\\n[x] ls.f ed local storage 在 3hta 3nw 下需要一個 search command. Total commander F3 search\\n    localstorage.json 也行, 但看不出是哪個 field。 用 notepad++ 的 json viewer 看看.....\\n    --> 的確, 用 Notepad++ Plugin JSTool 的 JSFormat Ctrl-Alt-m 就可以把一整團的 minimized JSON \\n        整理成容易閱讀的形式, 然後再 search 即可看出東西在哪個 field 裡。\\n\\n[/] ls.f ed local storage 忘了先 git pull sync 過就 edit 了, 這很麻煩。只好先 save localstorage.json\\n    到旁邊, 然後再 sync. 用 3nw 的 js: storage.restore(\\\"drive/path/localstorage.json\\\") 即可讀進來，\\n    看改了甚麼在 copy 回 3hta 正軌。 localstorage fields 改了甚麼真的不好比對,怎麼辦? \\n\\n[x] Ctrl-s in ed on 3hta triggers log.save!!\\n    ^2016-05-20 13:40:17 Now press Ctrl-s in ls.f ed code mode causes an unexpected DIV!\\n      0: [object HTMLDivElement] (object)\\n      1: [object HTMLDivElement] (object)\\n    --> fixed. see ls.f ed \\\"[Closed] eb editbox from snapshot can't save now!\\\"\\n\\n[x] Ctrl-s in ed on 3nw clears the article!! Ok on 3hta. (^2016-05-18 11:44:28)\\n    // this.value=this.innerText; 這會造成 3nw 把整個 textarea 都清掉!! 幸好用不著 <--- 錯!!\\n    [x] 必須找出原因，否則 HTML mode 下辛苦寫半天的筆記即使有 save 經 close 之後就消失了!\\n    [x] Test case, test plan, test results ^2016-05-22 11:02:36\\n[x] Ctrl-s handler was designed for .ebtextarea only, that's why press it when in Browse mode\\n    triggers the log.save handler! --> done and tested <^2016-05-22 11:02:36\\n\\n[x] index.html 這段舊方法應該可以糾正了, 用 element.style. something 取代原來的寫法\\n    <!-- 分別定義 textarea:focus 才可以隨時修改，隨 editMode 改變顏色 -->\\n    <!-- 其實是 common.css 之外非 link 定義的 style 才可以隨時修改 -->\\n    〈style id=styleTextareaFocus type=\\\"text/css\\\"〉 \\n\\t/* .console3we */ textarea:focus {\\n\\t    background:#E0E0E0;\\n\\t}\\n    〈/style〉\\n    --> 3hta link of common.css move to after html5.f, actually 3htm/f/platform.f \\n        [x]jeforth.hta [x]index.html [x]jeforth.3ce.html [x]jeforth.3nw.html\\n    --> 果然成功了 \\n        js: $(\\\".console3we\\\")[0].style.backgroundColor=\\\"yellow\\\" \\\\ 有效但是看不出來,因為被 outputbox 遮住。\\n        js> $(\\\"div\\\",\\\".console3we\\\").css(\\\"backgroundColor\\\") \\\\ ==> rgb(240, 240, 240) OK \\n        js: $(\\\"div\\\",\\\".console3we\\\").css(\\\"backgroundColor\\\",\\\"transparent\\\") \\\\ 把 outputbox 改成透明,背後的黃色背景就會呈現。\\n    [x] 先把 outputbox 改成 transparent, 然後試試 flot ... failed\\n        js: $(\\\"#outputbox\\\",\\\".console3we\\\").css(\\\"backgroundColor\\\",\\\"transparent\\\")\\n    [x] 直接改 flotzone :: style.background=\\\"transparent\\\" 再試試... 也不行。\\n    [x] 照原來的範圍改 ... 還是不行。\\n        js: $(\\\"div\\\",\\\".console3we\\\").css(\\\"backgroundColor\\\",\\\"transparent\\\")\\n    [x] 從 .console3we 外成功了, 搬進來試試 --> 問題出現！\\n        再搬回 .console3we 外 ... 好了! \\n    [x] 上面的改法不行, 因為是疊加在 header 版之上。直接改 head 裡的 style 應該可以 ... Bingo!\\n        js> $(\\\"style\\\")[0].innerHTML=null 這麼一改, 就把已呈現問題的 flot graph 治好了。\\n    [x] 既然 style 是疊加上去的, 在 flot 之後再另外設定 outputbox 的 background 應該可以。\\n        --> 試過了, 不行。 See ls.js ed \\\"[RI] flot graph 消失的 key factor\\\"\\n\\n    \\\\ 這段程式可以找出 jeforth.3we common.css style 裡有 background 的那一行,把它刪除。\\n    js> $(\\\"#commoncss\\\").outerHTML .\\n    ss :> split(\\\"\\\\n\\\")\\n    constant aa\\n    <js>\\n    for (var i=0; i<vm.g.aa.length; i++){\\n    if(vm.g.aa[i].indexOf(\\\"background:#F0F0F0\\\")==-1) push(tos()+vm.g.aa[i]+'\\\\n');\\n    }\\n    </js>\\n\\n[x] (on 3HTA) ls.f ed issue: \\n    Very strange bug\\n    These two lines will be executed when click [Read] button\\n    <h>\\n        〈link rel=\\\"stylesheet\\\" href=\\\"../simplemde-markdown-editor/src/css/simplemde.css\\\"〉\\n        〈script src=\\\"../simplemde-markdown-editor/src/js/simplemde.js\\\"〉〈/script〉\\n    </h>\\n    --> and JavaScript error on word \\\"doElement\\\" : 發生錯誤，無法完成操作 80020101。\\n    --> The most strange is that, may because of the same reason, simpleMDE.js alredy\\n        included in 3NW !!\\n            js> $(\\\"script\\\").length . \\\\ ==> 4\\n            js> $(\\\"script\\\")[3].src . \\\\ ==> file:///C:/Users/hcche/Documents/GitHub/simplemde-markdown-editor/src/js/simplemde.js\\n    3hta ls.f ed read 本 log 時會跳出來問允不允許 cookie !!!\\n    [x] make a test.js that alerts\\n        <h> 〈script src=\\\"playground/test.js\\\"〉〈/script〉</h>\\n        [x] 哈! 真的一 read 本 ed 就被執行到了! 原因應該是 eb.textarea copy 給 eb.htmlarea 時發生的。\\n            In command \\\"eb.content.code\\\".\\n    --> 即 eb.content.code 如下一行, 這下怎麼辦？既要效果又不要意外執行到 script。 \\n        $(\\\".ebhtmlarea\\\",tos()).html($(\\\".ebtextarea\\\",tos())[0].value);\\n    --> 那就是把 <h> <o> <e> sections 裡面的 <> 改成 & l t ; , & g t ; 這太難了!!\\n    --> 用 <<scr ipt>> 取代看好不好？預感不行, 果然不行。照樣會被執行到。\\n    [x] 用中文的〈script src=\\\"playground/test.js\\\"〉鐵定好了。所有的 RegEx(/\\\\s<\\\\w/) 都要注意。\\n        script, iframe, link, style, ... 專門為這些 tag 發警報就好了呀!   \\n    [x] 發現 eb.read 會沒必要地 call 到 eb.content.code (因為script, iframe, link, style,警報跳出)\\n        --> 略事改良,好了。現在讀進 HTML article 會有兩個警告, 一個是說原本在 textarea 裡的 < > 可能會被\\n            改成 &lt; &gt;, 另一個是發現有 script,style 等也發警報。警報太多, 但先這樣吧！\\n    [x] eb.content.code 加上警告是因為發現在 code mode 讀進有這些 tag 的資料時會意\\n        外地在 htmlarea 生效。其實只需要在 textarea code mode 裡編輯的內容,怎麼會有\\n\\t這種問題？整套設計太混亂了 <---- ^2016-05-22 15:33:49 最後一個 bug 是 script,style 警告之後被\\n        user cancel 就應該留在 code mode 也就是把 field.mode 改成 true, 這點原來漏做, 因此要嘛硬闖\\n        browse mode 出問題, 要拒絕之後沒有切回 code mode 因此留在 browse mode 而 .ebhtmlarea 是空的!\\n        .ebhtmlarea.innerHTML 會自動正確分辨 HTML tags 以及文章中的 < > 等符號。但是因為 HTML document\\n        裡面兩者都混再一起, 故某些 <style>...</style> 其實是 text 也被保留沒有轉成 &lt; &gt; !!! 經詢問\\n        時先拒絕, 手動改成 &lt;style 之後再轉成 browse mode 沒有 script,style warning 就好了。\\n\\n[x] How to change SimpleMDE font family and font size?\\n    > js> $(\\\".mdbox\\\").css(\\\"font-size\\\") . \\\\ ==> 20px OK \\n    > js> $(\\\".mdbox\\\").css(\\\"font-family\\\") . \\\\ ==> 'Microsoft Yahei' OK \\n    \\\\ 改 font-size\\n        js> $(\\\".mdbox\\\").css(\\\"font-size\\\",\\\"18px\\\");$(\\\".mdbox\\\").css(\\\"font-size\\\") tib.\\n    \\\\ 改 font-family\\n        <js> $(\\\".mdbox\\\").css(\\\"font-family\\\",\\\"courier\\\");$(\\\".mdbox\\\").css(\\\"font-family\\\")</jsV> tib.\\n        <js> $(\\\".mdbox\\\").css(\\\"font-family\\\",\\\"Microsoft Yahei\\\");$(\\\".mdbox\\\").css(\\\"font-family\\\")</jsV> tib.\\n\\n[x] 控制 SimpleMDE -- height\\n    js> $(\\\".CodeMirror\\\").css(\\\"height\\\",\\\"550px\\\");$(\\\".CodeMirror\\\").css(\\\"height\\\") tib. \\\\ <---- it works!\\n    > js> $(\\\".CodeMirror\\\").css(\\\"width\\\",\\\"90%\\\") . \\\\ <---- it works\\n    [object Object] OK \\n    > js> $(\\\".CodeMirror\\\").css(\\\"width\\\") . \\\\ ==> 1013px OK \\\"90%\\\" expected but it's in pixel.\\n    > js> $(\\\".CodeMirror\\\").css(\\\"height\\\") . \\\\ ==> 300px OK 表示有機會\\n    [object Object] OK \\n    > js> $(\\\".CodeMirror\\\").css(\\\"height\\\",\\\"250px\\\") . <---- it works! \\n    [object Object] OK \\n    > js> $(\\\".CodeMirror\\\").css(\\\"height\\\",\\\"200px\\\") . <---- 自動 變成 300px, 有防呆機制。\\n    [object Object] OK \\n    > js> $(\\\".CodeMirror\\\").css(\\\"height\\\") . \\\\ ==> 300px OK \\n\\n[x] SimpleMDE 有個問題, 讀入新檔時, 若原先在 Preview mode 因為不會自動切成\\n    edit mode 看起來好像無反應。 --> 自動先切成 edit mode 然後才讀進檔案。\\n    Full screen & side-by-side 根本碰不到 [Load] button 因此不用考慮。\\n    [x] Check SimpleMDE current mode\\n        > js> $(\\\".md\\\").length . \\\\ ==>   1 OK \\n        > js> $(\\\".md\\\")[0].mde . \\\\ ==>   [object Object] OK \\n        > js> $(\\\".md\\\")[0].mde.isPreviewActive() . \\\\ ==> false OK \\n        > js> $(\\\".md\\\")[0].mde.isSideBySideActive() . \\\\ ==> false OK \\n        > js> $(\\\".md\\\")[0].mde.isFullscreenActive() . \\\\ ==> false OK \\n    [x] Alert() when in preview mode.\\n\\n[x] to play flot, need to read markdown document in flot project, so \\n    try \\\"simplemde\\\" first <--- which is done now ^2016-05-10 09:02:53 \\n\\n[x] design pickFile for 3nw\\n    --> see Ynote: \\\"jeforth.3we fix pickFile problem on 3nw. Get full path of local file\\\"\\n\\n[x] on 3NW,\\n    <js> var simplemde = new SimpleMDE();simplemde</jsV> constant simplemde\\n    --> JavaScript error : SimpleMDE is not defined <-- Use BootCDN.cn can be better\\n        The including process takes time too. \\n    --> Check SimpleMDE where went? <--- window.SimpleMDE() is a function which\\n        is the constructor.\\n\\nstop\\n[/] to play flot, need to read markdown document in flot project, so try \\\"simplemde\\\" first\\n\\nchar ../simplemde-markdown-editor/src/css/simplemde.css readTextFile .\\nchar ../simplemde-markdown-editor/src/js/simplemde.js  readTextFile .\\n\\n\\n[x] NW.js is buggy. textarea wrap=off does not work !! --> Upgrade to new version then ok.\\n    nwjs-sdk-v0.14.3-win-x64.zip is OK. pickFile oncancel() event is also requiring the new\\n    NW.js. \\n\\nstop\\njs> vm.appname==\\\"jeforth.3hta\\\" [if] char js/numeric-1.2.6.js\\n[else] char http://www.numericjs.com/lib/numeric-1.2.6.js [then]\\nreadTextFile \\\\ 先讀取 .js 檔, 但不能直接用\\n<text> \\nwindow.numeric = numeric;  // 先對 source 做一點必要的加工, 把 numeric 掛上 global \\n</text> + </js> \\\\ 然後才執行\\t\\n\\nstop\\n\\n[x] How to include numeric.js? It needs a workaround.\\n    In example of jeforth.3we\\\\js\\\\numeric-1.2.6.js, it does not work to:\\n    include.js http://rawgit.com/hcchengithub/jeforth.3we/develop/js/numeric-1.2.6.js \\n    because the module assumes itself is included by HTML head while it's not in this case.\\n    Note: It does not work due to that <js></js> is volatile in 3nw, 3htm, 3ce and 3hta, \\n    while it's under global in Node.js.\\n    --> Workaround is:\\n        char http://www.numericjs.com/lib/numeric-1.2.6.js\\n      \\\\ char http://rawgit.com/hcchengithub/jeforth.3we/develop/js/numeric-1.2.6.js \\n\\treadTextFile \\\\ 先讀取 .js 檔, 但不能直接用\\n\\t<text> \\n\\twindow.numeric = numeric;  // 先對 source 做一點必要的加工, 把 numeric 掛上 global \\n\\t</text> + </js> \\\\ 然後才執行\\t\\n[ ]\\tjeforth.3we\\\\js\\\\numeric-1.2.6.js does not work when :\\n\\tinclude.js http://rawgit.com/hcchengithub/jeforth.3we/develop/js/numeric-1.2.6.js \\n\\tbecause the module assumes itself is included by HTML head section and so variables \\n\\tcreated by the module will be added to the DOM window object and become global variables.\\n\\tIt does not work because of that <js></js> is volatile in 3nw, 3htm, 3ce and 3hta, \\n\\twhile it's under global only in Node.js. Workaround is:\\n\\tchar http://rawgit.com/hcchengithub/jeforth.3we/develop/js/numeric-1.2.6.js \\n\\treadTextFile \\\\ 先讀取 .js 檔, 但不能直接用\\n\\t<text> \\n\\twindow.numeric = numeric;  // 先對 source 做一點必要的加工, 把 numeric 掛上 global \\n\\t</text> + </js> \\\\ 然後才執行\\t\\n\\n: snapshot ( -- ) \\\\ Save outputbox to a ed\\n    (ed) ( eb ) now t.dateTime ( eb now ) js: $(\\\".ebname\\\",tos(1))[0].value=pop()\\n    js: $(\\\".ebtextarea\\\",tos())[0].value=outputbox.innerHTML ( eb ) \\\\ load the content\\n    dup eb.content.code dup eb.appearance.browse ( eb ) \\\\ correct appearance mode\\n    js: $(\\\".ebsaveflag\\\",pop())[0].checked=false \\\\ Not saved yet, up to users decision\\n    ;\\n\\nstop\\n    dup eb.content.browse eb.appearance.browse ;\\n\\nstop\\n[x] log.save (actually the \\\"snapshot\\\" command saves outputbox to an ed box) goes to \\n    local storage. No more log.things will be added. ^2016-05-30 10:49:23\\n[x] check HTML li il or something else that support \\\"[x]\\\" and indent.\\n    --> play with this article http://www.marcofolio.net/css/8_different_ways_to_beautifully_style_your_lists.html\\n    --> Use the old way, accept it. No indent afterall. ^2016-05-30 10:54:10\\n[x] let <e> support comments but be careful, ... no no problem.\\n    --> good to use /* comments */ in them.\\n[x] what if local storage usage become huge? An archive method is needed.\\n    --> Simply move to doc/archive.json manually.\\n\\n\\n[x] optimize [x]platform.f ls.f and editor.f\\n    --> forget it. Let things come out as it be.\\n[x] Ctrl-s 竟然會自動補上 HTML closing tag !! \\n    --> it seems like editor.f's Ctrl-S. --> Yeah, 這個問題同 <^2016-05-18 11:44:28 \\n        當 ed textarea copy 給 htmlarea 時, 用的是 $.html() 所以然。\\n[x] HTA can open only one window, don't know why. Use that one anyway.\\n[/] improve (export) , it's ok now but ugly.\\n    Use local-storage-field-editable? to improve it.\\n    --> Let it be, we have better things to do.\\n\\nstop\\neb.open check it out, if ok, go on, if not, JSON.stringify() can make it a string and show.\\nand by the way make it a readonly.\\n[x] how about an array? field is array and stringify is ok.\\n    ==> stringify() can handle anything if only not a recursing object.\\n\\nstop\\n--- marker --- dropall cls \\n: local-storage-field-editable? ( name -- field boolean ) \\\\ Check if the object is a local storage editable document\\n    js> storage.get(pop()) >r \\n    js> typeof(rtos())==\\\"object\\\" if\\n      js> typeof(rtos().doc)==\\\"string\\\"\\n      js> typeof(rtos().mode)==\\\"boolean\\\"\\n      js> typeof(rtos().readonly)==\\\"boolean\\\"\\n      and and ( boolean )\\n    else \\n      false ( boolean )\\n    then r> swap ;\\nchar autoexec local-storage-field-editable? .s\\nstop\\n\\n--- marker --- dropall cls \\n: local-storage-field-editable? ( name -- field boolean ) \\\\ Check if the object is a local storage editable document\\n    js> storage.get(pop()) ( field ) \\n    js> typeof(tos())==\\\"object\\\" if\\n      js> typeof(tos().doc)==\\\"string\\\"  ( field boolean ) \\n      js> typeof(tos(1).mode)==\\\"boolean\\\"  ( field boolean boolean ) \\n      js> typeof(tos(2).readonly)==\\\"boolean\\\"  ( field boolean boolean boolean )  \\n      and and ( field boolean )\\n    else \\n      false ( field boolean )\\n    then ;\\nchar x local-storage-field-editable? .s\\nstop\\njs> storage.get(\\\"autoexec\\\") js> typeof(pop()==\\\"object\\\") . \\nstop \\n\\njs: storage.set(\\\"x\\\",{aa:11})\\njs: storage.set(\\\"y\\\",\\\"我的大好是天\\\")\\njs: storage.set(\\\"z\\\",[\\\"aa\\\",123,\\\"bb\\\"])\\n\\nstop\\njs> storage.get(\\\"autoexec\\\") js> typeof(tos().doc)==\\\"string\\\"&&typeof(tos().mode)==\\\"boolean\\\"&&typeof(tos().readonly)==\\\"boolean\\\" .\\n\\n\\nstop\\n\\n[x] I twisted the ls.f to bring in the older code into new eb format of \\n    doc,readonly,mode and it works for autoexec but can't edit unless \\n    after saved!!?? --> fixed, haha bug.\\n\\n[x] The problem of local storage edit box lose the focus to inputbox has fixed.\\n    I already have a treatment in forthConsoleHandler() for Ctrl-Enter to NOT focus on \\n    to inputbox after running a TIB. So, simply do inputbox.blur() has solved the \\n    problem. -- 2016/4/29 13:51\\n\\n<br><br>\\n[x] Local storage fields may not edit box document. How to avoid them from being opened by\\n    edit box? \\n    An edit box document is a local storage field that has \\n    {<strong>doc</strong>,<strong>readonly</strong>,<strong>mode</strong>} fields.\\n    So this is enough to tell.\\n\\n<br><br>\\n[x] Move older log to local storage.\\n\\n[x] let ed command take the field name, makes list easier too. --> done.\\n\\n[x] Now I hope that I can use some script in tr.table. So I can click and run scripts.\\n    That requires a Security Policy:\\n    Refused to execute inline event handler because it violates the following Content \\n    Security Policy directive: \\\"script-src 'self' 'unsafe-eval'\\\". Either the 'unsafe-inline' \\n    keyword, a hash ('sha256-...'), or a nonce ('nonce-...') is required to enable inline \\n    execution.\\n    But after added 'unsafe-inline' into \\\"content_security_policy\\\", reload manifest.json gets\\n    this error :\\n\\t\\t嘗試安裝這項擴充功能時顯示警告訊息：\\n\\t\\tIgnored insecure CSP value \\\"'unsafe-inline'\\\" in directive 'script-src'.\\n\\tSo, the only way is to use a function directly.\\n\\t--> 奇怪了, 那 jeforth.3ce 已經在用的 script 是怎麼能跑的?\\n\\t\\t--> inputbox 是收 element.onkeydown , defined in jeforth.3htm.js and platform.f\\n\\t\\t\\t只要不是 inline 形式的 onclick=\\\"blabla\\\" 就可以了。(嗎)\\n\\t\\t--> 那對 jeforth 很簡單哪! 先取得 element 再幫他掛上 element.onxxxx=function 即可。\\n\\t\\t\\telement.onxxxx=debugger; <--- Failed, 'degugger' unknown.\\n\\t\\t\\telement.onxxxx=\\\"dictate('blabla')\\\" <--- no error, but element.onxxxx will be null.\\n\\t\\t\\telement.onxxxx=function(){debugger} <--- OK!! 'this' is the element.\\n\\t\\t\\th1 :: onclick=function(e){dictate('.s')} <--- OK!!! it works fine.\\n\\t==> 結論就是不要寫成 inline script 就行了, 那沒問題呀!\\n\\t--> See Ynote: jeforth.3ce let tr.table to have script, do-able!\\n\\n[x] is#text? paste-string erase-#text-anchorNode\\n    ==> See Ynote: jeforth.3ce window.getSelection() 得到的 Selection object \\n        是揮發性的！不能留下來以後用。\\n\\n[x] project-k baby.html, sample.html 突然 run 起來之後 Ctrl-enter 沒有作用, F12 debugger 才看得見\\n    問題, 原來是 jQuery 掛不起來：\\n    Failed to load resource: net::ERR_NAME_NOT_RESOLVED http://ajax.microsoft.com/ajax/jQuery/jquery-1.11.2.js\\n    baby.html:48 Uncaught ReferenceError: jQuery is not defined\\n    這常有, 應該要有警告。\\n    這是 GFW 的問題, 透過 VPN 就好了。中國境內有沒有 jQuery 的 mirror?\\n    --> Yes! Baidu, Sina, and UpYun. Search \\\"CDN Library\\\" or \\\"Hosted JavaScript Libraries in China\\\"\\n        in my YNote. Project-K samples already modified to use Baidu CDN library. Better now.\\n\\n[x] 14:21 2016-04-12 jeforth.3ce startup page to advertise itself. Use YNote directly.\\n    cls <o> 〈iframe src=\\\"http://note.youdao.com/share/?id=b76172957fccf6a35b31dd7936327c3f&type=note#/\\\" \\n\\tname=\\\"An introduction to jeforth.3ce\\\" align=\\\"center\\\" width=\\\"96%\\\" height=\\\"6800px\\\" \\n\\tmarginwidth=\\\"1\\\" marginheight=\\\"1\\\" frameborder=\\\"1\\\" scrolling=\\\"Yes\\\"〉〈/iframe〉</o> er\\t\\n\\t\\n[x] Include .f or .js from GitHub is ok! Wonderful! \\n    This line works fine on the published jeforth.3ce which was installed from Chrome Web Store,\\n    include http://rawgit.com/hcchengithub/jeforth.3we/develop/3htm/f/ls.f \",\"mode\":true,\"readonly\":false}",
	"[Closed] Log 2016/05/30" : "{\"doc\":\"[x] solar-system.f 簡化到這樣就會出問題：\\n    run: 1000 for js: h=vm.g.stars[0].x+=0.5 50 nap next er\\n    更簡化到: 50 nap or 50 sleep or 1 nap 但是要多試幾次也會捅出問題。\\n    --> naughty-balls2.f 執行中下 20 nap 也會出類似的問題。感覺是 nap 的 resume 回到錯誤的 TIB 了。\\n[x] [nap] interpret-only 與 nap compile-only 要繼續討論清楚 <---- forget it, nap/sleep \\n    good enough now.\\n[x] MetaMoji 上的討論 has given me a hint: when the event handler gets control, the \\n    system must be in idle state (True). That means tib should be empty or at the end\\n    (Also true).\\n\\n~ ~ 結 論 ~ ~\\n\\n*** 根本問題是 command line TSR resume 回來之後不能還指望使用自己留下的 stack/rstack.\\n    你 resume 回來必須面對一個不確定的 stack/rstack。也就是 nap/sleep resume 之後必須\\n    假設 stack/rstack 已經與 nap/sleep 之前面目全非了。\\n\\n    50 nap 就是一個最簡單的 command line TSR! 它會回到 idle 之後才結束工作。因為它目前是個 colon \\n    word 所以它還會在 rstack tos 留一個 0 這已經不好了！ --> 新的 nap 已經改成 code word 就不會\\n    在 rstack 留下一個 0 了。\\n\\n*** TIB is a global variable, save-restore tib in outer() 是為了實現 js: dictate() 所必須，\\n    每個 dictate() 都是獨立的 event. event handlers are using tib so they have to save-restore \\n    tib. 正因為 javascript 是 single thread 因此只要 nap/sleep 各自 save-restore tib/ntib \\n    每個 event handler 就可以 run 得很好。\\n    \\n*** TSR 上手的時間點, 亦即 nap 的 resume() timeout 上手時, 一定是別人已經讓出來了, javascript host\\n    已經在 idle 的狀態。也就是 tib==\\\"\\\", ntib==0. 設斷點觀察 test1, test2 已獲證實。寫成 command\\n    line 的 tib TSR 與寫成 word 的 loop 如 test1 test2 者都一樣有 tib 被 save-restore\\n    through nap/sleep 的 tibwas/ntibwas 只是 test1 test2 的 ntib 都已經到了底沒有\\n    作用了。因此 save-restore 這樣的 tib/ntib 然後透過 outer(ipwas) resme 之後\\n    不論是剩下的 inner loop 或剩下的 tib outer loop 都 resume 無誤。\\n\\n[x] I've got a way to check if the resume() event handler in nap/sleep is triggered\\n    in *the correct* situation, check the tib==undefined. Try try see . . . 錯了! 這\\n    時候的 tib 不是 undefined 而是根本錯了！ --> rstack unbalance was the root cause.\\n\\n[x] Root cause may be that [again] can't jump back to its [begin] when in tib loop\\n    after resuming from resume() of nap. Seems like the rtos that saves the [begin]\\n    ntib has gone, so [again] will actually restore an incorrect ntib !!!! So what \\n    removes the rtos what was supposed to be the return point of [begin] ?? 這也解釋了\\n    為何 cut ... rewind 的方式 ok, 因為 [again] rpop() 出來的是個 0 而不是 [begin] 之後的 \\n    ntib, cut 之後的 ntib 正好就是 0, 所以歪打正著。如果讓 [begin] 治標像 cut 一樣把用過的 \\n    tib 都切掉也應該會好。 <-- RI: rstack unbalance, 但 TSR 不該期望 resumt() 之後 stack/rstack\\n    必須 balance!! 那是人家的自由，這才是真正的 RI.\\n\\n    [x] 哈! [begin] 之後的 ntib 還好好地躺在 rstack 裡, 這竟然是個 rstack balance 出錯的問題!\\n        nap 剛上手的時候查 rstack tos 應該就是 555 正確的 return ntib, 然後 trace 下去...\\n        nap 剛上手的時候查 rstack was [555,0] where 555 is the return ntib, 0 is nap's\\n        RET address because it's run from command line.\\n        --> 出錯時的 nap resume() 會看到 [555,0,0] 多了一個 0 就是問題所在, 所以應該由 [again]\\n            restore ntib=555 處變成 restore ntib=0 留下了 555, 就是這樣出錯了。\\n        --> 多一個 0 @ rtos 是 50 nap 留下的, 這沒錯呀。 --> 看到了, 這時候有兩個 nap 在等\\n            setTimeout(), 接下來是哪個 nap 先 timeout 照理說是都可以，然而因為 [begin][again]\\n            有用到 rstack 所以 50 nap 留在 rstack 裡的 0 就可能會被 solar-system.f 的 nap \\n            拿去當作 [again] 的回跳 ntib 而出了問題。\\n        --> nap 把控制權交出去時理當 stack 與 rstack 都保持不變, 不能讓別人看到 context\\n            有任何改變, 而 stack, rstack 就是重要的 context。同理, tib ntib ip 也是 context \\n            所以 nap resume 前後要 save-restore. 但是 save-restore 對 rstack 不適合(吧?)。\\n    [x] 就 save-restore rstack 吧!? 不行, 萬一幫別人 save 的 rstack 內容理應湮滅卻被 restore \\n        還是問題。\\n    [x] 那就是仿照 cut .. rewind 改寫 [begin]..[again], [begin].. flag [until] 嘍!\\n        避免用到 rstack . . . 不對, 要 supported nested 就不能沿用 cut-rewind 的簡略方法。\\n    [x] [begin] [again] [begin] [until] [for][next] 不能用 rstack 存放 jump back ntib.\\n        有 javascript 當靠山, 直接用 local variable 就好了, 哪需要用到 rstack?! \\n        --> 不是 compiled code 辦不到!!\\n    [X] 只好用 tib 本身來放 jump back ntib 了, 這時候的 TIB 是個 CONSTANT 不會變動了, 因此它的尾巴可\\n        以任意加長，拿來添加 jump back ntib 正好有 stack 的效果。要記得，我們有 support nested flow\\n        structure. ==> Bingo! 終極方向, 正確。\\n\\n[x] 先寫好 tib.push tib.pop tib.tos 直接放 tib 尾巴, charCodeAt() String.fromCharCode()\\n\\ncode tib.push ( int -- ) \\\\ Push the integer to end of TIB as a comment\\n    tib += \\\"\\\\n\\\\\\\\ \\\" + String.fromCharCode(pop());\\n    end-code \\n\\ncode tib.tos ( -- int ) \\\\ Get integer from end of the TIB \\n    var value = tib.charCodeAt(tib.length-1);\\n    push(value); \\n    end-code \\n\\n: tib.pop ( -- int ) \\\\ Pop integer from end of the TIB \\n    tib.tos ( int ) js: tib=tib.slice(0,-4) ;\\n[x] 改寫 [begin][again][until] ==> Big success! 一次成功。\\n    solar-system.f naughty-balls2.f 的問題都直接解掉了。因為 nap, [begin][again] 都不期望\\n    rstack 靜止了。 \\n    [x] 繼續用這三個新 words: tib.push tib.tos tib.pop 改寫 [for][next] --> 一次成功\\n\\n    *** 根本問題是 command line TSR resume 回來之後不能還指望使用自己留下的 stack/rstack。\\n        你 resume 回來必須面對一個不確定的 stack/rstack。也就是 nap/sleep resume 之後必須\\n        假設 stack/rstack 已經與 nap/sleep 之前面目全非了。\\n\\n        50 nap 就是一個最簡單的 command line TSR! 它會回到 idle 之後才結束工作。因為它目前是個 colon \\n        word 所以它還會在 rstack tos 留一個 0 這已經不合格了！ \\n        [x] 改成 code word 看看 --> naughty-balls2.f 跑起來, 然後下 50 nap 不會出問題了。因為雖然\\n            naughty-balls2.f 的 [begin][again] loop 有留下 jump back address in rstack 可能會\\n            傷到別的(之前的)TSR, 但 50 nap 本身既不留足跡也不看 stack/rstack 因此它可以平安結束，且\\n            不會傷到別的 TSR。\\n\\n[x] sleep 也要像 nap 一樣改寫成 code word 吧? 否則它既是 colon word 也會在 rstack 留下一個\\n    代表 RET 的 0 這表示 sleep 工作證長的條件是它 suspend 期間 rstack 不能被動到! 這個條件應\\n    該要避免。 ---> Done! ^2016-06-11 23:32:38\\n\\n[x] Debug  the moving sun of solar-system.f  2016-06-07 14:21:50\\n    The problem is: nap behaves unexpectedly sometimes.\\n\\n[x] 照以下這段 test program 執行, test2 不會被執行到, 只有 test1 不斷重複。\\n    已知原 solar-system.f 用 [begin][again] TSR 移動太陽失敗是不同問題。\\n\\n    : test1 begin 3456 dup . space nap again ;\\n    : test2 begin 1234 dup . space nap again ;\\n    test1 test2\\n\\n    3456 3456 3456 3456 3456 3456  \\\\ This is correct. nap is to wait I/O, all commands are running\\n    in ONE line of time, synchrunously in another word. That's why.\\n\\n    可是再一次手動執行 test2 之後就變成只見 1234. The previous task is still running. But . . .\\n    doing the test2 job <---- problem!  This problem has gone 似乎是 after nap changed to code word\\n    > test2\\n    1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 1234 \\n    > stop\\n\\n    [x] q1. 最初的 test2 到底有沒有執行到? <--- The answer is NO!\\n        : test1 .\\\" test1 \\\" begin  1000 dup . space nap again ;\\n        : test2 .\\\" test2 \\\" begin 10000 dup . space nap again ;\\n        test1 test2 ==> test1 3456  OK 3456 3456 3456 3456 3456 \\n        因為 nap , sleep 的設計就是要「接地」回到 interpreter idle 狀態去等 I/O, 因此不該緊接著執行之後的指令。\\n        這是對的。因為 test1 是無窮迴路, 所以 test2 根本執行不到, 這也沒錯。\\n\\n    [x] q2. 為何手動執行 test2 會干擾到 test1 的執行 <--- 好像 nap 改成 code word 就好了\\n        --> test2 會把 test1 的 tibwas, ntibwas, ipwas 都蓋掉, 所以 test1 的 setTimeout() 還在跑, 但是\\n            效果變成是另一個有點時間延遲的 test2。 這個現象即使改寫出另一個 nap2 (怕是因為 tibwas \\n            後一個蓋掉前一個) 給 test2 用也一樣！ 所以不是這個原因, 每個 nap 的 tibwas 都是獨立的。\\n\\n            So, it is not because of the SAME resume() function that was suspected incorrectedly \\n            the same instance, no it's fine. \\n            \\n            : test1 begin 3000 dup . space nap again ;\\n            : test2 begin 10000 dup . space nap2 again ;\\n            test1 test2\\n\\n        [x] 結果還是一樣！！ 原因跟 nap nap2 無關, 唯一的聯繫就是 TIB !! 因為 nap nap2 都 \\n            save restore tib/ntib 會不會因此 corrupted? --> 的確是 tib 出問題但它也是症狀,\\n            真正原因是 rstack corrupted.\\n\\n    [x] q3. What if command line instead of test1, test2 (they are as words)?\\n        [begin] 3456 dup . space nap [again]\\n        [begin] 1234 dup . space nap [again]\\n        --> They work fine as anticipated. So, only test1, test2 words are in trouble.\\n        --> 我懂了! 從 command line 下這些命令時, 是真的有 tib 輸入給 forth interpreter. As a word,\\n            like test1, test2 where tib become a shifting thing (啥? TIB沒問題的) then it's not \\n            tib/ntib to save-restore but only IP. <--- 後來 [nap] 只 save/restore ip 果然也可以但\\n            那不是正解, 只是避開 root cause 而已。\\n\\n    [x] 執行 test1 之後, 50 nap 會不會出問題？ --> No problem. 50 nap problem only happening in \\n        solar-system.f and naughty-balls2.f, strange! [x] root cause is rstack corrupted.\\n\\n    [x] 執行 test1 之後, 它的 tib 從 source code 看來, 好像就湮滅了。反之, 用 command line 的從結\\n        果看來 TIB 有被保存。 <---- 錯! 兩者的 tib 都保存在 nap/sleep 的 tibwas 裡好好的。\\n\\n    [/] Modify nap, try nap2. It save-restore ip if is in compiling state, tib/ntib if is in\\n        interpret state.\\n\\n        code [nap] ( mS -- ) \\\\ Suspend to idle, resume after mS. Multiple nap is allowed.\\n            var ipwas=ip, delay=pop();\\n            ip = 0; // ip = 0 reserve rstack, suspend the forth VM \\n            setTimeout(resume,delay);\\n            function resume(){outer(ipwas)}\\n            end-code compile-only \\n            /// for used in words  \\n\\n        : test1 begin 3000 dup . space [nap] again ;\\n        : test2 begin 10000 dup . space [nap] again ;\\n        test1 test2\\n    [x] 用 [nap] 則 test2 test1 同時可以跑, 且 stop 停不下來, 因為 begin-again 不是在 tib 裡面跑\\n        的, 所以 [nap] 算不算接地? [nap] 回到 idle 之後剩下的 tib 內容就會被拿去執行。但是原來的\\n        程式的確是停下來了, 因此 I/O delay 的效果還是有的。問題是 tib command line 隨後的 word 會\\n        在前一個 word 還在等 I/O 時就已經上手，這個特性用起來要非常小心。\\n    \\n\\n-----------------\\n\\n[x] 3nw 一出 error 就 jsc 一大堆。\\n    --> 3htm/f/jsc.f , 3nd/f/jsc.f 有兩個,結果依 3nw 的 path 優先順序抓到 3nd 的而應該用\\n        3thm 的才對。用完整 path include 即可。\\n\\n[x] 3ce F5 doesn't refresh <-- 這是 3ce 的關係, 有辦法嗎?\\n    既然 {F5} 隨 platform 各異即應定義前先檢查是否已經存在。\\n    --> 3ce 直接把 F5 擋掉算了 --> 也不好, 都已經針對 3ce 寫了何不解決問題。\\n    ==> runtime.reload, 這個不成功\\n        chrome.runtime.reload() Reloads the app or extension. \\n        --> 直接把 3ce ext page 關掉然後亂 load 一個網頁，不知所云。\\n        --> 這個 reload 似乎指的是整套 Chrome extension re-install。\\n    ==> tabs.reload, 這個成功了!! (for 3ce)\\n        chrome.tabs.reload(integer tabId, object reloadProperties, function callback) Reload a tab. \\n        active-tab :> id js: chrome.tabs.reload(pop()) \\n    ==> 3nw 也有同樣的問題, 解法如下：\\n        js: window.location.href=window.location or js: window.location.reload(true);\\n        --> 以上也對,但根本不是這個, RI: 是引進 local storage 之後 3nw 的 platform.f 要整個都在\\n            3hta/f/platform.f 之前, 當初放得很亂, 出了問題。\\n        ==> 好了, 連 Ctrl-Plus Ctrl-Minus 都修好了。 ^2016-06-02 11:42:11\\n\\n[x] 3ce, F2 in trouble, status reversed, 3hta too!!\\n    OK Input box EditMode = undefined <---- \\n    Input box EditMode = true <--- reversed\\n    [x] 3hta, 3nw, 3ce, 3htm verify. ^2016-06-01 09:05:08\\n\\n[x] tutor-cloth.f console3we strange. \\n    [x] Improve the scrollto position. \\n        was: window.scrollTo(0,endofinputbox.offsetTop)\\n        modifi only those quit.f should be enough. Or even easier, redefine\\n        the cr command would be enough! <-- not enough, also vm.forthConsoleHandler() too\\n        and it is redefined in 3hta\\\\f\\\\jquery.f. So, both cr and forthConsoleHandler() need\\n        to use the new function vm.scroll2inputbox() so modify it should work.\\n        \\\\ window.scrollTo(0,endofinputbox.offsetTop) chang to vm.scroll2inputbox()\\n            [x]3ce/target.f [x]3hta,[x]3htm,[x]3nw,[x]3ce/quit.f [x]all forthConsoleHandler() \\n            [x]ce.f [ ]3htm/platform.f\\n        \\\\ Define vm.scroll2inputbox\\n            [x]jeforth.3nw.html, [x]jeforth.3ce.js, [x]jeforth.hta [x]jeforth.3htm.js\\n        [x] 搞懂 scrollTo, see YNote : \\\"圖解 HTML 網頁上的東西 element 的位置與寬高值 ScrollTo, width, Top, Height\\\"\\n            1. Blur 避免 forthConsoleHandler() 的作用。它總是把畫面焦點 scroll 到 inputbox 但是只針對\\n               inputbox:focus 的時候。所以若要控制畫面焦點就必須 blur 出 inputbox 否則會被它拉回去。\\n            2. js> endofinputbox js> elePlayarea insertAfter 之後就好了。\\n                js> endofinputbox.offsetTop \\\\ ==> 3088 (number) 用 F12 debugger 實驗,徹底了解每個值。\\n                js> endofinputbox.clientTop \\\\ ==> 0 (number)\\n                js> endofinputbox.scrollTop \\\\ ==> 0 (number)\\n                js> endofinputbox.clientTop \\\\ ==> 0 (number)\\n     [x] quit.f 最後一行應該是 \\targs tib.insert 而非 js: vm.scroll2inputbox();inputbox.focus()\\n            否則 tutor-cloth.f 控制 scrollTo for 開始位置變成被最後一行蓋掉而無效。\\n            [x]3thm quit,[x]3ce quit,[]3nw quit, []3hta quit \\n     [x] Font size not consistant either. <--- 整理, 把所有東西都納入 class=essay 範圍即可。\\n     [x] 最後印出 tutor-cloth.f 的 snipet 需要改進。 <-- Ok now. ^2016-06-01 18:18:25\\n\\n\\n\",\"mode\":true,\"readonly\":false}",
	"[Closed] dividend for 3nw" : "{\"doc\":\"[x] Error! tabs.query unknown. <---- dividend.f is for 3ce only\\n\\n\\\\ \\n\\\\ jeforth.3ce 讀取「臺灣銀行」的「除權除息表」並比對歷史，如果有新的就發出 alert。\\n\\\\ 應用 localStorage 貯存公司列表，所以關機重跑還是記得讀到過的公司。\\n\\\\\\n\\\\ 要手動先準備的部分\\n\\\\ 1. open the data page \\n\\\\    > js: window.open(\\\"http://fund.bot.com.tw/z/ze/zeb/zeba.djhtm\\\")\\n\\\\ 2. open 3ce page\\n\\\\ 3. Assign tabid\\n\\\\    > list-tabs \\\\ get tabid\\n\\\\      228 除權除息表-依股號\\n\\\\    > 228 tabid! \\\\ setup tabid \\n\\ns\\\" http://fund.bot.com.tw/z/ze/zeb/zeba.djhtm\\\" constant 除權除息表網址 // ( -- \\\"url\\\" )\\n除權除息表網址 js: push({url:pop()}) tabs.query ( [tabs] )\\njs> tos().length>=1 [if] [else] \\n    除權除息表網址 js: window.open(pop()) \\\\ 想取得該 tab 的 window object? No way! 別想了。\\n    cr .( 上網讀取【台灣銀行--除權除息表】網頁 ) cr \\n    [begin] \\n        除權除息表網址 js: push({url:pop()}) tabs.query ( [tabs] ) \\n        char . . 500 nap \\n        js> tos().length>=1 [if] true [else] false [then]\\n    [until] cr\\n[then]\\njs> pop()[0].id tabid! \\ncr .( 已成功讀取【台灣銀行--除權除息表】網頁 ) cr \\n\\n' Refresh_the_target_page ' check_updated and [if] \\n    Refresh_the_target_page check_updated\\n[else]\\n    : dump-all-<td>  ( -- ) \\\\ Dump all <td> table cells of tabid target page\\n      js> $(\\\"td\\\").length ( length )\\n      ?dup if dup for dup r@ - ( COUNT i ) \\n         >r\\n         js> $(\\\"td\\\")[rtos()].innerText \\\\ cell value\\n         js> $(\\\"td\\\")[rtos()].getAttribute(\\\"class\\\") dup if char _note_ + then\\n         js> $(\\\"td\\\")[rtos()].id dup if char _note_ + then\\n         r>\\n         .\\\" index:\\\" . .\\\"  ID: \\\" . .\\\"  Class: \\\" . space . cr \\\\ the cr provides an important nap time \\n      ( COUNT ) next drop then ; \\n      /// Run on jeforth.3ce target page\\n\\n    : dump-all-<tr>  ( -- ) \\\\ Dump all <tr> table rows of tabid target page\\n      js> $(\\\"tr\\\").length ( length )\\n      ?dup if dup for dup r@ - ( COUNT i ) \\n         >r\\n         js> $(\\\"tr\\\")[rtos()].outerHTML remove-script-from-HTML  remove-select-from-HTML \\\\ row HTML\\n         js> $(\\\"tr\\\")[rtos()].getAttribute(\\\"class\\\") dup if char _note_ + then\\n         js> $(\\\"tr\\\")[rtos()].id dup if char _note_ + then\\n         r>\\n         .\\\" index:\\\" . .\\\"  ID: \\\" . .\\\"  Class: \\\" . space </o> drop cr \\\\ the cr provides an important nap time \\n      ( COUNT ) next drop then ; \\n      /// Run on jeforth.3ce target page\\n    \\n    : Refresh_the_target_page ( -- ) \\\\ Refresh the tabid target page.\\n        tabid js: chrome.tabs.reload(pop())\\n        500 nap tabid tabs.get :> status!=\\\"complete\\\" if\\n            1500 nap \\\\ Do my best to allow the title to become available\\n            .\\\" Still loading \\\" tabid tabs.get :> title . space\\n            0 begin\\n                tabid tabs.get :> status==\\\"complete\\\" if 1+ then\\n                dup 5 > if ( TOS 餵給 until ) else \\\\ 5 complete to make sure it's very ready.\\n                    char . . 300 nap false\\n                then\\n            until .\\\"  done! \\\" cr\\n        then ;\\n        /// Improve this if the target page is unstable then we need to timeout and retry.\\n\\n    : find-next-company ( i -- i' ) \\\\ Find next 已公布除權息日的公司 in 台銀除權除息表 return index or zero.\\n        s\\\" var last_index = \\\" swap + [compile] </ce> \\\\ setup variable for the target page\\n        <ce>\\n        var next_index = 0;\\n        var array_td = document.getElementsByTagName(\\\"td\\\");\\n        for (var i=last_index+1; i<array_td.length; i++){\\n            if (array_td[i].id == \\\"oAddCheckbox\\\") { // 臺灣銀行的除權除息表才有這個 id \\n                next_index = i;\\n                break;\\n            }\\n        };\\n        next_index;\\n        </ceV> :> [0] ;\\n\\n    : company-name ( i -- name ) \\\\ Convert index of <td> to company name\\n        <ce> var array_td = document.getElementsByTagName(\\\"td\\\"); </ce>\\n        char array_td[ swap + char ].innerText + \\n        [compile] </ceV> :> [0] ;\\n\\n    : get-company-hash ( -- hash count ) \\\\ Get the company names of 台銀除權除息表。\\n        <ce> var array_td = document.getElementsByTagName(\\\"td\\\");</ce>\\n        {} ( hash ) 0 ( count ) 0 ( index ) begin \\n            find-next-company dup ( hash count idx' idx' ) \\n        while \\n            ( hash count idx' ) swap 1+ swap ( hash count++ idx' )\\n            dup company-name ( hash count++ idx' name )\\n            js: tos(3)[pop()]=true ( hash count++ idx' )\\n        repeat   ( hash count++ 0 ) drop ;\\n\\n    : save-company-hash ( hash -- ) \\\\ Save company hash to local storage key 'company-hash'.\\n        js> JSON.stringify(pop()) ( json )\\n        js: localStorage[\\\"company-hash\\\"]=pop() ;\\n        /// localStorage[\\\"company-hash\\\"] is JSON\\n\\n    : restore-company-hash ( -- hash ) \\\\ Read company hash from local storage key 'company-hash'.\\n        js> localStorage[\\\"company-hash\\\"] \\n        js> tos()==undefined if null else js> JSON.parse(pop()) then ;\\n        /// localStorage[\\\"company-hash\\\"] is JSON\\n\\n    : isSameHash ( h1 h2 -- boolean ) \\\\ Compare two hash table\\n        <js> \\n        var flag = true;\\n        for (var i in tos(1)){ // 兩頭各比一次\\n            if (tos()[i]!==true) flag = false;\\n            break;\\n        }; \\n        for (var i in tos()){ // 兩頭各比一次\\n            if (tos(1)[i]!==true) flag = false;\\n            break;\\n        }; execute(\\\"2drop\\\"); flag </jsV> ;\\n\\n    : check_updated ( -- ) \\\\ Check if 台銀除權除息表 is updated\\n        restore-company-hash ( hash0 ) obj>keys :> length if \\\\ Init check\\n            now t.dateTime . .\\\"  localStorage company hash = \\\" restore-company-hash dup (see)\\n            get-company-hash drop dup -rot isSameHash if ( company-hash )\\n                drop .\\\" , no update since the last check.\\\" cr\\n            else  ( company-hash )\\n                s\\\" , something new updated. Check it out!\\\" \\n                dup . cr js: alert(pop())\\n                dup (see) save-company-hash\\n            then\\n        else \\n            \\\\ initialize\\n            get-company-hash drop save-company-hash\\n        then ;\\n\\n    \\\\ Check every hour\\n    \\\\    run: begin Refresh_the_target_page check_updated 1000 60 * 60 * nap again\\n\\n    Refresh_the_target_page check_updated \\n[then]\\n\\n<comment>\\n\\n    \\\\ Obloleted words\\n    \\n    : count_oAddCheckbox ( -- n ) \\\\ Get the company count of 台銀除權除息表。\\n        0 ( count ) 0 ( index ) begin \\n            find-next-company dup ( count idx' idx' ) \\n        while \\n            ( count idx' ) swap 1+ swap \\n        repeat  ( count 0 ) drop ;\\n        /// Item count does not mean much, because the table cuts items \\n        /// before yesterday.\\n\\n    : check_oAddCheckbox_count ( -- ) \\\\ Check if 台銀除權除息表 is updated <== obsoleted\\n        js> localStorage.oAddCheckbox_count ( init check ) if\\n            now t.dateTime . .\\\"  localStorage.oAddCheckbox_count = \\\" js> localStorage.oAddCheckbox_count .\\n            count_oAddCheckbox js> localStorage.oAddCheckbox_count int = if\\n                .\\\" , no update since the last check.\\\" cr\\n            else\\n                s\\\" , something new updated. Check it out!\\\" \\n                dup . cr js: alert(pop())\\n                count_oAddCheckbox js: localStorage.oAddCheckbox_count=pop()\\n            then\\n        else \\n            \\\\ initialize\\n            count_oAddCheckbox\\n            js: localStorage.oAddCheckbox_count=tos()\\n            js> localStorage.oAddCheckbox_count!=pop() if\\n                s\\\" Error! Your browser does not support HTML5 localStorage.\\\" \\n                dup . cr \\\"msg\\\"abort\\n            then\\n        then ;\\n\\n</comment>\",\"mode\":true,\"readonly\":false}",
	"[Closed] 8 different ways to beautifully style your lists" : "{\"doc\":\"\\\\ http://www.marcofolio.net/css/8_different_ways_to_beautifully_style_your_lists.html\\ncls \\n\\n<o>\\n<div id=\\\"list1\\\">\\n<style>\\n \\n/* LIST #1 */\\n#list1 { }\\n#list1 ul { list-style:none; text-align:left; border-top:1px solid #eee; border-bottom:1px solid #eee; padding:10px 0; }\\n#list1 ul li { display:inline; text-transform:uppercase; padding:0 10px; letter-spacing:10px; }\\n#list1 ul li a { text-decoration:none; color:#eee; background-color:#333;}\\n#list1 ul li a:hover { text-decoration:underline;  color:#ffffff;text-transform:lowercase;}\\n</style>\\nThe most common use currently for using a list on your web page, is because \\nfor navigation. In this HTML/CSS example, the code is shown that creates a \\nsimple, minimalistic yet beautiful navigation structure.\\n   <ul>\\n      <li><a href=\\\"#\\\">Home</a></li>\\n      <li><a href=\\\"#\\\">Blog</a></li>      \\n      <li><a href=\\\"#\\\">About</a></li>\\n      <li><a href=\\\"#\\\">Contact</a></li>\\n   </ul>\\n</div>\\n</o>\\n\\n<o>\\n<div id=\\\"list2\\\">\\n<style>\\n/* LIST #2 */\\n#list2 { font-family: 'Trebuchet MS', 'Lucida Grande', Verdana, Lucida, Geneva, Helvetica, Arial, sans-serif;  }\\n#list2 ol {width:320px;  font-style:italic; font-family:Georgia, Times, serif; font-size:24px; color:#bfe1f1;background-color: #333;   }\\n#list2 ol li { }\\n#list2 ol li p { padding:8px; font-style:normal; font-family:Arial; font-size:13px; color:#eee; border-left: 1px solid #999; }\\n#list2 ol li p em { display:block; }\\n</style>\\n\\nThe problem with lists, is that you can't make the looks of the list be \\ndifferent than from the text. The number of the list always must have the \\nsame color and font as the text.\\n<p>\\nBut, by adding an extra element in the list-item, you can work around these \\nlimitations and create a very slick list. Here's how to do it:\\n\\n   <ol>\\n      <li><p><em>The Netherlands</em> is a country in ...sfssd sdflsdj sdfjs djs <p>dfsdf sdf<p>jsdfs</p></li>\\n      <li><p><em>The United States of America</em> is a federal constitutional ...</p></li>\\n      <li><p><em>The Philippines</em> officially known as the Republic ...</p></li>\\n      <li><p><em>The United Kingdom</em> of Great Britain and ...</p></li>\\n   </ol>\\n</div>\\n</o>\\n\\n<o>\\n<div id=\\\"list3\\\">\\n<style>\\n \\n/* LIST #3 */\\n#list3 {font-family:Georgia, Times, serif;}\\n#list3 ul { list-style-image: url(\\\"../images/arrow.png\\\"); color:#eee; background-color:#333;  font-size:18px; }\\n#list3 ul li { line-height:30px; }\\n</style>\\nYou can change the bullet style of an unorered list to some other build-in \\nvalues, but you can also change them into an image. This technique can make \\nyour list even prettier. Let's see how this is done.\\n   <ul>\\n      <li>Java</li>\\n      <li>.NET</li>\\n      <li>C++</li>\\n      <li>PHP</li>\\n   </ul>\\n</div>\\n</o>\\n\\n<o>\\nThis list is taken from the the iPhone Contacts App with CSS and jQuery. \\nIt shows the Contacts.app style list as you can see them on the iPhone. \\nJust a little bit more eye candy for your web site.\\n\\n<div id=\\\"list4\\\">\\n<style>\\n/* LIST #4 */\\n#list4 { width:320px; font-family:Georgia, Times, serif; font-size:15px; }\\n#list4 ul { list-style: none; }\\n#list4 ul li { }\\n#list4 ul li a { display:block; text-decoration:none; color:#000000; background-color:#FFFFFF; line-height:30px;\\n  border-bottom-style:solid; border-bottom-width:1px; border-bottom-color:#CCCCCC; padding-left:10px; cursor:pointer; }\\n#list4 ul li a:hover { color:#FFFFFF; background-color:#333; /*background-image:url(../images/hover.png);*/ background-repeat:repeat-x; }\\n#list4 ul li a strong { margin-right:10px; }\\n</style>\\n   <ul>\\n      <li><a href=\\\"#\\\"><strong>Toronto</strong>2004</a></li>\\n      <li><a href=\\\"#\\\"><strong>Beijing</strong>2008</a></li>\\n      <li><a href=\\\"#\\\"><strong>London</strong>2012</a></li>\\n      <li><a href=\\\"#\\\"><strong>Rio de Janeiro</strong>2016</a></li>\\n   </ul>\\n</div>\\n</o>\\n\\n<o>\\n<div id=\\\"list5\\\">\\n<style>\\n/* LIST #5 */\\n#list5 { color:#eee; background-color:#333; font-family: 'Trebuchet MS', 'Lucida Grande', Verdana, Lucida, Geneva, Helvetica, Arial, sans-serif; }\\n#list5 ol { font-size:18px; }\\n#list5 ol li { }\\n\\n#list5 ol li ol { list-style-image: url(\\\"../images/nested.png\\\"); padding:5px 0 5px 18px; font-size:15px; }\\n#list5 ol li ol li { color:#bfe1f1; height:15px; margin-left:10px; }\\n</style>\\nNested lists (lists inside lists) can be extremely useful and beautiful to style. \\nBy combining the third technique (Image bullets), we can create a \\\"expanded list\\\". \\nOf course, with the help of jQuery, you can make this expanding even work (but we'll \\nstick to CSS techniques only).\\n   <ol>\\n      <li>Google\\n         <ol>\\n            <li>Picasa</li>\\n            <li>Feedburner</li>\\n            <li>Youtube</li>\\n         </ol>\\n      </li>\\n      <li>Microsoft\\n         <ol>\\n            <li>Corel Corporation</li>\\n            <li>Zignals</li>\\n            <li>ByteTaxi</li>\\n         </ol>\\n      </li>\\n      <li>Yahoo!\\n         <ol>\\n            <li>Xoopit</li>\\n            <li>BuzzTracker</li>\\n            <li>MyBlogLog</li>\\n         </ol>\\n      </li>\\n   </ol>\\n</div>\\n</o>\\n\\n<o>\\n<div id=\\\"list6\\\">\\nBy default, an ordered list uses numbers (1, 2, 3, 4 etc.) as list style type. \\nBy changing this value in CSS, you can create other numbering systems, for \\nexample the roman numbering style.\\n<p>\\nAlso by default, a list displays it's bullets outside of the elements \\n(you can see this pretty good in example #2 - different font for numbering). \\nTo get around this, we'll need to change the list-style-position to make the \\nnumbering display inside.\\n<style> \\n/* LIST #6 */\\n#list6 { font-family: 'Trebuchet MS', 'Lucida Grande', Verdana, Lucida, Geneva, Helvetica, Arial, sans-serif; }\\n#list6 ol { list-style-type: upper-roman; color:#eee; background-color:#333; font-size:14px; list-style-position: inside; }\\n#list6 ol li { }\\n</style>\\n   <ol>\\n      <li>Lorem ipsum dolor sit amet, ...<br>Fusce sit amet ...</li>\\n      <li>Aenean placerat lectus tristique...<br>Vivamus interdum ...</li>\\n      <li>Mauris eget sapien arcu, vitae...<br>Phasellus neque risus...</li>\\n      <li>Phasellus feugiat lacus ...<br>Duis rhoncus ...</li>\\n   </ol>\\n</div>\\n</o>\\n\\n<o>\\n<div id=\\\"list7\\\">\\n<style type=\\\"text/css\\\">\\n/* LIST #7 */\\n#list7 { font-family: 'Trebuchet MS', 'Lucida Grande', Verdana, Lucida, Geneva, Helvetica, Arial, sans-serif;  }\\n#list7 ul { color:#eee;  background-color:#333; font-size:18px; font-family:Georgia, Times, serif; }\\n#list7 ul li { display: inline; }\\n#list7 ul li:after { content: \\\", \\\"; }\\n#list7 ul li.last:after { content: \\\". \\\"; } \\n</style>\\n<p>Lists are mostly used to display a number of items under each other,\\nin a totally new element. But what if you wanted an inline list? You \\ncan achieve this, by setting the display property to inline. But when \\nyou're in text, you can prefer to make it a comma seperated list. How \\nto achieve this? With the :after pseudo code.\\n   <ul>\\n      <li>First inline item</li>\\n      <li>Second inline item</li>\\n      <li>Third inline item</li>\\n      <li class=\\\"last\\\">Fourth inline item</li>\\n   </ul>\\n</div>\\n</o>\\n\\n<o>\\n<div id=\\\"list8\\\">\\n<p>Here's a last small technique that works with CSS3 \\n(Supported by the latest versions of Firefox, Safari, HTA and Chrome). \\nWhen hovering a block element, you'll get a rotated hover state. \\nMight not be that useful, but it can be beautiful to see.</p>\\n<style type=\\\"text/css\\\"> \\n/* LIST #8 */\\n#list8 { font-family: 'Trebuchet MS', 'Lucida Grande', Verdana, Lucida, Geneva, Helvetica, Arial, sans-serif;   }\\n#list8 ul { list-style:none; }\\n#list8 ul li { font-family:Georgia,serif,Times; font-size:18px; }\\n#list8 ul li a { display:block; width:300px; height:28px; background-color:#333; border-left:5px solid #222; border-right:5px solid #222; padding-left:10px;\\n  text-decoration:none; color:#bfe1f1; }\\n#list8 ul li a:hover {  -moz-transform:rotate(10deg); -moz-box-shadow:10px 10px 20px #000000;\\n  -webkit-transform:rotate(10deg); -webkit-box-shadow:10px 10px 20px #000000;\\n  transform:rotate(10deg); box-shadow:10px 10px 20px #000000; }\\n</style> \\n   <ul>\\n      <li><a href=\\\"#\\\">Home</a></li>\\n      <li><a href=\\\"#\\\">Blog</a></li>\\n      <li><a href=\\\"#\\\">About</a></li>\\n      <li><a href=\\\"#\\\">Contact</a></li>\\n   </ul>\\n</div>\\n</o>\\n\\n\",\"mode\":false,\"readonly\":true}",
    "[Closed] editor.f old code" : "{\"doc\":\"<comment> old code 看甚麼時候通通丟掉\\t\\n\\t\\n\\\\ log outputbox\\n\\n\\tchar ./log.json value log.json // ( -- pathname ) log.json pathname string as a variable. So we can change it.\\n\\n\\t: log.length ( -- length )  \\\\ Get the log.json array length\\n\\t\\tlog.json readTextFile js> JSON.parse(pop()) \\\\ 把整個 log.json 讀回來成一個 array。\\n\\t\\t:> length ; \\n\\n\\t: log.recall ( i -- )  \\\\ Recall the log.json[i] back to outputbox\\n\\t\\tlog.json readTextFile js> JSON.parse(pop()) \\\\ 把整個 log.json 讀回來成一個 array。\\n\\t\\t( i array ) over log.length swap ( i array log.length i ) \\n\\t\\ts\\\" --<br><h1> jeforth.3we developing log section \\\" swap \\n\\t\\t+ s\\\"  of 0~\\\" + swap 1- + s\\\" </h1>--<br>\\\" + </o> drop\\n\\t\\t( i array 留下防呆線索 ) [ last literal ] :: lastrecalled=tos(1) \\n\\t\\t( i array ) :> [pop()] <o>escape </o> drop ; \\n\\t\\t/// log.recall 是 read log 的基本命令, 其他的都靠它。\\n\\t\\t/// recall 出來放到最後面不破壞現有的 outputbox。\\n\\t\\t/// log.save or Ctrl-s 有危險性, 靠這裡留下防呆的機關: lastrecalled 與 log.length-1 要吻合。\\n\\t\\t/// No No No! Auto log.save current outputbox before recalling is a terrible idea.\\n\\t\\t\\n\\t: log.save ( -- ) \\\\ Save outputbox to log.json[last] replace the older.\\n\\t\\t['] log.recall :> lastrecalled 1+ log.length = if \\\\ lastrecalled 與 log.length-1 要吻合\\n\\t\\ttoggle-outputbox-edit-mode 50 nap ( 視覺效果 )\\n\\t\\tjs> outputbox :> innerHTML ( outputbox.innerHTML )\\n\\t\\tlog.json readTextFile js> JSON.parse(pop()) \\\\ 把整個 log.json 讀回來成一個 array。\\n\\t\\t:> slice(0,-1) dup ( outputbox.innerHTML array array ) :: push(pop(1))\\n\\t\\t( array ) js> JSON.stringify(pop()) log.json writeTextFile \\n\\t\\ttoggle-outputbox-edit-mode 50 nap ( 視覺效果 )\\n\\t\\tcr .\\\" log.saved :)\\\" cr \\n\\t\\telse cr .\\\" log.save canceled, lastrecalled and log.length-1 mismatch!\\\" cr \\n\\t\\tthen ;\\n\\t\\t\\n\\t: {s} ( -- bubbling ) \\\\ Same as log.save but is a Hotkey handler.\\n\\t\\tjs> event&&event.ctrlKey if \\n\\t\\t\\tlog.save \\n\\t\\t\\tfalse ( terminate bubbling ) \\n\\t\\telse \\n\\t\\t\\ttrue ( pass down the 's' key ) \\n\\t\\tthen ;\\n\\t\\t\\n\\t: cls ( -- ) \\\\ Clear jeforth console screen\\n\\t\\t['] log.recall :: lastrecalled=0 cls ;\\n\\t\\t/// Modified in editor.f to also clear log.recall :: lastrecalled.\\n\\n\\t: log.push ( -- ) \\\\ Push outputbox to log.json.\\n\\t\\tjs> outputbox :> innerHTML ( outputbox.innerHTML )\\n\\t\\tlog.json readTextFile js> JSON.parse(pop()) \\\\ 把整個 log.json 讀回來成一個 array。\\n\\t\\tdup ( outputbox.innerHTML array array ) :: push(pop(1))\\n\\t\\t( array ) js> JSON.stringify(pop()) log.json writeTextFile \\n\\t\\t<js> confirm(\\\"Want to confirm by recalling the last log section?\\\")</jsV>\\n\\t\\tif log.length 1- log.recall then ;\\n\\t\\t/// 這個應該用得不多，要臨時把 outputbox 保存起來時有用。\\n\\n\\t: log.open ( -- )  \\\\ Get the log.json[last] back to outputbox\\n\\t\\tlog.length ?dup if 1- log.recall then ;\\n\\t\\t\\n\\t: log.dump ( -- ) \\\\ Recall all log history\\n\\t\\tlog.length ?dup if dup for \\n\\t\\t\\tdup r@ - ( COUNT i ) \\n\\t\\t\\tlog.recall \\n\\t\\t\\t( COUNT ) \\n\\t\\tnext drop then \\n\\t\\ts\\\" <h1> ----- The end of jeforth.3we developing log ----- </h1><hr>\\\" </o> drop ;\\n\\t\\t\\n\\t: log.drop ( -- )  \\\\ Drop the TOS of log.json array.\\n\\t\\t<js> confirm(\\\"Top of log.json will be deleted, are you sure?\\\")</jsV> if\\n\\t\\tlog.json readTextFile js> JSON.parse(pop()) \\\\ 把整個 log.json 讀回來成一個 array。\\n\\t\\tdup :> pop() drop ( array ) js> JSON.stringify(pop()) log.json writeTextFile then ;\\n\\n\\t: log.roll ( i -- )  \\\\ Roll the specified item up to the top of the log.json stack.\\n\\t\\tlog.json readTextFile js> JSON.parse(pop()) \\\\ 把整個 log.json 讀回來成一個 array。\\n\\t\\t( i array ) dup :> splice(pop(1),1) over :: push(pop()[0]) ( array' )\\n\\t\\tjs> JSON.stringify(pop()) log.json writeTextFile log.open ;\\n\\n\\t: log.pop ( -- )  \\\\ Pop log.json back to outputbox\\n\\t\\tlog.open log.drop ;\\n\\n\\t: log.overwrite ( -- ) \\\\ Drop older log.json, save outputbox to log.json[0]\\n\\t\\t<js> confirm(\\\"Overwrite the entire jason.log! Are yous sure?\\\")</jsV> if\\n\\t\\tjs> outputbox :> innerHTML ( outputbox.innerHTML )\\n\\t\\t[] dup ( outputbox.innerHTML array array ) :: push(pop(1))\\n\\t\\t( array ) js> JSON.stringify(pop()) log.json writeTextFile then ;\\n\\t\\t/// 這個應該都用不著，要小心。\\n\\t\\t\\n\\\\ edit-zone\\t\\t\\n\\n\\t{} constant edit-zone  // ( -- hash ) edit-zone hash table.\\n\\t\\t\\t\\t\\t\\t/// Can be closed don't use array.\\n\\t\\t\\t\\t\\t\\t/// {id:div1, id2:div2, ... }\\n\\n\\t: edit-zone-load ( id -- ) \\\\ Load the editing file\\n\\t\\t( id ) dup char -pathname + ( id id-pathname )\\n\\t\\tjs> window[pop()].innerText trim ( id pathname ) readTextFile ( id file )\\n\\t\\tjs: window[pop(1)].innerHTML=pop() ;\\n\\t   \\n\\t: edit-zone-save ( id -- ) \\\\ Save the editing file\\n\\t\\t( id ) dup char -pathname + ( id id-pathname ) \\n\\t\\tjs> window[pop()].innerText trim ( id pathname )  \\n\\t\\tswap ( pathname id ) js> window[pop()].innerHTML ( pathname HTML ) \\n\\t\\tswap  ( HTML pathname ) writeTextFile ;\\n\\n\\t: edit-zone-close ( id -- ) \\\\ Delete the edit-zone, drop the data\\n\\t\\tdup edit-zone :> [pop()] ( id DIV ) removeElement \\n\\t\\t( id ) edit-zone js: delete(pop()[pop()]) ;\\n\\t\\t\\n\\t: edit-zone-moveup ( id -- ) \\\\ Move the edit-zone up before its previousSibling\\n\\t\\tedit-zone :> [pop()] ( DIV ) \\n\\t\\tdup :> previousSibline ( DIV previous ) \\n\\t\\t?dup if insertBefore else drop then ;\\n\\n\\t: edit-zone-movedown ( id -- ) \\\\ Move the edit-zone down under its nextSibling\\n\\t\\tedit-zone :> [pop()] ( DIV ) \\n\\t\\tdup :> nextSibline ( DIV next ) \\n\\t\\t?dup if insertAfter else drop then ;\\n\\n\\t: create-edit-zone ( pathname -- ) \\\\ Create an edit-zone\\n\\t\\t\\\\ GetAbsolutePathName dup GetFileName ( pathname filename )\\n\\t\\tdup :> match(/(.*[\\\\\\\\/])(.+)$/) ( pathname [orig,path,name] )\\n\\t\\t?dup if js> pop()[2] else dup then ( pathname filename )\\n\\t\\tdup char edit-zone- swap + ( pathname filename edit-zone-filename )\\n\\t\\trandom 1000 * int + ( pathname filename edit-zone-filename999 )\\n\\t\\t-rot ( id pathname filename )\\n\\t\\t<text> <div style=\\\"border: 2px solid white;\\\">\\n\\t\\t\\t<p>\\n\\t\\t\\t<span style=\\\"font-size:2em\\\">_filename_</span>\\n\\t\\t\\t/* <span> to make it an element avoid being erased by er */ \\n\\t\\t\\t<input type=button value=Save  onclick=\\\"vm.push('_id_');vm.execute('edit-zone-save')\\\" />\\n\\t\\t\\t<input type=button value=Close onclick=\\\"vm.push('_id_');vm.execute('edit-zone-close')\\\" />\\n\\t\\t\\t<input type=button value=MoveUp onclick=\\\"vm.push('_id_');vm.execute('edit-zone-moveup')\\\" />\\n\\t\\t\\t<input type=button value=MoveDown onclick=\\\"vm.push('_id_');vm.execute('edit-zone-movedown')\\\" />\\n\\t\\t\\t<span id=\\\"_id_-pathname\\\" style=\\\"font-size:0.8em\\\"> _pathname_</span>\\n\\t\\t\\t</p>\\n\\t\\t\\t<hr><div id=\\\"_id_\\\" contentEditable=true></div><hr>\\n\\t\\t\\t<p>&nbsp;\\n\\t\\t\\t<input type=button value=Save  onclick=\\\"vm.push('_id_');vm.execute('edit-zone-save')\\\" />\\n\\t\\t\\t<input type=button value=Close onclick=\\\"vm.push('_id_');vm.execute('edit-zone-close')\\\" />\\n\\t\\t\\t<input type=button value=MoveUp onclick=\\\"vm.push('_id_');vm.execute('edit-zone-moveup')\\\" />\\n\\t\\t\\t<input type=button value=MoveDown onclick=\\\"vm.push('_id_');vm.execute('edit-zone-movedown')\\\" />\\n\\t\\t\\t</p>\\n\\t\\t</div></text> /*remove*/\\n\\t\\t:> replace(/_filename_/gm,pop()).replace(/_pathname_/gm,pop()).replace(/_id_/gm,tos()) ( id )\\n\\t\\t</o>\\n\\t\\tce! er ce@ swap ( ce@ id ) edit-zone :: [tos()]=pop(1) \\n\\t\\tce@ js> outputbox insertBefore ( id ) edit-zone-load ;\\n\\t\\t/// id is the editing <div>\\n\\t\\t\\n\\t: open ( -- ) \\\\ Open a HTML file to edit\\n\\t\\tpickFile ?dup if create-edit-zone then ;\\n\\t\\t\\n\\t\\\\ -----------------\\n\\t\\\\ HTML editing has a problem. HTML tags can be arranged in strangely that make the document\\n\\t\\\\ difficult to edit. This solution is making every element's border visible so as to reduce the\\n\\t\\\\ difficulty.\\n\\n\\ts\\\" thin solid black\\\" constant border-style // ( -- \\\"style\\\" ) CSS style to mark on all elements\\n\\tjs> outputbox value bordered-div  // ( -- element ) The target DIV to be bordered\\n\\n\\t: border-on ( -- ) \\\\ Mark bordered-div's children with border-style.\\n\\t\\t\\t\\t\\tbordered-div :> childNodes.length for\\n\\t\\t\\t\\t\\t\\tr@ 1- bordered-div :> childNodes[pop()].style if \\\\ no style, #text I guess, do nothing.\\n\\t\\t\\t\\t\\t\\t\\tr@ 1- bordered-div :> childNodes[pop()].style.border \\\\ get original border\\n\\t\\t\\t\\t\\t\\t\\tr@ 1- bordered-div :: childNodes[pop()].orig_border=pop() \\\\ save to orig_border\\n\\t\\t\\t\\t\\t\\t\\tborder-style r@ 1- bordered-div :: childNodes[pop()].style.border=pop()\\n\\t\\t\\t\\t\\t\\tthen\\n\\t\\t\\t\\t\\tnext ; compile-only \\n\\t\\t\\t\\t\\t/// Don't use this command directly, avoid disterbing save-restore orig_border.\\n\\t\\t\\t\\t\\t/// So I make it a compile-only. Use ~-toggle instead.\\n\\n\\t: border-off ( -- ) \\\\ Unmark outputbox's children\\n\\t\\t\\t\\t\\tbordered-div :> childNodes.length for\\n\\t\\t\\t\\t\\t\\tr@ 1- bordered-div :> childNodes[pop()].orig_border ?dup \\n\\t\\t\\t\\t\\t\\tif \\\\ restore\\n\\t\\t\\t\\t\\t\\t\\tr@ 1- bordered-div :: childNodes[pop()].style.border=pop() \\\\ restore orig_border\\n\\t\\t\\t\\t\\t\\t\\tr@ 1- bordered-div :: childNodes[pop()].orig_border=\\\"\\\" \\\\ clear orig_border\\n\\t\\t\\t\\t\\t\\telse \\\\ no restore just clean\\n\\t\\t\\t\\t\\t\\t\\tr@ 1- bordered-div :> childNodes[pop()].style if\\n\\t\\t\\t\\t\\t\\t\\tr@ 1- bordered-div :: childNodes[pop()].style.border=\\\"\\\"\\n\\t\\t\\t\\t\\t\\t\\tthen\\n\\t\\t\\t\\t\\t\\tthen\\n\\t\\t\\t\\t\\tnext ; \\n\\n\\t: border-toggle ( -- ) \\\\ Help {backSpace} not to delete useful data.\\n\\t\\t\\t\\t\\tbordered-div :> bordered if \\\\ check recent state\\n\\t\\t\\t\\t\\t\\tborder-off\\n\\t\\t\\t\\t\\t\\tbordered-div :: bordered=false \\\\ Yes, we can add properties to an element\\n\\t\\t\\t\\t\\telse\\n\\t\\t\\t\\t\\t\\tborder-on\\n\\t\\t\\t\\t\\t\\tbordered-div :: bordered=true\\n\\t\\t\\t\\t\\tthen ;\\n\\n\\\\ TR Tracking Record System\\n\\n\\t: tr.style ( -- styleElement ) \\\\ Setup Tracking Record (tr) table style in <head>\\n\\t\\t[ last literal ] :> style ?dup if ( return the style element ) else\\n\\t\\t\\t<text>\\n\\t\\t\\t\\t<style>\\n\\t\\t\\t\\t\\t.tr table, .tr td { \\n\\t\\t\\t\\t\\t\\tborder:_borderSize_ solid gray; /* HTA 省略 \\\"solid black\\\" 結果怪異 */\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t/* \\n\\t\\t\\t\\t\\t\\t看到表格邊線怪異時,不要急著改參數, Zoom in/Zoom out 可能就好了， 或者試試別\\n\\t\\t\\t\\t\\t\\t的 Web Browser。_borderSize_ 用 0.075em 似乎比較能避免 HTA zoom in/out 邊線\\n\\t\\t\\t\\t\\t\\t變樣，Chrome 沒有這個問題。\\n\\t\\t\\t\\t\\t*/\\n\\t\\t\\t\\t</style>\\n\\t\\t\\t</text> \\n\\t\\t\\t:> replace(/[/]\\\\*(.|\\\\r|\\\\n)*?\\\\*[/]/mg,\\\"\\\") \\\\ 清除 /* 註解 */\\n\\t\\t\\t:> replace(/_borderSize_/mg,\\\"0.075em\\\")   \\\\ 設定表格邊線的 size\\n\\t\\t\\t</h> \\n\\t\\t\\t[ last literal ] :> style=pop()\\n\\t\\tthen ; interpret-only\\n\\t\\t/// Return the styleElement in case we want to modify it.\\n\\tlast execute drop \\\\ setup the TR style in the <head>\\n\\n\\t: is#text? ( -- {node,offset} true|false ) \\\\ If the anchorNode is #text return a subset of the selection object\\n\\t\\tjs> getSelection() ( selection-object )\\n\\t\\tdup :> anchorNode.nodeName==\\\"#text\\\" if\\n\\t\\t\\t( selection ) js: push({node:tos().anchorNode,offset:pop().anchorOffset}) true\\n\\t\\telse drop false then ;\\n\\t\\t/// Selection object from getSelection() is volatile, return its subset instead.\\n\\t\\t/// Example:\\n\\t\\t///   run: now t.dateTime is#text? if paste-string then \\\\ Ctrl-enter to paste date-time\\n\\n    : paste-string ( \\\"string\\\" {node,offset} -- ) \\\\ Paste the string to a #text anchorNode\\n        js> tos().node.nodeValue.slice(0,tos().offset)+pop(1)+tos().node.nodeValue.slice(tos().offset) ( {node,offset} \\\"new string\\\" )\\n        js: pop(1).node.nodeValue=pop() ;\\n\\t\\t/// Example:  \\n\\t\\t///   <o> <h1>test</h1></o> <js>\\n\\t\\t///   pop().onclick=function(e){dictate('is#text? [if] dup :: node.nodeValue=\\\"\\\" now t.dateTime swap paste-string [then]')} </js>\\n\\t\\t/// Example:\\n\\t\\t///   run: now t.dateTime is#text? if paste-string then \\\\ Ctrl-enter to paste date-time\\n\\n\\t: textarea.readonly ( -- ) \\\\ Make all <textarea>, except inputbox, read-only.\\n\\t\\tjs> $('textarea').length for \\n\\t\\t\\tr@ js> $('textarea')[pop()-1].readOnly=true \\n\\t\\tnext js: inputbox.readOnly=false ;\\n\\t\\t/// See also textarea.editable.\\n\\t\\t/// textarea.readOnly=true\\n\\n\\t: textarea.editable ( -- ) \\\\ Let all <textarea> editable.\\n\\t\\tjs> $('textarea').length for \\n\\t\\t\\tr@ js> $('textarea')[pop()-1].readOnly=false\\n\\t\\tnext ;\\n\\t\\t/// See also textarea.readonly.\\n\\t\\t/// textarea.readOnly=false\\n\\n\\t: (tr.parent) ( node -- tr ) \\\\ Get the parent TR object of the given node/element.\\n\\t\\tjs> $(pop()).parents('.tr')[0] ( tr ) ;\\n\\n\\t: tr.parent ( -- ele ) \\\\ Get the parent TR object of the recent anchorNode\\n\\t\\tjs> getSelection().anchorNode ?dup if ( anchorNode )\\n\\t\\telse  ( empty ) \\\\ Must be in a textarea I guess\\n\\t\\t\\tjs> $(\\\"textarea:focus\\\")[0] ( textarea==anchorNode )\\n\\t\\tthen ( anchorNode ) (tr.parent) ( tr ) ;\\n\\t\\t/// Click anywhere in a TR, this command gets you the TR object.\\n\\t\\t\\n\\t: trbutton.edit ( btn -- ) \\\\ In the TR, all span.contentEditable true, and all textarea editable.\\n\\t    \\\\ The input object is usually the [edit] button, but it can be any node of the TR.\\n\\t\\t(tr.parent) ( tr ) \\n\\t\\t<js> \\n\\t\\tif (tos().disabled) { pop() } else {\\n\\t\\t\\t$('span',tos()).each(function(e){\\n\\t\\t\\t\\tthis.contentEditable=true;\\n\\t\\t\\t\\tif(!this.isContentEditable) alert(\\\"Failed to contentEditable!\\\\n\\\"+this.outerHTML);\\n\\t\\t\\t})\\n\\t\\t\\t$('textarea',pop()).each(function(e){\\n\\t\\t\\t\\tthis.readOnly=false;\\n\\t\\t\\t\\tif(this.readOnly) alert(\\\"Failed NOT to be read-only!\\\\n\\\"+this.outerHTML);\\n\\t\\t\\t})\\n\\t\\t}\\n\\t\\t</js> ;\\n\\t\\t\\n\\t: trbutton.readonly ( btn -- ) \\\\ In the TR, all span.contentEditable false, and all textarea read-only.\\n\\t    \\\\ The input object is usually the [readonly] button, but it can be any node of the TR.\\n\\t\\t(tr.parent) ( tr ) \\n\\t\\t<js> \\n\\t\\t$('span',tos()).each(function(e){\\n\\t\\t\\tthis.contentEditable=false;\\n\\t\\t\\tif(this.isContentEditable) alert(\\\"Failed to ~contentEditable!\\\\n\\\"+this.outerHTML);\\n\\t\\t})\\n\\t\\t$('textarea',pop()).each(function(e){\\n\\t\\t\\tthis.readOnly=true;\\n\\t\\t\\tif(!this.readOnly) alert(\\\"Failed to be read-only!\\\\n\\\"+this.outerHTML);\\n\\t\\t})\\n\\t\\t</js> ;\\n\\n\\t: trbutton.add ( btn -- ) \\\\ Add a [Description][textarea][attachments] section.\\n\\t    \\\\ The input object is usually the [add] button, but it can be any node of the TR.\\n\\t\\t(tr.parent) ( tr ) dup :> disabled if drop exit then\\n\\t\\tjs> $(\\\".trbody\\\",pop())[0] \\\\ Assume only one trbody in the tr.table\\n\\t\\tjs> tos().innerHTML ( trbody html )\\n\\t\\ts\\\" <p><span>Description</span><textarea class=trtextarea></textarea><span>Attachments</span>\\\" + ( trbody html' )\\n\\t\\tjs: pop(1).innerHTML=pop() ;\\n\\n\\t: trbutton.close ( btn -- ) \\\\ Close the TR.\\n\\t    \\\\ The input object is usually the [close] button, but it can be any node of the TR.\\n\\t\\tdup trbutton.readonly (tr.parent) ( tr ) :: disabled=true ;\\n\\t\\t/// 把 contentEditable 都關掉, textarea 都 read-only 然後把 tr disable.\\n\\n\\t: trbutton.reopen ( btn -- ) \\\\ Reopen the TR.\\n\\t    \\\\ The input object is usually the [reopen] button, but it can be any node of the TR.\\n\\t\\tdup trbutton.edit (tr.parent) ( tr ) :: disabled=false ;\\n\\t\\t/// 把 contentEditable=true textarea read-only=false tr disabled=false.\\n\\n\\t: trbutton.stamp ( btn -- ) \\\\ Stamp the modified date-time of the TR.\\n\\t    \\\\ The input object is usually the [stamp] button, but it can be any node of the TR.\\n\\t\\t(tr.parent) ( tr ) dup :> disabled if drop exit then\\n\\t\\tnow t.dateTime js: $(\\\".trmodified\\\",pop(1))[0].innerHTML=pop() ;\\n\\n\\t: tr.init-buttons ( tr -- tr ) \\\\ Initialize buttons of the TR table.\\n\\t\\t<js> $(\\\".tradd\\\",     tos())[0].onclick=function(e){push(this);vm.execute(\\\"trbutton.add\\\");     return(false)}</js>\\n\\t\\t<js> $(\\\".tredit\\\",    tos())[0].onclick=function(e){push(this);vm.execute(\\\"trbutton.edit\\\");    return(false)}</js>\\n\\t\\t<js> $(\\\".trreadonly\\\",tos())[0].onclick=function(e){push(this);vm.execute(\\\"trbutton.readonly\\\");return(false)}</js>\\n\\t\\t<js> $(\\\".trclose\\\",   tos())[0].onclick=function(e){push(this);vm.execute(\\\"trbutton.close\\\");   return(false)}</js>\\n\\t\\t<js> $(\\\".trreopen\\\",  tos())[0].onclick=function(e){push(this);vm.execute(\\\"trbutton.reopen\\\");  return(false)}</js>\\n\\t\\t<js> $(\\\".trstamp\\\",   tos())[0].onclick=function(e){push(this);vm.execute(\\\"trbutton.stamp\\\");   return(false)}</js> \\n\\t\\tdrop ;\\n\\t\\t/// TOS is the TR element. Click anywhere in the TR, Ctrl-Enter \\n\\t\\t/// to execute tr.parent, then you get the TR element.\\n\\n\\tcode tr.init ( -- ) \\\\ Initialize all TRs\\n\\t\\tvar aa = $('.tr');\\n\\t\\tfor (var i=0; i<aa.length; i++) { \\n\\t\\t\\tpush(aa[i]);\\n\\t\\t\\texecute(\\\"tr.init-buttons\\\");\\n\\t\\t}\\n\\t\\tend-code\\n\\t\\t\\n\\t: tr.table ( -- trElement ) \\\\ Create a Tracking Record (tr) table on outputbox\\n\\t\\t<text> <div class=tr><table width=96%/*留白供touch screen scrolling*/ cellspacing=0 cellpadding=4>\\n\\t\\t\\t<tbody>\\n\\t\\t\\t<tr class=trheader>\\t\\t\\t\\t\\n\\t\\t\\t\\t<td align=center width=12% class=trcreated style=\\\"font-size:0.8em;\\\"><span>_now_</span></td>\\n\\t\\t\\t\\t<td align=left class=trabstract><span>Abstract</span></td>\\n\\t\\t\\t\\t<td align=center width=12% class=trmodified style=\\\"font-size:0.8em\\\"><span>[ ]</span></td>\\n\\t\\t\\t</tr>\\n\\t\\t\\t<tr>\\n\\t\\t\\t\\t<td colspan=3 class=trbody> </td>\\n\\t\\t\\t</tr>\\n\\t\\t\\t<tr class=trbuttons>\\n\\t\\t\\t\\t<td colspan=3>\\n\\t\\t\\t\\t\\t<input type=button value='Add' class=tradd>\\n\\t\\t\\t\\t\\t<input type=button value='Edit' class=tredit>\\n\\t\\t\\t\\t\\t<input type=button value='Read only' class=trreadonly>\\n\\t\\t\\t\\t\\t<input type=button value='Close' class=trclose>\\n\\t\\t\\t\\t\\t<input type=button value='Reopen' class=trreopen>\\n\\t\\t\\t\\t\\t<input type=button value='Stamp' class=trstamp>\\n\\t\\t\\t\\t</td>\\n\\t\\t\\t</tr>\\n\\t\\t\\t</tbody>\\n\\t\\t</table></div></text> \\n\\t\\t:> replace(/[/]\\\\*(.|\\\\r|\\\\n)*?\\\\*[/]/mg,\\\"\\\") \\\\ clean /* comments */ \\n\\t\\tnow t.dateTime swap :> replace(/_now_/mg,pop()) \\\\ Created date-time\\n\\t\\t</o> ( tr-element ) dup tr.init-buttons\\n\\t\\tjs: $(\\\".tradd\\\",pop())[0].click()\\n\\t\\t; interpret-only\\n\\n\\\\ -- End --\\n\\n\\n\\tchar %HOMEDRIVE%%HOMEPATH%\\\\Documents\\\\GitHub\\\\jeforth.3we\\\\playground\\\\ env@\\n\\tvalue working-directory // ( -- \\\"path\\\" ) \\n\\n\\tchar c:\\\\Users\\\\hcche\\\\Documents\\\\GitHub\\\\jeforth.3we\\\\playground\\\\editor-study.html \\n\\tvalue pathname // ( -- \\\"pathname\\\" ) Path/Filename of the working document\\n\\n\\tnull value article // ( -- objArticle ) The DIV world of the file to be edited.\\n\\t<text>\\n\\t\\t<h> /* <h>..</h> 是寫東西進 HTML 的 <head> 裡 */\\n\\t\\t\\t<style id=mystyle type=\\\"text/css\\\">\\n\\t\\t\\t\\t/* 整篇文章的默認設定 */\\n\\t\\t\\t\\t.default { \\n\\t\\t\\t\\t\\t/* https://zh.wikipedia.org/zh-tw/Font_family_(HTML) */\\n\\t\\t\\t\\t\\t/* https://zh.wikipedia.org/wiki/%E9%BB%91%E4%BD%93_(%E5%AD%97%E4%BD%93) */\\n\\t\\t\\t\\t\\t/* 微軟正黑(tw) Microsoft JhengHei; 微軟雅黑(cn) Microsoft Yahei; */\\n\\t\\t\\t\\t\\t/* 標楷體(tw) DFKai-SB;  courier new; */\\n\\t\\t\\t\\t\\tfont-family: Microsoft JhengHei;  /* 微軟正黑(tw) */\\n\\t\\t\\t\\t\\tletter-spacing: 0px;\\n\\t\\t\\t\\t\\tline-height: 160%;\\n\\t\\t\\t\\t\\ttab-size:4; /* IE,Edge 無效(hcchen5600 2015/12/07 11:51:34); Chrome 有效  */\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t/* <code> 除了 style 還標示要做 < &lt; > &gt; 轉換的區域，所以一定是最內層 */\\n\\t\\t\\t\\tcode { \\n\\t\\t\\t\\t\\tfont-family: courier new;\\n\\t\\t\\t\\t\\tfont-size: 110%; /* 通常夾在字裡行間 courier 的筆畫細所以要大一點 */\\n\\t\\t\\t\\t\\tbackground: #E0E0E0; /* <code> 夾在字裡行間時凸顯之 */\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t/* .commandline 跟 .source 能不能合併成 .code 一個就好，大家都用？ */\\n\\t\\t\\t\\t.commandline { /* 用來修飾 <table class=commandline> */\\n\\t\\t\\t\\t\\twidth: 90%;\\n\\t\\t\\t\\t\\tbackground: #E0E0E0; /* <code> */\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t.source {  /* 用來修飾 <code class=source> */\\n\\t\\t\\t\\t\\tfont-size: 100%;   /* against the in-line bigger font-size of <code> */\\n\\t\\t\\t\\t\\tline-height: 120%; /* against the default */\\n\\t\\t\\t\\t}\\n\\t\\t\\t</style>\\n\\t\\t</h> drop \\\\ /* 丟掉 <h>..</h> 留下來的 <style> element object, 用不著 */\\n\\t</text> \\n\\t/*remove*/ \\t\\t\\\\ :> replace(/\\\\/\\\\*(.|\\\\r|\\\\n)*?\\\\*\\\\//mg,\\\"\\\") \\\\ 清除註解。\\n\\tunindent \\t\\t\\\\ handle all <unindent >..</unindent > sections\\n\\t<code>escape\\t\\\\ convert \\\"<>\\\" to \\\"&lt;&gt;\\\" in code sections\\n\\ttib.insert\\t\\t\\\\ execute the string on TOS\\n\\n\\t: save ( -- ) \\\\ Save the editing document\\n\\t\\tarticle if \\\\ avoid destroy the file with empty\\n\\t\\t\\tjs> mystyle.length \\\\ 可能跟 editor.f 的重複定義了\\n\\t\\t\\tif js> mystyle[mystyle.length-1] \\\\ 用最後一個\\n\\t\\t\\telse js> mystyle then \\n\\t\\t\\t( mystyle ) :> outerHTML+myarticle.outerHTML\\n\\t\\t\\tpathname writeTextFile \\n\\t\\tthen \\n\\t\\t;\\n\\n\\t: save-as ( \\\"path-name\\\" -- ) \\\\ Save the editing document to the specified pathname\\n\\t\\tcr .\\\" Sorry, under constructing \\\" cr ;\\n\\n\\t: open ( -- ) \\\\ Prompt for a file to edit\\n\\t\\tpickFile to pathname\\n\\t\\tpathname readTextFile ( file ) js> tos().length if\\n\\t\\t\\tarticle if article :: innerHTML=\\\"\\\" ( 有的話清除現有頁面 ) else \\n\\t\\t\\t<o> <div style=\\\"background-color:white\\\"></div></o> to article ( 沒現成就新建頁面 )\\n\\t\\t\\tarticle js> outputbox insertBefore ( 新建的默認放在 outputbox 之前 )\\n\\t\\t\\tthen article :: innerHTML=pop() \\n\\t\\telse \\n\\t\\t\\t.\\\" Warning! can't read the file: \\\" pathname . cr \\n\\t\\t\\tarticle if article :: innerHTML=\\\"\\\" ( 有的話清除現有頁面 ) then\\n\\t\\t\\tnull to article \\n\\t\\tthen ;\\n\\t\\t\\n\\t: hide ( -- ) \\\\ 暫時把文章 hide() 起來\\n\\t\\tarticle js: $(pop()).hide() ;\\n\\t\\t\\n\\t: show ( -- ) \\\\ 把文章 show() 回來\\n\\t\\tarticle js: $(pop()).show() ;\\n\\t\\t\\n</comment>\",\"mode\":true,\"readonly\":false}"	
}
